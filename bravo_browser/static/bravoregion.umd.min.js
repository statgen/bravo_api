(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["bravoregion"]=e():t["bravoregion"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"01f9":function(t,e,n){"use strict";var o=n("2d00"),i=n("5ca1"),r=n("2aba"),a=n("32e9"),s=n("84f2"),l=n("41a0"),c=n("7f20"),u=n("38fd"),d=n("2b4c")("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",f="keys",m="values",g=function(){return this};t.exports=function(t,e,n,v,y,b,w){l(n,e,v);var C,x,E,_=function(t){if(!h&&t in k)return k[t];switch(t){case f:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},M=e+" Iterator",R=y==m,S=!1,k=t.prototype,T=k[d]||k[p]||y&&k[y],L=T||_(y),D=y?R?_("entries"):L:void 0,F="Array"==e&&k.entries||T;if(F&&(E=u(F.call(new t)),E!==Object.prototype&&E.next&&(c(E,M,!0),o||"function"==typeof E[d]||a(E,d,g))),R&&T&&T.name!==m&&(S=!0,L=function(){return T.call(this)}),o&&!w||!h&&!S&&k[d]||a(k,d,L),s[e]=L,s[M]=g,y)if(C={values:R?L:_(m),keys:b?L:_(f),entries:D},w)for(x in C)x in k||r(k,x,C[x]);else i(i.P+i.F*(h||S),e,C);return C}},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"097d":function(t,e,n){"use strict";var o=n("5ca1"),i=n("8378"),r=n("7726"),a=n("ebd6"),s=n("bcaa");o(o.P+o.R,"Promise",{finally:function(t){var e=a(this,i.Promise||r.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},"0a06":function(t,e,n){"use strict";var o=n("c532"),i=n("30b5"),r=n("f6b4"),a=n("5270"),s=n("4a7b");function l(t){this.defaults=t,this.interceptors={request:new r,response:new r}}l.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=s(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));while(e.length)n=n.then(e.shift(),e.shift());return n},l.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}})),o.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,i){return this.request(o.merge(i||{},{method:t,url:e,data:n}))}})),t.exports=l},"0a49":function(t,e,n){var o=n("9b43"),i=n("626a"),r=n("4bf8"),a=n("9def"),s=n("cd1c");t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,d=6==t,h=5==t||d,p=e||s;return function(e,s,f){for(var m,g,v=r(e),y=i(v),b=o(s,f,3),w=a(y.length),C=0,x=n?p(e,w):l?p(e,0):void 0;w>C;C++)if((h||C in y)&&(m=y[C],g=b(m,C,v),t))if(n)x[C]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return C;case 2:x.push(m)}else if(u)return!1;return d?-1:c||u?u:x}}},"0d58":function(t,e,n){var o=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return o(t,i)}},"0df6":function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"0e09":function(t,e,n){},"0fc9":function(t,e,n){var o=n("3a38"),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},1169:function(t,e,n){var o=n("2d95");t.exports=Array.isArray||function(t){return"Array"==o(t)}},"11e9":function(t,n,o){var i=o("52a7"),r=o("4630"),a=o("6821"),s=o("6a99"),l=o("69a8"),c=o("c69a"),u=Object.getOwnPropertyDescriptor;n.f=o("9e1e")?u:function(t,n){if(t=a(t),n=s(n,!0),c)try{return u(t,n)}catch(e){}if(l(t,n))return r(!i.f.call(t,n),t[n])}},1495:function(t,e,n){var o=n("86cc"),i=n("cb7c"),r=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);var n,a=r(e),s=a.length,l=0;while(s>l)o.f(t,n=a[l++],e[n]);return t}},"14ea":function(t,e,n){"use strict";var o=n("4e46"),i=n.n(o);i.a},1654:function(t,e,n){"use strict";var o=n("71c1")(!0);n("30f1")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})}))},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},1991:function(t,e,n){var o,i,r,a=n("9b43"),s=n("31f4"),l=n("fab2"),c=n("230e"),u=n("7726"),d=u.process,h=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,v={},y="onreadystatechange",b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},w=function(t){b.call(t.data)};h&&p||(h=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},o(g),g},p=function(t){delete v[t]},"process"==n("2d95")(d)?o=function(t){d.nextTick(a(b,t,1))}:m&&m.now?o=function(t){m.now(a(b,t,1))}:f?(i=new f,r=i.port2,i.port1.onmessage=w,o=a(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(o=function(t){u.postMessage(t+"","*")},u.addEventListener("message",w,!1)):o=y in c("script")?function(t){l.appendChild(c("script"))[y]=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:h,clear:p}},"1af6":function(t,e,n){var o=n("63b6");o(o.S,"Array",{isArray:n("9003")})},"1bc3":function(t,e,n){var o=n("f772");t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"1d2b":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return t.apply(e,n)}}},"1ec9":function(t,e,n){var o=n("f772"),i=n("e53d").document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},"1fa8":function(t,n,o){var i=o("cb7c");t.exports=function(t,n,o,r){try{return r?n(i(o)[0],o[1]):n(o)}catch(e){var a=t["return"];throw void 0!==a&&i(a.call(t)),e}}},"20fd":function(t,e,n){"use strict";var o=n("d9f6"),i=n("aebd");t.exports=function(t,e,n){e in t?o.f(t,e,i(0,n)):t[e]=n}},"230e":function(t,e,n){var o=n("d3f4"),i=n("7726").document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},"23c6":function(t,n,o){var i=o("2d95"),r=o("2b4c")("toStringTag"),a="Arguments"==i(function(){return arguments}()),s=function(t,n){try{return t[n]}catch(e){}};t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),r))?n:a?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},"241e":function(t,e,n){var o=n("25eb");t.exports=function(t){return Object(o(t))}},2444:function(t,n,o){"use strict";(function(n){var i=o("c532"),r=o("c8af"),a={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function l(){var t;return"undefined"!==typeof XMLHttpRequest?t=o("b50d"):"undefined"!==typeof n&&"[object process]"===Object.prototype.toString.call(n)&&(t=o("b50d")),t}var c={adapter:l(),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){c.headers[t]=i.merge(a)})),t.exports=c}).call(this,o("f28c"))},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"260c":function(t,e,n){},"27ee":function(t,e,n){var o=n("23c6"),i=n("2b4c")("iterator"),r=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||r[o(t)]}},"288b":function(t,e,n){"use strict";var o=n("260c"),i=n.n(o);i.a},"294c":function(t,n){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"2aba":function(t,e,n){var o=n("7726"),i=n("32e9"),r=n("69a8"),a=n("ca5a")("src"),s=n("fa5b"),l="toString",c=(""+s).split(l);n("8378").inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(r(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(r(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===o?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},"2aeb":function(t,e,n){var o=n("cb7c"),i=n("1495"),r=n("e11e"),a=n("613b")("IE_PROTO"),s=function(){},l="prototype",c=function(){var t,e=n("230e")("iframe"),o=r.length,i="<",a=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),c=t.F;while(o--)delete c[l][r[o]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[l]=o(t),n=new s,s[l]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},"2b4c":function(t,e,n){var o=n("5537")("wks"),i=n("ca5a"),r=n("7726").Symbol,a="function"==typeof r,s=t.exports=function(t){return o[t]||(o[t]=a&&r[t]||(a?r:i)("Symbol."+t))};s.store=o},"2d00":function(t,e){t.exports=!1},"2d83":function(t,e,n){"use strict";var o=n("387f");t.exports=function(t,e,n,i,r){var a=new Error(t);return o(a,e,n,i,r)}},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2e67":function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"2f21":function(t,e,n){"use strict";var o=n("79e5");t.exports=function(t,e){return!!t&&o((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"2fdb":function(t,e,n){"use strict";var o=n("5ca1"),i=n("d2c8"),r="includes";o(o.P+o.F*n("5147")(r),"String",{includes:function(t){return!!~i(this,t,r).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"30b5":function(t,e,n){"use strict";var o=n("c532");function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(o.isURLSearchParams(e))r=e.toString();else{var a=[];o.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(o.isArray(t)?e+="[]":t=[t],o.forEach(t,(function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),r=a.join("&")}if(r){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}},"30f1":function(t,e,n){"use strict";var o=n("b8e3"),i=n("63b6"),r=n("9138"),a=n("35e8"),s=n("481b"),l=n("8f60"),c=n("45f2"),u=n("53e2"),d=n("5168")("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",f="keys",m="values",g=function(){return this};t.exports=function(t,e,n,v,y,b,w){l(n,e,v);var C,x,E,_=function(t){if(!h&&t in k)return k[t];switch(t){case f:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},M=e+" Iterator",R=y==m,S=!1,k=t.prototype,T=k[d]||k[p]||y&&k[y],L=T||_(y),D=y?R?_("entries"):L:void 0,F="Array"==e&&k.entries||T;if(F&&(E=u(F.call(new t)),E!==Object.prototype&&E.next&&(c(E,M,!0),o||"function"==typeof E[d]||a(E,d,g))),R&&T&&T.name!==m&&(S=!0,L=function(){return T.call(this)}),o&&!w||!h&&!S&&k[d]||a(k,d,L),s[e]=L,s[M]=g,y)if(C={values:R?L:_(m),keys:b?L:_(f),entries:D},w)for(x in C)x in k||r(k,x,C[x]);else i(i.P+i.F*(h||S),e,C);return C}},"31f4":function(t,e){t.exports=function(t,e,n){var o=void 0===n;switch(e.length){case 0:return o?t():t.call(n);case 1:return o?t(e[0]):t.call(n,e[0]);case 2:return o?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return o?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return o?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"32e9":function(t,e,n){var o=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"32fc":function(t,e,n){var o=n("e53d").document;t.exports=o&&o.documentElement},"335c":function(t,e,n){var o=n("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},"33a4":function(t,e,n){var o=n("84f2"),i=n("2b4c")("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||r[i]===t)}},"35e8":function(t,e,n){var o=n("d9f6"),i=n("aebd");t.exports=n("8e60")?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"36c3":function(t,e,n){var o=n("335c"),i=n("25eb");t.exports=function(t){return o(i(t))}},3702:function(t,e,n){var o=n("481b"),i=n("5168")("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||r[i]===t)}},"387f":function(t,e,n){"use strict";t.exports=function(t,e,n,o,i){return t.config=e,n&&(t.code=n),t.request=o,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},"38fd":function(t,e,n){var o=n("69a8"),i=n("4bf8"),r=n("613b")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),o(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},3934:function(t,e,n){"use strict";var o=n("c532");t.exports=o.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var o=t;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=o.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},"39ab":function(t,n,o){var r,a,s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(e,i){"object"===s(n)&&"undefined"!==typeof t?t.exports=i():(r=i,a="function"===typeof r?r.call(n,o,n,t):r,void 0===a||(t.exports=a))})(0,(function(){"use strict";Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!==typeof t)throw new TypeError("predicate must be a function");var o=arguments[1],i=0;while(i<n){var r=e[i];if(t.call(o,r,i,e))return i;i++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!==typeof t)throw new TypeError("predicate must be a function");var o=arguments[1],i=0;while(i<n){var r=e[i];if(t.call(o,r,i,e))return r;i++}}}),String.prototype.includes||(String.prototype.includes=function(t,e){if(t instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===e&&(e=0),-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;var i=0|e,r=Math.max(i>=0?i:o-Math.abs(i),0);function a(t,e){return t===e||"number"===typeof t&&"number"===typeof e&&isNaN(t)&&isNaN(e)}while(r<o){if(a(n[r],t))return!0;r++}return!1}}),"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null===t||void 0===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var i=arguments[o];if(null!==i&&void 0!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},writable:!0,configurable:!0});var t=function(t){this.table=t,this.blockHozScrollEvent=!1,this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.rowManager=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.element.insertBefore(this.headersElement,this.element.firstChild)};t.prototype.createHeadersElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-headers"),t},t.prototype.createHeaderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-header"),this.table.options.headerVisible||t.classList.add("tabulator-header-hidden"),t},t.prototype.initialize=function(){},t.prototype.setRowManager=function(t){this.rowManager=t},t.prototype.getElement=function(){return this.element},t.prototype.getHeadersElement=function(){return this.headersElement},t.prototype.scrollHorizontal=function(t){var e=0,n=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=t,t>n?(e=t-n,this.element.style.marginLeft=-e+"px"):this.element.style.marginLeft=0,this.scrollLeft=t,this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.scrollHorizontal()},t.prototype.generateColumnsFromRowData=function(t){var e,n,o=[];if(t&&t.length){for(var i in e=t[0],e){var r={field:i,title:i},a=e[i];switch("undefined"===typeof a?"undefined":s(a)){case"undefined":n="string";break;case"boolean":n="boolean";break;case"object":n=Array.isArray(a)?"array":"string";break;default:n=isNaN(a)||""===a?a.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number";break}r.sorter=n,o.push(r)}this.table.options.columns=o,this.setColumns(this.table.options.columns)}},t.prototype.setColumns=function(t,e){var n=this;while(n.headersElement.firstChild)n.headersElement.removeChild(n.headersElement.firstChild);n.columns=[],n.columnsByIndex=[],n.columnsByField={},n.table.modExists("frozenColumns")&&n.table.modules.frozenColumns.reset(),t.forEach((function(t,e){n._addColumn(t)})),n._reIndexColumns(),n.table.options.responsiveLayout&&n.table.modExists("responsiveLayout",!0)&&n.table.modules.responsiveLayout.initialize(),n.redraw(!0)},t.prototype._addColumn=function(t,e,n){var i=new o(t,this),r=i.getElement(),a=n?this.findColumnIndex(n):n;if(n&&a>-1){var s=this.columns.indexOf(n.getTopColumn()),l=n.getElement();e?(this.columns.splice(s,0,i),l.parentNode.insertBefore(r,l)):(this.columns.splice(s+1,0,i),l.parentNode.insertBefore(r,l.nextSibling))}else e?(this.columns.unshift(i),this.headersElement.insertBefore(i.getElement(),this.headersElement.firstChild)):(this.columns.push(i),this.headersElement.appendChild(i.getElement())),i.columnRendered();return i},t.prototype.registerColumnField=function(t){t.definition.field&&(this.columnsByField[t.definition.field]=t)},t.prototype.registerColumnPosition=function(t){this.columnsByIndex.push(t)},t.prototype._reIndexColumns=function(){this.columnsByIndex=[],this.columns.forEach((function(t){t.reRegisterPosition()}))},t.prototype._verticalAlignHeaders=function(){var t=this,e=0;t.columns.forEach((function(t){var n;t.clearVerticalAlign(),n=t.getHeight(),n>e&&(e=n)})),t.columns.forEach((function(n){n.verticalAlign(t.table.options.columnHeaderVertAlign,e)})),t.rowManager.adjustTableSize()},t.prototype.findColumn=function(t){var e=this;if("object"!=("undefined"===typeof t?"undefined":s(t)))return this.columnsByField[t]||!1;if(t instanceof o)return t;if(t instanceof n)return t._getSelf()||!1;if("undefined"!==typeof HTMLElement&&t instanceof HTMLElement){var i=e.columns.find((function(e){return e.element===t}));return i||!1}return!1},t.prototype.getColumnByField=function(t){return this.columnsByField[t]},t.prototype.getColumnsByFieldRoot=function(t){var e=this,n=[];return Object.keys(this.columnsByField).forEach((function(o){var i=o.split(".")[0];i===t&&n.push(e.columnsByField[o])})),n},t.prototype.getColumnByIndex=function(t){return this.columnsByIndex[t]},t.prototype.getFirstVisibileColumn=function(t){t=this.columnsByIndex.findIndex((function(t){return t.visible}));return t>-1&&this.columnsByIndex[t]},t.prototype.getColumns=function(){return this.columns},t.prototype.findColumnIndex=function(t){return this.columnsByIndex.findIndex((function(e){return t===e}))},t.prototype.getRealColumns=function(){return this.columnsByIndex},t.prototype.traverse=function(t){var e=this;e.columnsByIndex.forEach((function(e,n){t(e,n)}))},t.prototype.getDefinitions=function(t){var e=this,n=[];return e.columnsByIndex.forEach((function(e){(!t||t&&e.visible)&&n.push(e.getDefinition())})),n},t.prototype.getDefinitionTree=function(){var t=this,e=[];return t.columns.forEach((function(t){e.push(t.getDefinition(!0))})),e},t.prototype.getComponents=function(t){var e=this,n=[],o=t?e.columns:e.columnsByIndex;return o.forEach((function(t){n.push(t.getComponent())})),n},t.prototype.getWidth=function(){var t=0;return this.columnsByIndex.forEach((function(e){e.visible&&(t+=e.getWidth())})),t},t.prototype.moveColumn=function(t,e,n){this.moveColumnActual(t,e,n),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),e.element.parentNode.insertBefore(t.element,e.element),n&&e.element.parentNode.insertBefore(e.element,t.element),this._verticalAlignHeaders(),this.table.rowManager.reinitialize()},t.prototype.moveColumnActual=function(t,e,n){t.parent.isGroup?this._moveColumnInArray(t.parent.columns,t,e,n):this._moveColumnInArray(this.columns,t,e,n),this._moveColumnInArray(this.columnsByIndex,t,e,n,!0),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.options.columnMoved&&this.table.options.columnMoved.call(this.table,t.getComponent(),this.table.columnManager.getComponents()),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},t.prototype._moveColumnInArray=function(t,e,n,o,i){var r,a=t.indexOf(e);a>-1&&(t.splice(a,1),r=t.indexOf(n),r>-1?o&&(r+=1):r=a,t.splice(r,0,e),i&&this.table.rowManager.rows.forEach((function(t){if(t.cells.length){var e=t.cells.splice(a,1)[0];t.cells.splice(r,0,e)}})))},t.prototype.scrollToColumn=function(t,e,n){var o=this,i=0,r=0,a=0,s=t.getElement();return new Promise((function(l,c){if("undefined"===typeof e&&(e=o.table.options.scrollToColumnPosition),"undefined"===typeof n&&(n=o.table.options.scrollToColumnIfVisible),t.visible){switch(e){case"middle":case"center":a=-o.element.clientWidth/2;break;case"right":a=s.clientWidth-o.headersElement.clientWidth;break}if(!n&&(r=s.offsetLeft,r>0&&r+s.offsetWidth<o.element.clientWidth))return!1;i=s.offsetLeft+o.element.scrollLeft+a,i=Math.max(Math.min(i,o.table.rowManager.element.scrollWidth-o.table.rowManager.element.clientWidth),0),o.table.rowManager.scrollHorizontal(i),o.scrollHorizontal(i),l()}else console.warn("Scroll Error - Column not visible"),c("Scroll Error - Column not visible")}))},t.prototype.generateCells=function(t){var e=this,n=[];return e.columnsByIndex.forEach((function(e){n.push(e.generateCell(t))})),n},t.prototype.getFlexBaseWidth=function(){var t=this,e=t.table.element.clientWidth,n=0;return t.rowManager.element.scrollHeight>t.rowManager.element.clientHeight&&(e-=t.rowManager.element.offsetWidth-t.rowManager.element.clientWidth),this.columnsByIndex.forEach((function(o){var i,r,a;o.visible&&(i=o.definition.width||0,r="undefined"==typeof o.minWidth?t.table.options.columnMinWidth:parseInt(o.minWidth),a="string"==typeof i?i.indexOf("%")>-1?e/100*parseInt(i):parseInt(i):i,n+=a>r?a:r)})),n},t.prototype.addColumn=function(t,e,n){var o=this;return new Promise((function(i,r){var a=o._addColumn(t,e,n);o._reIndexColumns(),o.table.options.responsiveLayout&&o.table.modExists("responsiveLayout",!0)&&o.table.modules.responsiveLayout.initialize(),o.table.modExists("columnCalcs")&&o.table.modules.columnCalcs.recalc(o.table.rowManager.activeRows),o.redraw(),"fitColumns"!=o.table.modules.layout.getMode()&&a.reinitializeWidth(),o._verticalAlignHeaders(),o.table.rowManager.reinitialize(),i(a)}))},t.prototype.deregisterColumn=function(t){var e,n=t.getField();n&&delete this.columnsByField[n],e=this.columnsByIndex.indexOf(t),e>-1&&this.columnsByIndex.splice(e,1),e=this.columns.indexOf(t),e>-1&&this.columns.splice(e,1),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.redraw()},t.prototype.redraw=function(t){t&&(h.prototype.helpers.elVisible(this.element)&&this._verticalAlignHeaders(),this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),["fitColumns","fitDataStretch"].indexOf(this.table.modules.layout.getMode())>-1?this.table.modules.layout.layout():t?this.table.modules.layout.layout():this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),t&&(this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.redraw()),this.table.footerManager.redraw()};var n=function(t){this._column=t,this.type="ColumnComponent"};n.prototype.getElement=function(){return this._column.getElement()},n.prototype.getDefinition=function(){return this._column.getDefinition()},n.prototype.getField=function(){return this._column.getField()},n.prototype.getCells=function(){var t=[];return this._column.cells.forEach((function(e){t.push(e.getComponent())})),t},n.prototype.getVisibility=function(){return console.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._column.visible},n.prototype.isVisible=function(){return this._column.visible},n.prototype.show=function(){this._column.isGroup?this._column.columns.forEach((function(t){t.show()})):this._column.show()},n.prototype.hide=function(){this._column.isGroup?this._column.columns.forEach((function(t){t.hide()})):this._column.hide()},n.prototype.toggle=function(){this._column.visible?this.hide():this.show()},n.prototype.delete=function(){return this._column.delete()},n.prototype.getSubColumns=function(){var t=[];return this._column.columns.length&&this._column.columns.forEach((function(e){t.push(e.getComponent())})),t},n.prototype.getParentColumn=function(){return this._column.parent instanceof o&&this._column.parent.getComponent()},n.prototype._getSelf=function(){return this._column},n.prototype.scrollTo=function(){return this._column.table.columnManager.scrollToColumn(this._column)},n.prototype.getTable=function(){return this._column.table},n.prototype.headerFilterFocus=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterFocus(this._column)},n.prototype.reloadHeaderFilter=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.reloadHeaderFilter(this._column)},n.prototype.getHeaderFilterValue=function(){if(this._column.table.modExists("filter",!0))return this._column.table.modules.filter.getHeaderFilterValue(this._column)},n.prototype.setHeaderFilterValue=function(t){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterValue(this._column,t)},n.prototype.move=function(t,e){var n=this._column.table.columnManager.findColumn(t);n?this._column.table.columnManager.moveColumn(this._column,n,e):console.warn("Move Error - No matching column found:",n)},n.prototype.getNextColumn=function(){var t=this._column.nextColumn();return!!t&&t.getComponent()},n.prototype.getPrevColumn=function(){var t=this._column.prevColumn();return!!t&&t.getComponent()},n.prototype.updateDefinition=function(t){return this._column.updateDefinition(t)},n.prototype.getWidth=function(){return this._column.getWidth()},n.prototype.setWidth=function(t){return!0===t?this._column.reinitializeWidth(!0):this._column.setWidth(t)},n.prototype.validate=function(){return this._column.validate()};var o=function t(e,n){var o=this;this.table=n.table,this.definition=e,this.parent=n,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleFormatterRendered=!1,this.setField(this.definition.field),this.table.options.invalidOptionWarnings&&this.checkDefinition(),this.modules={},this.cellEvents={cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1},this.width=null,this.widthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this._mapDepricatedFunctionality(),e.columns?(this.isGroup=!0,e.columns.forEach((function(e,n){var i=new t(e,o);o.attachColumn(i)})),o.checkColumnVisibility()):n.registerColumnField(this),e.rowHandle&&!1!==this.table.options.movableRows&&this.table.modExists("moveRow")&&this.table.modules.moveRow.setHandle(!0),this._buildHeader(),this.bindModuleColumns()};o.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.setAttribute("role","columnheader"),t.setAttribute("aria-sort","none"),t},o.prototype.createGroupElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col-group-cols"),t},o.prototype.checkDefinition=function(){var t=this;Object.keys(this.definition).forEach((function(e){-1===t.defaultOptionList.indexOf(e)&&console.warn("Invalid column definition option in '"+(t.field||t.definition.title)+"' column:",e)}))},o.prototype.setField=function(t){this.field=t,this.fieldStructure=t?this.table.options.nestedFieldSeparator?t.split(this.table.options.nestedFieldSeparator):[t]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData},o.prototype.registerColumnPosition=function(t){this.parent.registerColumnPosition(t)},o.prototype.registerColumnField=function(t){this.parent.registerColumnField(t)},o.prototype.reRegisterPosition=function(){this.isGroup?this.columns.forEach((function(t){t.reRegisterPosition()})):this.registerColumnPosition(this)},o.prototype._mapDepricatedFunctionality=function(){"undefined"!==typeof this.definition.hideInHtml&&(this.definition.htmlOutput=!this.definition.hideInHtml,console.warn("hideInHtml column definition property is deprecated, you should now use htmlOutput")),"undefined"!==typeof this.definition.align&&(this.definition.hozAlign=this.definition.align,console.warn("align column definition property is deprecated, you should now use hozAlign")),"undefined"!==typeof this.definition.downloadTitle&&(this.definition.titleDownload=this.definition.downloadTitle,console.warn("downloadTitle definition property is deprecated, you should now use titleDownload"))},o.prototype.setTooltip=function(){var t=this,e=t.definition,n=e.headerTooltip||!1===e.tooltip?e.headerTooltip:t.table.options.tooltipsHeader;n?!0===n?e.field?t.table.modules.localize.bind("columns|"+e.field,(function(n){t.element.setAttribute("title",n||e.title)})):t.element.setAttribute("title",e.title):("function"==typeof n&&(n=n(t.getComponent()),!1===n&&(n="")),t.element.setAttribute("title",n)):t.element.setAttribute("title","")},o.prototype._buildHeader=function(){var t=this,e=t.definition;while(t.element.firstChild)t.element.removeChild(t.element.firstChild);e.headerVertical&&(t.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&t.element.classList.add("tabulator-col-vertical-flip")),t.contentElement=t._bindEvents(),t.contentElement=t._buildColumnHeaderContent(),t.element.appendChild(t.contentElement),t.isGroup?t._buildGroupHeader():t._buildColumnHeader(),t.setTooltip(),t.table.options.resizableColumns&&t.table.modExists("resizeColumns")&&t.table.modules.resizeColumns.initializeColumn("header",t,t.element),e.headerFilter&&t.table.modExists("filter")&&t.table.modExists("edit")&&("undefined"!==typeof e.headerFilterPlaceholder&&e.field&&t.table.modules.localize.setHeaderFilterColumnPlaceholder(e.field,e.headerFilterPlaceholder),t.table.modules.filter.initializeColumn(t)),t.table.modExists("frozenColumns")&&t.table.modules.frozenColumns.initializeColumn(t),t.table.options.movableColumns&&!t.isGroup&&t.table.modExists("moveColumn")&&t.table.modules.moveColumn.initializeColumn(t),(e.topCalc||e.bottomCalc)&&t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.initializeColumn(t),t.table.modExists("persistence")&&t.table.modules.persistence.config.columns&&t.table.modules.persistence.initializeColumn(t),t.element.addEventListener("mouseenter",(function(e){t.setTooltip()}))},o.prototype._bindEvents=function(){var t,e,n,o=this,i=o.definition;"function"==typeof i.headerClick&&o.element.addEventListener("click",(function(t){i.headerClick(t,o.getComponent())})),"function"==typeof i.headerDblClick&&o.element.addEventListener("dblclick",(function(t){i.headerDblClick(t,o.getComponent())})),"function"==typeof i.headerContext&&o.element.addEventListener("contextmenu",(function(t){i.headerContext(t,o.getComponent())})),"function"==typeof i.headerTap&&(n=!1,o.element.addEventListener("touchstart",(function(t){n=!0}),{passive:!0}),o.element.addEventListener("touchend",(function(t){n&&i.headerTap(t,o.getComponent()),n=!1}))),"function"==typeof i.headerDblTap&&(t=null,o.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,i.headerDblTap(e,o.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),"function"==typeof i.headerTapHold&&(e=null,o.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,n=!1,i.headerTapHold(t,o.getComponent())}),1e3)}),{passive:!0}),o.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null}))),"function"==typeof i.cellClick&&(o.cellEvents.cellClick=i.cellClick),"function"==typeof i.cellDblClick&&(o.cellEvents.cellDblClick=i.cellDblClick),"function"==typeof i.cellContext&&(o.cellEvents.cellContext=i.cellContext),"function"==typeof i.cellMouseEnter&&(o.cellEvents.cellMouseEnter=i.cellMouseEnter),"function"==typeof i.cellMouseLeave&&(o.cellEvents.cellMouseLeave=i.cellMouseLeave),"function"==typeof i.cellMouseOver&&(o.cellEvents.cellMouseOver=i.cellMouseOver),"function"==typeof i.cellMouseOut&&(o.cellEvents.cellMouseOut=i.cellMouseOut),"function"==typeof i.cellMouseMove&&(o.cellEvents.cellMouseMove=i.cellMouseMove),"function"==typeof i.cellTap&&(o.cellEvents.cellTap=i.cellTap),"function"==typeof i.cellDblTap&&(o.cellEvents.cellDblTap=i.cellDblTap),"function"==typeof i.cellTapHold&&(o.cellEvents.cellTapHold=i.cellTapHold),"function"==typeof i.cellEdited&&(o.cellEvents.cellEdited=i.cellEdited),"function"==typeof i.cellEditing&&(o.cellEvents.cellEditing=i.cellEditing),"function"==typeof i.cellEditCancelled&&(o.cellEvents.cellEditCancelled=i.cellEditCancelled)},o.prototype._buildColumnHeader=function(){var t=this,e=t.definition,n=t.table;if(n.modExists("sort")&&n.modules.sort.initializeColumn(t,t.contentElement),(e.headerContextMenu||e.headerMenu)&&n.modExists("menu")&&n.modules.menu.initializeColumnHeader(t),n.modExists("format")&&n.modules.format.initializeColumn(t),"undefined"!=typeof e.editor&&n.modExists("edit")&&n.modules.edit.initializeColumn(t),"undefined"!=typeof e.validator&&n.modExists("validate")&&n.modules.validate.initializeColumn(t),n.modExists("mutator")&&n.modules.mutator.initializeColumn(t),n.modExists("accessor")&&n.modules.accessor.initializeColumn(t),s(n.options.responsiveLayout)&&n.modExists("responsiveLayout")&&n.modules.responsiveLayout.initializeColumn(t),"undefined"!=typeof e.visible&&(e.visible?t.show(!0):t.hide(!0)),e.cssClass){var o=e.cssClass.split(" ");o.forEach((function(e){t.element.classList.add(e)}))}e.field&&this.element.setAttribute("tabulator-field",e.field),t.setMinWidth("undefined"==typeof e.minWidth?t.table.options.columnMinWidth:parseInt(e.minWidth)),t.reinitializeWidth(),t.tooltip=t.definition.tooltip||!1===t.definition.tooltip?t.definition.tooltip:t.table.options.tooltips,t.hozAlign="undefined"==typeof t.definition.hozAlign?t.table.options.cellHozAlign:t.definition.hozAlign,t.vertAlign="undefined"==typeof t.definition.vertAlign?t.table.options.cellVertAlign:t.definition.vertAlign},o.prototype._buildColumnHeaderContent=function(){this.definition,this.table;var t=document.createElement("div");return t.classList.add("tabulator-col-content"),this.titleElement=this._buildColumnHeaderTitle(),t.appendChild(this.titleElement),t},o.prototype._buildColumnHeaderTitle=function(){var t=this,e=t.definition,n=t.table,o=document.createElement("div");if(o.classList.add("tabulator-col-title"),e.editableTitle){var i=document.createElement("input");i.classList.add("tabulator-title-editor"),i.addEventListener("click",(function(t){t.stopPropagation(),i.focus()})),i.addEventListener("change",(function(){e.title=i.value,n.options.columnTitleChanged.call(t.table,t.getComponent())})),o.appendChild(i),e.field?n.modules.localize.bind("columns|"+e.field,(function(t){i.value=t||e.title||"&nbsp;"})):i.value=e.title||"&nbsp;"}else e.field?n.modules.localize.bind("columns|"+e.field,(function(n){t._formatColumnHeaderTitle(o,n||e.title||"&nbsp;")})):t._formatColumnHeaderTitle(o,e.title||"&nbsp;");return o},o.prototype._formatColumnHeaderTitle=function(t,e){var n,o,i,r,a,l=this;if(this.definition.titleFormatter&&this.table.modExists("format"))switch(n=this.table.modules.format.getFormatter(this.definition.titleFormatter),a=function(t){l.titleFormatterRendered=t},r={getValue:function(){return e},getElement:function(){return t}},i=this.definition.titleFormatterParams||{},i="function"===typeof i?i():i,o=n.call(this.table.modules.format,r,i,a),"undefined"===typeof o?"undefined":s(o)){case"object":o instanceof Node?t.appendChild(o):(t.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",o));break;case"undefined":case"null":t.innerHTML="";break;default:t.innerHTML=o}else t.innerHTML=e},o.prototype._buildGroupHeader=function(){var t=this;if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach((function(e){t.element.classList.add(e)}))}(this.definition.headerContextMenu||this.definition.headerMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeColumnHeader(this),this.element.appendChild(this.groupElement)},o.prototype._getFlatData=function(t){return t[this.field]},o.prototype._getNestedData=function(t){for(var e,n=t,o=this.fieldStructure,i=o.length,r=0;r<i;r++)if(n=n[o[r]],e=n,!n)break;return e},o.prototype._setFlatData=function(t,e){this.field&&(t[this.field]=e)},o.prototype._setNestedData=function(t,e){for(var n=t,o=this.fieldStructure,i=o.length,r=0;r<i;r++)if(r==i-1)n[o[r]]=e;else{if(!n[o[r]]){if("undefined"===typeof e)break;n[o[r]]={}}n=n[o[r]]}},o.prototype.attachColumn=function(t){var e=this;e.groupElement?(e.columns.push(t),e.groupElement.appendChild(t.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")},o.prototype.verticalAlign=function(t,e){var n=this.parent.isGroup?this.parent.getGroupElement().clientHeight:e||this.parent.getHeadersElement().clientHeight;this.element.style.height=n+"px",this.isGroup&&(this.groupElement.style.minHeight=n-this.contentElement.offsetHeight+"px"),this.isGroup||"top"===t||(this.element.style.paddingTop="bottom"===t?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach((function(e){e.verticalAlign(t)}))},o.prototype.clearVerticalAlign=function(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach((function(t){t.clearVerticalAlign()}))},o.prototype.bindModuleColumns=function(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)},o.prototype.getElement=function(){return this.element},o.prototype.getGroupElement=function(){return this.groupElement},o.prototype.getField=function(){return this.field},o.prototype.getFirstColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this},o.prototype.getLastColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this},o.prototype.getColumns=function(){return this.columns},o.prototype.getCells=function(){return this.cells},o.prototype.getTopColumn=function(){return this.parent.isGroup?this.parent.getTopColumn():this},o.prototype.getDefinition=function(t){var e=[];return this.isGroup&&t&&(this.columns.forEach((function(t){e.push(t.getDefinition(!0))})),this.definition.columns=e),this.definition},o.prototype.checkColumnVisibility=function(){var t=!1;this.columns.forEach((function(e){e.visible&&(t=!0)})),t?(this.show(),this.parent.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1)):this.hide()},o.prototype.show=function(t,e){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(t){t.show()})),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager._verticalAlignHeaders(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths())},o.prototype.hide=function(t,e){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager._verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(t){t.hide()})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths())},o.prototype.matchChildWidths=function(){var t=0;this.contentElement&&this.columns.length&&(this.columns.forEach((function(e){e.visible&&(t+=e.getWidth())})),this.contentElement.style.maxWidth=t-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())},o.prototype.setWidth=function(t){this.widthFixed=!0,this.setWidthActual(t)},o.prototype.setWidthActual=function(t){isNaN(t)&&(t=Math.floor(this.table.element.clientWidth/100*parseInt(t))),t=Math.max(this.minWidth,t),this.width=t,this.widthStyled=t?t+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach((function(t){t.setWidth()})),this.parent.isGroup&&this.parent.matchChildWidths(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()},o.prototype.checkCellHeights=function(){var t=[];this.cells.forEach((function(e){e.row.heightInitialized&&(null!==e.row.getElement().offsetParent?(t.push(e.row),e.row.clearCellHeight()):e.row.heightInitialized=!1)})),t.forEach((function(t){t.calcHeight()})),t.forEach((function(t){t.setCellHeight()}))},o.prototype.getWidth=function(){var t=0;return this.isGroup?this.columns.forEach((function(e){e.visible&&(t+=e.getWidth())})):t=this.width,t},o.prototype.getHeight=function(){return this.element.offsetHeight},o.prototype.setMinWidth=function(t){this.minWidth=t,this.minWidthStyled=t?t+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach((function(t){t.setMinWidth()}))},o.prototype.delete=function(){var t=this;return new Promise((function(e,n){t.isGroup&&t.columns.forEach((function(t){t.delete()})),t.table.modExists("edit")&&t.table.modules.edit.currentCell.column===t&&t.table.modules.edit.cancelEdit();for(var o=t.cells.length,i=0;i<o;i++)t.cells[0].delete();t.element.parentNode.removeChild(t.element),t.table.columnManager.deregisterColumn(t),e()}))},o.prototype.columnRendered=function(){this.titleFormatterRendered&&this.titleFormatterRendered()},o.prototype.validate=function(){var t=[];return this.cells.forEach((function(e){e.validate()||t.push(e.getComponent())})),!t.length||t},o.prototype.generateCell=function(t){var e=this,n=new u(e,t);return this.cells.push(n),n},o.prototype.nextColumn=function(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._nextVisibleColumn(t+1)},o.prototype._nextVisibleColumn=function(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._nextVisibleColumn(t+1)},o.prototype.prevColumn=function(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._prevVisibleColumn(t-1)},o.prototype._prevVisibleColumn=function(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._prevVisibleColumn(t-1)},o.prototype.reinitializeWidth=function(t){this.widthFixed=!1,"undefined"===typeof this.definition.width||t||this.setWidth(this.definition.width),this.table.modExists("filter")&&this.table.modules.filter.hideHeaderFilterElements(),this.fitToData(),this.table.modExists("filter")&&this.table.modules.filter.showHeaderFilterElements()},o.prototype.fitToData=function(){var t=this;this.widthFixed||(this.element.style.width="",t.cells.forEach((function(t){t.clearWidth()})));var e=this.element.offsetWidth;t.width&&this.widthFixed||(t.cells.forEach((function(t){var n=t.getWidth();n>e&&(e=n)})),e&&t.setWidthActual(e+1))},o.prototype.updateDefinition=function(t){var e=this;return new Promise((function(n,o){var i;e.isGroup?(console.warn("Column Update Error - The updateDefintion function is only available on columns, not column groups"),o("Column Update Error - The updateDefintion function is only available on columns, not column groups")):(i=Object.assign({},e.getDefinition()),i=Object.assign(i,t),e.table.columnManager.addColumn(i,!1,e).then((function(t){i.field==e.field&&(e.field=!1),e.delete().then((function(){n(t.getComponent())})).catch((function(t){o(t)}))})).catch((function(t){o(t)})))}))},o.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)},o.prototype.defaultOptionList=["title","field","columns","visible","align","hozAlign","vertAlign","width","minWidth","widthGrow","widthShrink","resizable","frozen","responsive","tooltip","cssClass","rowHandle","hideInHtml","print","htmlOutput","sorter","sorterParams","formatter","formatterParams","variableHeight","editable","editor","editorParams","validator","mutator","mutatorParams","mutatorData","mutatorDataParams","mutatorEdit","mutatorEditParams","mutatorClipboard","mutatorClipboardParams","accessor","accessorParams","accessorData","accessorDataParams","accessorDownload","accessorDownloadParams","accessorClipboard","accessorClipboardParams","accessorPrint","accessorPrintParams","accessorHtmlOutput","accessorHtmlOutputParams","clipboard","download","downloadTitle","topCalc","topCalcParams","topCalcFormatter","topCalcFormatterParams","bottomCalc","bottomCalcParams","bottomCalcFormatter","bottomCalcFormatterParams","cellClick","cellDblClick","cellContext","cellTap","cellDblTap","cellTapHold","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellEditing","cellEdited","cellEditCancelled","headerSort","headerSortStartingDir","headerSortTristate","headerClick","headerDblClick","headerContext","headerTap","headerDblTap","headerTapHold","headerTooltip","headerVertical","editableTitle","titleFormatter","titleFormatterParams","headerFilter","headerFilterPlaceholder","headerFilterParams","headerFilterEmptyCheck","headerFilterFunc","headerFilterFuncParams","headerFilterLiveFilter","print","headerContextMenu","headerMenu","contextMenu","formatterPrint","formatterPrintParams","formatterClipboard","formatterClipboardParams","formatterHtmlOutput","formatterHtmlOutputParams","titlePrint","titleClipboard","titleHtmlOutput","titleDownload"],o.prototype.getComponent=function(){return this.component||(this.component=new n(this)),this.component};var r=function(t){this.table=t,this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.columnManager=null,this.height=0,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[],this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRederInPosition=!1};r.prototype.createHolderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-tableHolder"),t.setAttribute("tabindex",0),t},r.prototype.createTableElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-table"),t},r.prototype.getElement=function(){return this.element},r.prototype.getTableElement=function(){return this.tableElement},r.prototype.getRowPosition=function(t,e){return e?this.activeRows.indexOf(t):this.rows.indexOf(t)},r.prototype.setColumnManager=function(t){this.columnManager=t},r.prototype.initialize=function(){var t=this;t.setRenderMode(),t.element.appendChild(t.tableElement),t.firstRender=!0,t.element.addEventListener("scroll",(function(){var e=t.element.scrollLeft;t.scrollLeft!=e&&(t.columnManager.scrollHorizontal(e),t.table.options.groupBy&&t.table.modules.groupRows.scrollHeaders(e),t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.scrollHorizontal(e),t.table.options.scrollHorizontal(e)),t.scrollLeft=e})),"virtual"===this.renderMode&&t.element.addEventListener("scroll",(function(){var e=t.element.scrollTop,n=t.scrollTop>e;t.scrollTop!=e?(t.scrollTop=e,t.scrollVertical(n),"scroll"==t.table.options.ajaxProgressiveLoad&&t.table.modules.ajax.nextPage(t.element.scrollHeight-t.element.clientHeight-e),t.table.options.scrollVertical(e)):t.scrollTop=e}))},r.prototype.findRow=function(t){var e=this;if("object"!=("undefined"===typeof t?"undefined":s(t))){if("undefined"==typeof t||null===t)return!1;var n=e.rows.find((function(n){return n.data[e.table.options.index]==t}));return n||!1}if(t instanceof l)return t;if(t instanceof a)return t._getSelf()||!1;if("undefined"!==typeof HTMLElement&&t instanceof HTMLElement){var o=e.rows.find((function(e){return e.element===t}));return o||!1}return!1},r.prototype.getRowFromDataObject=function(t){var e=this.rows.find((function(e){return e.data===t}));return e||!1},r.prototype.getRowFromPosition=function(t,e){return e?this.activeRows[t]:this.rows[t]},r.prototype.scrollToRow=function(t,e,n){var o,i=this,r=this.getDisplayRows().indexOf(t),a=t.getElement(),s=0;return new Promise((function(t,l){if(r>-1){if("undefined"===typeof e&&(e=i.table.options.scrollToRowPosition),"undefined"===typeof n&&(n=i.table.options.scrollToRowIfVisible),"nearest"===e)switch(i.renderMode){case"classic":o=h.prototype.helpers.elOffset(a).top,e=Math.abs(i.element.scrollTop-o)>Math.abs(i.element.scrollTop+i.element.clientHeight-o)?"bottom":"top";break;case"virtual":e=Math.abs(i.vDomTop-r)>Math.abs(i.vDomBottom-r)?"bottom":"top";break}if(!n&&h.prototype.helpers.elVisible(a)&&(s=h.prototype.helpers.elOffset(a).top-h.prototype.helpers.elOffset(i.element).top,s>0&&s<i.element.clientHeight-a.offsetHeight))return!1;switch(i.renderMode){case"classic":i.element.scrollTop=h.prototype.helpers.elOffset(a).top-h.prototype.helpers.elOffset(i.element).top+i.element.scrollTop;break;case"virtual":i._virtualRenderFill(r,!0);break}switch(e){case"middle":case"center":i.element.scrollHeight-i.element.scrollTop==i.element.clientHeight?i.element.scrollTop=i.element.scrollTop+(a.offsetTop-i.element.scrollTop)-(i.element.scrollHeight-a.offsetTop)/2:i.element.scrollTop=i.element.scrollTop-i.element.clientHeight/2;break;case"bottom":i.element.scrollHeight-i.element.scrollTop==i.element.clientHeight?i.element.scrollTop=i.element.scrollTop-(i.element.scrollHeight-a.offsetTop)+a.offsetHeight:i.element.scrollTop=i.element.scrollTop-i.element.clientHeight+a.offsetHeight;break}t()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")}))},r.prototype.setData=function(t,e,n){var o=this,i=this;return new Promise((function(r,a){e&&o.getDisplayRows().length?i.table.options.pagination?i._setDataActual(t,!0):o.reRenderInPosition((function(){i._setDataActual(t)})):(o.table.options.autoColumns&&n&&o.table.columnManager.generateColumnsFromRowData(t),o.resetScroll(),o._setDataActual(t)),r()}))},r.prototype._setDataActual=function(t,e){var n=this;n.table.options.dataLoading.call(this.table,t),this._wipeElements(),this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.clear(),Array.isArray(t)?(this.table.modExists("selectRow")&&this.table.modules.selectRow.clearSelectionData(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchData(t),t.forEach((function(t,e){if(t&&"object"===("undefined"===typeof t?"undefined":s(t))){var o=new l(t,n);n.rows.push(o)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",t)})),n.table.options.dataLoaded.call(this.table,t),n.refreshActiveData(!1,!1,e)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ","undefined"===typeof t?"undefined":s(t),"\nData:     ",t)},r.prototype._wipeElements=function(){this.rows.forEach((function(t){t.wipe()})),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.wipe(),this.rows=[]},r.prototype.deleteRow=function(t,e){var n=this.rows.indexOf(t),o=this.activeRows.indexOf(t);o>-1&&this.activeRows.splice(o,1),n>-1&&this.rows.splice(n,1),this.setActiveRows(this.activeRows),this.displayRowIterator((function(e){var n=e.indexOf(t);n>-1&&e.splice(n,1)})),e||this.reRenderInPosition(),this.regenerateRowNumbers(),this.table.options.rowDeleted.call(this.table,t.getComponent()),this.table.options.dataEdited.call(this.table,this.getData()),this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.updateGroupRows(!0):this.table.options.pagination&&this.table.modExists("page")?this.refreshActiveData(!1,!1,!0):this.table.options.pagination&&this.table.modExists("page")&&this.refreshActiveData("page")},r.prototype.addRow=function(t,e,n,o){var i=this.addRowActual(t,e,n,o);return this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowAdd",i,{data:t,pos:e,index:n}),i},r.prototype.addRows=function(t,e,n){var o=this,i=this,r=[];return new Promise((function(a,s){e=o.findAddRowPos(e),Array.isArray(t)||(t=[t]),t.length-1,("undefined"==typeof n&&e||"undefined"!==typeof n&&!e)&&t.reverse(),t.forEach((function(t,o){var a=i.addRow(t,e,n,!0);r.push(a)})),o.table.options.groupBy&&o.table.modExists("groupRows")?o.table.modules.groupRows.updateGroupRows(!0):o.table.options.pagination&&o.table.modExists("page")?o.refreshActiveData(!1,!1,!0):o.reRenderInPosition(),o.table.modExists("columnCalcs")&&o.table.modules.columnCalcs.recalc(o.table.rowManager.activeRows),o.regenerateRowNumbers(),a(r)}))},r.prototype.findAddRowPos=function(t){return"undefined"===typeof t&&(t=this.table.options.addRowPos),"pos"===t&&(t=!0),"bottom"===t&&(t=!1),t},r.prototype.addRowActual=function(t,e,n,o){var i,r,a=t instanceof l?t:new l(t||{},this),s=this.findAddRowPos(e),c=-1;if(!n&&this.table.options.pagination&&"page"==this.table.options.paginationAddRow&&(r=this.getDisplayRows(),s?r.length?n=r[0]:this.activeRows.length&&(n=this.activeRows[this.activeRows.length-1],s=!1):r.length&&(n=r[r.length-1],s=!(r.length<this.table.modules.page.getPageSize()))),"undefined"!==typeof n&&(n=this.findRow(n)),this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.assignRowToGroup(a);var u=a.getGroup().rows;u.length>1&&(!n||n&&-1==u.indexOf(n)?s?u[0]!==a&&(n=u[0],this._moveRowInArray(a.getGroup().rows,a,n,!s)):u[u.length-1]!==a&&(n=u[u.length-1],this._moveRowInArray(a.getGroup().rows,a,n,!s)):this._moveRowInArray(a.getGroup().rows,a,n,!s))}return n&&(c=this.rows.indexOf(n)),n&&c>-1?(i=this.activeRows.indexOf(n),this.displayRowIterator((function(t){var e=t.indexOf(n);e>-1&&t.splice(s?e:e+1,0,a)})),i>-1&&this.activeRows.splice(s?i:i+1,0,a),this.rows.splice(s?c:c+1,0,a)):s?(this.displayRowIterator((function(t){t.unshift(a)})),this.activeRows.unshift(a),this.rows.unshift(a)):(this.displayRowIterator((function(t){t.push(a)})),this.activeRows.push(a),this.rows.push(a)),this.setActiveRows(this.activeRows),this.table.options.rowAdded.call(this.table,a.getComponent()),this.table.options.dataEdited.call(this.table,this.getData()),o||this.reRenderInPosition(),a},r.prototype.moveRow=function(t,e,n){this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowMove",t,{posFrom:this.getRowPosition(t),posTo:this.getRowPosition(e),to:e,after:n}),this.moveRowActual(t,e,n),this.regenerateRowNumbers(),this.table.options.rowMoved.call(this.table,t.getComponent())},r.prototype.moveRowActual=function(t,e,n){var o=this;if(this._moveRowInArray(this.rows,t,e,n),this._moveRowInArray(this.activeRows,t,e,n),this.displayRowIterator((function(i){o._moveRowInArray(i,t,e,n)})),this.table.options.groupBy&&this.table.modExists("groupRows")){!n&&e instanceof D&&(e=this.table.rowManager.prevDisplayRow(t)||e);var i=e.getGroup(),r=t.getGroup();i===r?this._moveRowInArray(i.rows,t,e,n):(r&&r.removeRow(t),i.insertRow(t,e,n))}},r.prototype._moveRowInArray=function(t,e,n,o){var i,r,a,s;if(e!==n&&(i=t.indexOf(e),i>-1&&(t.splice(i,1),r=t.indexOf(n),r>-1?o?t.splice(r+1,0,e):t.splice(r,0,e):t.splice(i,0,e)),t===this.getDisplayRows())){a=i<r?i:r,s=r>i?r:i+1;for(var l=a;l<=s;l++)t[l]&&this.styleRow(t[l],l)}},r.prototype.clearData=function(){this.setData([])},r.prototype.getRowIndex=function(t){return this.findRowIndex(t,this.rows)},r.prototype.getDisplayRowIndex=function(t){var e=this.getDisplayRows().indexOf(t);return e>-1&&e},r.prototype.nextDisplayRow=function(t,e){var n=this.getDisplayRowIndex(t),o=!1;return!1!==n&&n<this.displayRowsCount-1&&(o=this.getDisplayRows()[n+1]),!o||o instanceof l&&"row"==o.type?o:this.nextDisplayRow(o,e)},r.prototype.prevDisplayRow=function(t,e){var n=this.getDisplayRowIndex(t),o=!1;return n&&(o=this.getDisplayRows()[n-1]),!e||!o||o instanceof l&&"row"==o.type?o:this.prevDisplayRow(o,e)},r.prototype.findRowIndex=function(t,e){var n;return t=this.findRow(t),!!(t&&(n=e.indexOf(t),n>-1))&&n},r.prototype.getData=function(t,e){var n=[],o=this.getRows(t);return o.forEach((function(t){"row"==t.type&&n.push(t.getData(e||"data"))})),n},r.prototype.getComponents=function(t){var e=[],n=this.getRows(t);return n.forEach((function(t){e.push(t.getComponent())})),e},r.prototype.getDataCount=function(t){var e=this.getRows(t);return e.length},r.prototype._genRemoteRequest=function(){var t=this,e=this.table,n=e.options,o={};if(e.modExists("page")){if(n.ajaxSorting){var i=this.table.modules.sort.getSort();i.forEach((function(t){delete t.column})),o[this.table.modules.page.paginationDataSentNames.sorters]=i}if(n.ajaxFiltering){var r=this.table.modules.filter.getFilters(!0,!0);o[this.table.modules.page.paginationDataSentNames.filters]=r}this.table.modules.ajax.setParams(o,!0)}e.modules.ajax.sendRequest().then((function(e){t._setDataActual(e,!0)})).catch((function(t){}))},r.prototype.filterRefresh=function(){var t=this.table,e=t.options,n=this.scrollLeft;e.ajaxFiltering?"remote"==e.pagination&&t.modExists("page")?(t.modules.page.reset(!0),t.modules.page.setPage(1).then((function(){})).catch((function(){}))):e.ajaxProgressiveLoad?t.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData("filter"),this.scrollHorizontal(n)},r.prototype.sorterRefresh=function(t){var e=this.table,n=this.table.options,o=this.scrollLeft;n.ajaxSorting?("remote"==n.pagination||n.progressiveLoad)&&e.modExists("page")?(e.modules.page.reset(!0),e.modules.page.setPage(1).then((function(){})).catch((function(){}))):n.ajaxProgressiveLoad?e.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData(t?"filter":"sort"),this.scrollHorizontal(o)},r.prototype.scrollHorizontal=function(t){this.scrollLeft=t,this.element.scrollLeft=t,this.table.options.groupBy&&this.table.modules.groupRows.scrollHeaders(t),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.scrollHorizontal(t)},r.prototype.refreshActiveData=function(t,e,n){var o,i=this,r=this.table,a=["all","filter","sort","display","freeze","group","tree","page"];if(this.redrawBlock)(!this.redrawBlockRestoreConfig||a.indexOf(t)<a.indexOf(this.redrawBlockRestoreConfig.stage))&&(this.redrawBlockRestoreConfig={stage:t,skipStage:e,renderInPosition:n});else{switch(i.table.modExists("edit")&&i.table.modules.edit.cancelEdit(),t||(t="all"),r.options.selectable&&!r.options.selectablePersistence&&r.modExists("selectRow")&&r.modules.selectRow.deselectRows(),t){case"all":case"filter":e?e=!1:r.modExists("filter")?i.setActiveRows(r.modules.filter.filter(i.rows)):i.setActiveRows(i.rows.slice(0));case"sort":e?e=!1:r.modExists("sort")&&r.modules.sort.sort(this.activeRows),this.regenerateRowNumbers();case"display":this.resetDisplayRows();case"freeze":e?e=!1:this.table.modExists("frozenRows")&&r.modules.frozenRows.isFrozen()&&(r.modules.frozenRows.getDisplayIndex()||r.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex()),o=r.modules.frozenRows.getDisplayIndex(),o=i.setDisplayRows(r.modules.frozenRows.getRows(this.getDisplayRows(o-1)),o),!0!==o&&r.modules.frozenRows.setDisplayIndex(o));case"group":e?e=!1:r.options.groupBy&&r.modExists("groupRows")&&(r.modules.groupRows.getDisplayIndex()||r.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex()),o=r.modules.groupRows.getDisplayIndex(),o=i.setDisplayRows(r.modules.groupRows.getRows(this.getDisplayRows(o-1)),o),!0!==o&&r.modules.groupRows.setDisplayIndex(o));case"tree":e?e=!1:r.options.dataTree&&r.modExists("dataTree")&&(r.modules.dataTree.getDisplayIndex()||r.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex()),o=r.modules.dataTree.getDisplayIndex(),o=i.setDisplayRows(r.modules.dataTree.getRows(this.getDisplayRows(o-1)),o),!0!==o&&r.modules.dataTree.setDisplayIndex(o)),r.options.pagination&&r.modExists("page")&&!n&&"local"==r.modules.page.getMode()&&r.modules.page.reset();case"page":e?e=!1:r.options.pagination&&r.modExists("page")&&(r.modules.page.getDisplayIndex()||r.modules.page.setDisplayIndex(this.getNextDisplayIndex()),o=r.modules.page.getDisplayIndex(),"local"==r.modules.page.getMode()&&r.modules.page.setMaxRows(this.getDisplayRows(o-1).length),o=i.setDisplayRows(r.modules.page.getRows(this.getDisplayRows(o-1)),o),!0!==o&&r.modules.page.setDisplayIndex(o))}h.prototype.helpers.elVisible(i.element)&&(n?i.reRenderInPosition():(i.renderTable(),r.options.layoutColumnsOnNewData&&i.table.columnManager.redraw(!0))),r.modExists("columnCalcs")&&r.modules.columnCalcs.recalc(this.activeRows)}},r.prototype.regenerateRowNumbers=function(){var t=this;this.rowNumColumn&&this.activeRows.forEach((function(e){var n=e.getCell(t.rowNumColumn);n&&n._generateContents()}))},r.prototype.setActiveRows=function(t){this.activeRows=t,this.activeRowsCount=this.activeRows.length},r.prototype.resetDisplayRows=function(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length,this.table.modExists("frozenRows")&&this.table.modules.frozenRows.setDisplayIndex(0),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.setDisplayIndex(0),this.table.options.pagination&&this.table.modExists("page")&&this.table.modules.page.setDisplayIndex(0)},r.prototype.getNextDisplayIndex=function(){return this.displayRows.length},r.prototype.setDisplayRows=function(t,e){var n=!0;return e&&"undefined"!=typeof this.displayRows[e]?(this.displayRows[e]=t,n=!0):(this.displayRows.push(t),n=e=this.displayRows.length-1),e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),n},r.prototype.getDisplayRows=function(t){return"undefined"==typeof t?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[t]||[]},r.prototype.getVisibleRows=function(t){var e=this.element.scrollTop,n=this.element.clientHeight+e,o=!1,i=0,r=0,a=this.getDisplayRows();if(t){this.getDisplayRows();for(var s=this.vDomTop;s<=this.vDomBottom;s++)if(a[s])if(o){if(!(n-a[s].getElement().offsetTop>=0))break;r=s}else if(e-a[s].getElement().offsetTop>=0)i=s;else{if(o=!0,!(n-a[s].getElement().offsetTop>=0))break;r=s}}else i=this.vDomTop,r=this.vDomBottom;return a.slice(i,r+1)},r.prototype.displayRowIterator=function(t){this.displayRows.forEach(t),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length},r.prototype.getRows=function(t){var e;switch(t){case"active":e=this.activeRows;break;case"display":e=this.table.rowManager.getDisplayRows();break;case"visible":e=this.getVisibleRows(!0);break;default:e=this.rows}return e},r.prototype.reRenderInPosition=function(t){if("virtual"==this.getRenderMode())if(this.redrawBlock)t?t():this.redrawBlockRederInPosition=!0;else{for(var e=this.element.scrollTop,n=!1,o=!1,i=this.scrollLeft,r=this.getDisplayRows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(r[a]){var s=e-r[a].getElement().offsetTop;if(!(!1===o||Math.abs(s)<o))break;o=s,n=a}t&&t(),this._virtualRenderFill(!1===n?this.displayRowsCount-1:n,!0,o||0),this.scrollHorizontal(i)}else this.renderTable(),t&&t()},r.prototype.setRenderMode=function(){this.table.options.virtualDom?(this.renderMode="virtual",this.table.element.clientHeight||this.table.options.height?this.fixedHeight=!0:this.fixedHeight=!1):this.renderMode="classic"},r.prototype.getRenderMode=function(){return this.renderMode},r.prototype.renderTable=function(){switch(this.table.options.renderStarted.call(this.table),this.element.scrollTop=0,this.renderMode){case"classic":this._simpleRender();break;case"virtual":this._virtualRenderFill();break}this.firstRender&&(this.displayRowsCount?(this.firstRender=!1,this.table.modules.layout.layout()):this.renderEmptyScroll()),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.displayRowsCount||this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px"),this.table.options.renderComplete.call(this.table)},r.prototype._simpleRender=function(){this._clearVirtualDom(),this.displayRowsCount?this.checkClassicModeGroupHeaderWidth():this.renderEmptyScroll()},r.prototype.checkClassicModeGroupHeaderWidth=function(){var t=this,e=this.tableElement,n=!0;t.getDisplayRows().forEach((function(o,i){t.styleRow(o,i),e.appendChild(o.getElement()),o.initialize(!0),"group"!==o.type&&(n=!1)})),e.style.minWidth=n?t.table.columnManager.getWidth()+"px":""},r.prototype.renderEmptyScroll=function(){this.table.options.placeholder?this.tableElement.style.display="none":(this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px",this.tableElement.style.minHeight="1px",this.tableElement.style.visibility="hidden")},r.prototype._clearVirtualDom=function(){var t=this.tableElement;this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder);while(t.firstChild)t.removeChild(t.firstChild);t.style.paddingTop="",t.style.paddingBottom="",t.style.minWidth="",t.style.minHeight="",t.style.display="",t.style.visibility="",this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0},r.prototype.styleRow=function(t,e){var n=t.getElement();e%2?(n.classList.add("tabulator-row-even"),n.classList.remove("tabulator-row-odd")):(n.classList.add("tabulator-row-odd"),n.classList.remove("tabulator-row-even"))},r.prototype._virtualRenderFill=function(t,e,n){var o=this,i=o.tableElement,r=o.element,a=0,s=0,l=0,c=0,u=!0,d=o.getDisplayRows();if(t=t||0,n=n||0,t){while(i.firstChild)i.removeChild(i.firstChild);var p=(o.displayRowsCount-t+1)*o.vDomRowHeight;p<o.height&&(t-=Math.ceil((o.height-p)/o.vDomRowHeight),t<0&&(t=0)),a=Math.min(Math.max(Math.floor(o.vDomWindowBuffer/o.vDomRowHeight),o.vDomWindowMinMarginRows),t),t-=a}else o._clearVirtualDom();if(o.displayRowsCount&&h.prototype.helpers.elVisible(o.element)){o.vDomTop=t,o.vDomBottom=t-1;while((s<=o.height+o.vDomWindowBuffer||c<o.vDomWindowMinTotalRows)&&o.vDomBottom<o.displayRowsCount-1){var f=o.vDomBottom+1,m=d[f],g=0;o.styleRow(m,f),i.appendChild(m.getElement()),m.initialized?m.heightInitialized||m.normalizeHeight(!0):m.initialize(!0),g=m.getHeight(),c<a?l+=g:s+=g,g>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*g),"group"!==m.type&&(u=!1),o.vDomBottom++,c++}t?(o.vDomTopPad=e?o.vDomRowHeight*this.vDomTop+n:o.scrollTop-l,o.vDomBottomPad=o.vDomBottom==o.displayRowsCount-1?0:Math.max(o.vDomScrollHeight-o.vDomTopPad-s-l,0)):(this.vDomTopPad=0,o.vDomRowHeight=Math.floor((s+l)/c),o.vDomBottomPad=o.vDomRowHeight*(o.displayRowsCount-o.vDomBottom-1),o.vDomScrollHeight=l+s+o.vDomBottomPad-o.height),i.style.paddingTop=o.vDomTopPad+"px",i.style.paddingBottom=o.vDomBottomPad+"px",e&&(this.scrollTop=o.vDomTopPad+l+n-(this.element.scrollWidth>this.element.clientWidth?this.element.offsetHeight-this.element.clientHeight:0)),this.scrollTop=Math.min(this.scrollTop,this.element.scrollHeight-this.height),this.element.scrollWidth>this.element.offsetWidth&&e&&(this.scrollTop+=this.element.offsetHeight-this.element.clientHeight),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,r.scrollTop=this.scrollTop,i.style.minWidth=u?o.table.columnManager.getWidth()+"px":"",o.table.options.groupBy&&"fitDataFill"!=o.table.modules.layout.getMode()&&o.displayRowsCount==o.table.modules.groupRows.countGroups()&&(o.tableElement.style.minWidth=o.table.columnManager.getWidth())}else this.renderEmptyScroll();this.fixedHeight||this.adjustTableSize()},r.prototype.scrollVertical=function(t){var e=this.scrollTop-this.vDomScrollPosTop,n=this.scrollTop-this.vDomScrollPosBottom,o=2*this.vDomWindowBuffer;if(-e>o||n>o){var i=this.scrollLeft;this._virtualRenderFill(Math.floor(this.element.scrollTop/this.element.scrollHeight*this.displayRowsCount)),this.scrollHorizontal(i)}else t?(e<0&&this._addTopRow(-e),n<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(-n):this.vDomScrollPosBottom=this.scrollTop)):(e>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(e):this.vDomScrollPosTop=this.scrollTop),n>=0&&this._addBottomRow(n))},r.prototype._addTopRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.tableElement,o=this.getDisplayRows();if(this.vDomTop){var i=this.vDomTop-1,r=o[i],a=r.getHeight()||this.vDomRowHeight;t>=a&&(this.styleRow(r,i),n.insertBefore(r.getElement(),n.firstChild),r.initialized&&r.heightInitialized||(this.vDomTopNewRows.push(r),r.heightInitialized||r.clearCellHeight()),r.initialize(),this.vDomTopPad-=a,this.vDomTopPad<0&&(this.vDomTopPad=i*this.vDomRowHeight),i||(this.vDomTopPad=0),n.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=a,this.vDomTop--),t=-(this.scrollTop-this.vDomScrollPosTop),r.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*r.getHeight()),e<this.vDomMaxRenderChain&&this.vDomTop&&t>=(o[this.vDomTop-1].getHeight()||this.vDomRowHeight)?this._addTopRow(t,e+1):this._quickNormalizeRowHeight(this.vDomTopNewRows)}},r.prototype._removeTopRow=function(t){var e=this.tableElement,n=this.getDisplayRows()[this.vDomTop],o=n.getHeight()||this.vDomRowHeight;if(t>=o){var i=n.getElement();i.parentNode.removeChild(i),this.vDomTopPad+=o,e.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?o:o+this.vDomWindowBuffer,this.vDomTop++,t=this.scrollTop-this.vDomScrollPosTop,this._removeTopRow(t)}},r.prototype._addBottomRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.tableElement,o=this.getDisplayRows();if(this.vDomBottom<this.displayRowsCount-1){var i=this.vDomBottom+1,r=o[i],a=r.getHeight()||this.vDomRowHeight;t>=a&&(this.styleRow(r,i),n.appendChild(r.getElement()),r.initialized&&r.heightInitialized||(this.vDomBottomNewRows.push(r),r.heightInitialized||r.clearCellHeight()),r.initialize(),this.vDomBottomPad-=a,(this.vDomBottomPad<0||i==this.displayRowsCount-1)&&(this.vDomBottomPad=0),n.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=a,this.vDomBottom++),t=this.scrollTop-this.vDomScrollPosBottom,r.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*r.getHeight()),e<this.vDomMaxRenderChain&&this.vDomBottom<this.displayRowsCount-1&&t>=(o[this.vDomBottom+1].getHeight()||this.vDomRowHeight)?this._addBottomRow(t,e+1):this._quickNormalizeRowHeight(this.vDomBottomNewRows)}},r.prototype._removeBottomRow=function(t){var e=this.tableElement,n=this.getDisplayRows()[this.vDomBottom],o=n.getHeight()||this.vDomRowHeight;if(t>=o){var i=n.getElement();i.parentNode&&i.parentNode.removeChild(i),this.vDomBottomPad+=o,this.vDomBottomPad<0&&(this.vDomBottomPad=0),e.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=o,this.vDomBottom--,t=-(this.scrollTop-this.vDomScrollPosBottom),this._removeBottomRow(t)}},r.prototype._quickNormalizeRowHeight=function(t){t.forEach((function(t){t.calcHeight()})),t.forEach((function(t){t.setCellHeight()})),t.length=0},r.prototype.normalizeHeight=function(){this.activeRows.forEach((function(t){t.normalizeHeight()}))},r.prototype.adjustTableSize=function(){var t,e=this.element.clientHeight;if("virtual"===this.renderMode){var n=this.columnManager.getElement().offsetHeight+(this.table.footerManager&&!this.table.footerManager.external?this.table.footerManager.getElement().offsetHeight:0);this.fixedHeight?(this.element.style.minHeight="calc(100% - "+n+"px)",this.element.style.height="calc(100% - "+n+"px)",this.element.style.maxHeight="calc(100% - "+n+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-n+"px",this.element.scrollTop=this.scrollTop),this.height=this.element.clientHeight,this.vDomWindowBuffer=this.table.options.virtualDomBuffer||this.height,this.fixedHeight||e==this.element.clientHeight||(t=this.table.modExists("resizeTable"),(t&&!this.table.modules.resizeTable.autoResize||!t)&&this.redraw())}},r.prototype.reinitialize=function(){this.rows.forEach((function(t){t.reinitialize()}))},r.prototype.blockRedraw=function(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1},r.prototype.restoreRedraw=function(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.stage,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1},r.prototype.redraw=function(t){var e=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,t?this.renderTable():("classic"==this.renderMode?this.table.options.groupBy?this.refreshActiveData("group",!1,!1):this._simpleRender():(this.reRenderInPosition(),this.scrollHorizontal(e)),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))},r.prototype.resetScroll=function(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var t=document.createEvent("Event");t.initEvent("scroll",!1,!0),this.element.dispatchEvent(t)}else this.element.dispatchEvent(new Event("scroll"))};var a=function(t){this._row=t};a.prototype.getData=function(t){return this._row.getData(t)},a.prototype.getElement=function(){return this._row.getElement()},a.prototype.getCells=function(){var t=[];return this._row.getCells().forEach((function(e){t.push(e.getComponent())})),t},a.prototype.getCell=function(t){var e=this._row.getCell(t);return!!e&&e.getComponent()},a.prototype.getIndex=function(){return this._row.getData("data")[this._row.table.options.index]},a.prototype.getPosition=function(t){return this._row.table.rowManager.getRowPosition(this._row,t)},a.prototype.delete=function(){return this._row.delete()},a.prototype.scrollTo=function(){return this._row.table.rowManager.scrollToRow(this._row)},a.prototype.pageTo=function(){if(this._row.table.modExists("page",!0))return this._row.table.modules.page.setPageToRow(this._row)},a.prototype.move=function(t,e){this._row.moveToRow(t,e)},a.prototype.update=function(t){return this._row.updateData(t)},a.prototype.normalizeHeight=function(){this._row.normalizeHeight(!0)},a.prototype.select=function(){this._row.table.modules.selectRow.selectRows(this._row)},a.prototype.deselect=function(){this._row.table.modules.selectRow.deselectRows(this._row)},a.prototype.toggleSelect=function(){this._row.table.modules.selectRow.toggleRow(this._row)},a.prototype.isSelected=function(){return this._row.table.modules.selectRow.isRowSelected(this._row)},a.prototype._getSelf=function(){return this._row},a.prototype.validate=function(){return this._row.validate()},a.prototype.freeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.freezeRow(this._row)},a.prototype.unfreeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.unfreezeRow(this._row)},a.prototype.isFrozen=function(){if(this._row.table.modExists("frozenRows",!0)){var t=this._row.table.modules.frozenRows.rows.indexOf(this._row);return t>-1}return!1},a.prototype.treeCollapse=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.collapseRow(this._row)},a.prototype.treeExpand=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.expandRow(this._row)},a.prototype.treeToggle=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.toggleRow(this._row)},a.prototype.getTreeParent=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeParent(this._row)},a.prototype.getTreeChildren=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeChildren(this._row)},a.prototype.addTreeChild=function(t,e,n){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.addTreeChildRow(this._row,t,e,n)},a.prototype.reformat=function(){return this._row.reinitialize()},a.prototype.getGroup=function(){return this._row.getGroup().getComponent()},a.prototype.getTable=function(){return this._row.table},a.prototype.getNextRow=function(){var t=this._row.nextRow();return t?t.getComponent():t},a.prototype.getPrevRow=function(){var t=this._row.prevRow();return t?t.getComponent():t};var l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"row";this.table=e.table,this.parent=e,this.data={},this.type=n,this.element=this.createElement(),this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.setData(t),this.generateElement()};l.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-row"),t.setAttribute("role","row"),t},l.prototype.getElement=function(){return this.element},l.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},l.prototype.generateElement=function(){var t,e,n,o=this;!1!==o.table.options.selectable&&o.table.modExists("selectRow")&&o.table.modules.selectRow.initializeRow(this),!1!==o.table.options.movableRows&&o.table.modExists("moveRow")&&o.table.modules.moveRow.initializeRow(this),!1!==o.table.options.dataTree&&o.table.modExists("dataTree")&&o.table.modules.dataTree.initializeRow(this),"collapse"===o.table.options.responsiveLayout&&o.table.modExists("responsiveLayout")&&o.table.modules.responsiveLayout.initializeRow(this),o.table.options.rowContextMenu&&this.table.modExists("menu")&&o.table.modules.menu.initializeRow(this),o.table.options.rowClick&&o.element.addEventListener("click",(function(t){o.table.options.rowClick(t,o.getComponent())})),o.table.options.rowDblClick&&o.element.addEventListener("dblclick",(function(t){o.table.options.rowDblClick(t,o.getComponent())})),o.table.options.rowContext&&o.element.addEventListener("contextmenu",(function(t){o.table.options.rowContext(t,o.getComponent())})),o.table.options.rowMouseEnter&&o.element.addEventListener("mouseenter",(function(t){o.table.options.rowMouseEnter(t,o.getComponent())})),o.table.options.rowMouseLeave&&o.element.addEventListener("mouseleave",(function(t){o.table.options.rowMouseLeave(t,o.getComponent())})),o.table.options.rowMouseOver&&o.element.addEventListener("mouseover",(function(t){o.table.options.rowMouseOver(t,o.getComponent())})),o.table.options.rowMouseOut&&o.element.addEventListener("mouseout",(function(t){o.table.options.rowMouseOut(t,o.getComponent())})),o.table.options.rowMouseMove&&o.element.addEventListener("mousemove",(function(t){o.table.options.rowMouseMove(t,o.getComponent())})),o.table.options.rowTap&&(n=!1,o.element.addEventListener("touchstart",(function(t){n=!0}),{passive:!0}),o.element.addEventListener("touchend",(function(t){n&&o.table.options.rowTap(t,o.getComponent()),n=!1}))),o.table.options.rowDblTap&&(t=null,o.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,o.table.options.rowDblTap(e,o.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),o.table.options.rowTapHold&&(e=null,o.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,n=!1,o.table.options.rowTapHold(t,o.getComponent())}),1e3)}),{passive:!0}),o.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null})))},l.prototype.generateCells=function(){this.cells=this.table.columnManager.generateCells(this)},l.prototype.initialize=function(t){var e=this;if(!e.initialized||t){e.deleteCells();while(e.element.firstChild)e.element.removeChild(e.element.firstChild);this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutRow(this),this.generateCells(),e.cells.forEach((function(t){e.element.appendChild(t.getElement()),t.cellRendered()})),t&&e.normalizeHeight(),e.table.options.dataTree&&e.table.modExists("dataTree")&&e.table.modules.dataTree.layoutRow(this),"collapse"===e.table.options.responsiveLayout&&e.table.modExists("responsiveLayout")&&e.table.modules.responsiveLayout.layoutRow(this),e.table.options.rowFormatter&&e.table.options.rowFormatter(e.getComponent()),e.table.options.resizableRows&&e.table.modExists("resizeRows")&&e.table.modules.resizeRows.initializeRow(e),e.initialized=!0}},l.prototype.reinitializeHeight=function(){this.heightInitialized=!1,null!==this.element.offsetParent&&this.normalizeHeight(!0)},l.prototype.reinitialize=function(){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),null!==this.element.offsetParent&&this.initialize(!0)},l.prototype.calcHeight=function(t){var e=0,n=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach((function(t){var n=t.getHeight();n>e&&(e=n)})),this.height=t?Math.max(e,n):this.manualHeight?this.height:Math.max(e,n),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight},l.prototype.setCellHeight=function(){this.cells.forEach((function(t){t.setHeight()})),this.heightInitialized=!0},l.prototype.clearCellHeight=function(){this.cells.forEach((function(t){t.clearHeight()}))},l.prototype.normalizeHeight=function(t){t&&this.clearCellHeight(),this.calcHeight(t),this.setCellHeight()},l.prototype.setHeight=function(t,e){(this.height!=t||e)&&(this.manualHeight=!0,this.height=t,this.heightStyled=t?t+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)},l.prototype.getHeight=function(){return this.outerHeight},l.prototype.getWidth=function(){return this.element.offsetWidth},l.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)},l.prototype.setData=function(t){this.table.modExists("mutator")&&(t=this.table.modules.mutator.transformRow(t,"data")),this.data=t,this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchRow(this)},l.prototype.updateData=function(t){var e,n=this,o=h.prototype.helpers.elVisible(this.element),i={};return new Promise((function(r,a){for(var s in"string"===typeof t&&(t=JSON.parse(t)),n.table.options.reactiveData&&n.table.modExists("reactiveData",!0)&&n.table.modules.reactiveData.block(),n.table.modExists("mutator")?(i=Object.assign(i,n.data),i=Object.assign(i,t),e=n.table.modules.mutator.transformRow(i,"data",t)):e=t,e)n.data[s]=e[s];for(var s in n.table.options.reactiveData&&n.table.modExists("reactiveData",!0)&&n.table.modules.reactiveData.unblock(),t){var l=n.table.columnManager.getColumnsByFieldRoot(s);l.forEach((function(t){var i=n.getCell(t.getField());if(i){var r=t.getFieldValue(e);i.getValue()!=r&&(i.setValueProcessData(r),o&&i.cellRendered())}}))}o?(n.normalizeHeight(!0),n.table.options.rowFormatter&&n.table.options.rowFormatter(n.getComponent())):(n.initialized=!1,n.height=0,n.heightStyled=""),!1!==n.table.options.dataTree&&n.table.modExists("dataTree")&&n.table.modules.dataTree.redrawNeeded(t)&&(n.table.modules.dataTree.initializeRow(n),n.table.modules.dataTree.layoutRow(n),n.table.rowManager.refreshActiveData("tree",!1,!0)),n.table.options.rowUpdated.call(n.table,n.getComponent()),r()}))},l.prototype.getData=function(t){var e=this;return t?e.table.modExists("accessor")?e.table.modules.accessor.transformRow(e.data,t):void 0:this.data},l.prototype.getCell=function(t){var e=!1;return t=this.table.columnManager.findColumn(t),e=this.cells.find((function(e){return e.column===t})),e},l.prototype.getCellIndex=function(t){return this.cells.findIndex((function(e){return e===t}))},l.prototype.findNextEditableCell=function(t){var e=!1;if(t<this.cells.length-1)for(var n=t+1;n<this.cells.length;n++){var o=this.cells[n];if(o.column.modules.edit&&h.prototype.helpers.elVisible(o.getElement())){var i=!0;if("function"==typeof o.column.modules.edit.check&&(i=o.column.modules.edit.check(o.getComponent())),i){e=o;break}}}return e},l.prototype.findPrevEditableCell=function(t){var e=!1;if(t>0)for(var n=t-1;n>=0;n--){var o=this.cells[n],i=!0;if(o.column.modules.edit&&h.prototype.helpers.elVisible(o.getElement())&&("function"==typeof o.column.modules.edit.check&&(i=o.column.modules.edit.check(o.getComponent())),i)){e=o;break}}return e},l.prototype.getCells=function(){return this.cells},l.prototype.nextRow=function(){var t=this.table.rowManager.nextDisplayRow(this,!0);return t||!1},l.prototype.prevRow=function(){var t=this.table.rowManager.prevDisplayRow(this,!0);return t||!1},l.prototype.moveToRow=function(t,e){var n=this.table.rowManager.findRow(t);n?(this.table.rowManager.moveRowActual(this,n,!e),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",t)},l.prototype.validate=function(){var t=[];return this.cells.forEach((function(e){e.validate()||t.push(e.getComponent())})),!t.length||t},l.prototype.delete=function(){var t=this;return new Promise((function(e,n){var o,i;t.table.options.history&&t.table.modExists("history")&&(t.table.options.groupBy&&t.table.modExists("groupRows")?(i=t.getGroup().rows,o=i.indexOf(t),o&&(o=i[o-1])):(o=t.table.rowManager.getRowIndex(t),o&&(o=t.table.rowManager.rows[o-1])),t.table.modules.history.action("rowDelete",t,{data:t.getData(),pos:!o,index:o})),t.deleteActual(),e()}))},l.prototype.deleteActual=function(t){this.table.rowManager.getRowIndex(this);this.table.modExists("selectRow")&&this.table.modules.selectRow._deselectRow(this,!0),this.table.modExists("edit")&&this.table.modules.edit.currentCell.row===this&&this.table.modules.edit.cancelEdit(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0),this.modules.group&&this.modules.group.removeRow(this),this.table.rowManager.deleteRow(this,t),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.rowDelete(this),this.table.modExists("columnCalcs")&&(this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.columnCalcs.recalcRowGroup(this):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows))},l.prototype.deleteCells=function(){for(var t=this.cells.length,e=0;e<t;e++)this.cells[0].delete()},l.prototype.wipe=function(){this.deleteCells();while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.element=!1,this.modules={},this.element.parentNode&&this.element.parentNode.removeChild(this.element)},l.prototype.getGroup=function(){return this.modules.group||!1},l.prototype.getComponent=function(){return this.component||(this.component=new a(this)),this.component};var c=function(t){this._cell=t};c.prototype.getValue=function(){return this._cell.getValue()},c.prototype.getOldValue=function(){return this._cell.getOldValue()},c.prototype.getElement=function(){return this._cell.getElement()},c.prototype.getRow=function(){return this._cell.row.getComponent()},c.prototype.getData=function(){return this._cell.row.getData()},c.prototype.getField=function(){return this._cell.column.getField()},c.prototype.getColumn=function(){return this._cell.column.getComponent()},c.prototype.setValue=function(t,e){"undefined"==typeof e&&(e=!0),this._cell.setValue(t,e)},c.prototype.restoreOldValue=function(){this._cell.setValueActual(this._cell.getOldValue())},c.prototype.edit=function(t){return this._cell.edit(t)},c.prototype.cancelEdit=function(){this._cell.cancelEdit()},c.prototype.isEdited=function(){return!!this._cell.modules.edit&&this._cell.modules.edit.edited},c.prototype.clearEdited=function(){self.table.modExists("edit",!0)&&this._cell.table.modules.edit.clearEdited(this._cell)},c.prototype.isValid=function(){return!this._cell.modules.validate||!this._cell.modules.validate.invalid},c.prototype.validate=function(){return this._cell.validate()},c.prototype.clearValidation=function(){self.table.modExists("validate",!0)&&this._cell.table.modules.validate.clearValidation(this._cell)},c.prototype.nav=function(){return this._cell.nav()},c.prototype.checkHeight=function(){this._cell.checkHeight()},c.prototype.getTable=function(){return this._cell.table},c.prototype._getSelf=function(){return this._cell};var u=function(t,e){this.table=t.table,this.column=t,this.row=e,this.element=null,this.value=null,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.build()};u.prototype.build=function(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data))},u.prototype.generateElement=function(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element},u.prototype._configureCell=function(){var t=this,e=t.column.cellEvents,n=t.element,o=this.column.getField(),i={top:"flex-start",bottom:"flex-end",middle:"center"},r={left:"flex-start",right:"flex-end",center:"center"};if(n.style.textAlign=t.column.hozAlign,t.column.vertAlign&&(n.style.display="inline-flex",n.style.alignItems=i[t.column.vertAlign]||"",t.column.hozAlign&&(n.style.justifyContent=r[t.column.hozAlign]||"")),o&&n.setAttribute("tabulator-field",o),t.column.definition.cssClass){var a=t.column.definition.cssClass.split(" ");a.forEach((function(t){n.classList.add(t)}))}"hover"===this.table.options.tooltipGenerationMode&&n.addEventListener("mouseenter",(function(e){t._generateTooltip()})),t._bindClickEvents(e),t._bindTouchEvents(e),t._bindMouseEvents(e),t.column.modules.edit&&t.table.modules.edit.bindEditor(t),t.column.definition.rowHandle&&!1!==t.table.options.movableRows&&t.table.modExists("moveRow")&&t.table.modules.moveRow.initializeCell(t),t.column.visible||t.hide()},u.prototype._bindClickEvents=function(t){var e=this,n=e.element;(t.cellClick||e.table.options.cellClick)&&n.addEventListener("click",(function(n){var o=e.getComponent();t.cellClick&&t.cellClick.call(e.table,n,o),e.table.options.cellClick&&e.table.options.cellClick.call(e.table,n,o)})),t.cellDblClick||this.table.options.cellDblClick?n.addEventListener("dblclick",(function(n){var o=e.getComponent();t.cellDblClick&&t.cellDblClick.call(e.table,n,o),e.table.options.cellDblClick&&e.table.options.cellDblClick.call(e.table,n,o)})):n.addEventListener("dblclick",(function(t){if(!e.table.modExists("edit")||e.table.modules.edit.currentCell!==e){t.preventDefault();try{if(document.selection){var n=document.body.createTextRange();n.moveToElementText(e.element),n.select()}else if(window.getSelection){n=document.createRange();n.selectNode(e.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}}catch(t){}}})),(t.cellContext||this.table.options.cellContext)&&n.addEventListener("contextmenu",(function(n){var o=e.getComponent();t.cellContext&&t.cellContext.call(e.table,n,o),e.table.options.cellContext&&e.table.options.cellContext.call(e.table,n,o)}))},u.prototype._bindMouseEvents=function(t){var e=this,n=e.element;(t.cellMouseEnter||e.table.options.cellMouseEnter)&&n.addEventListener("mouseenter",(function(n){var o=e.getComponent();t.cellMouseEnter&&t.cellMouseEnter.call(e.table,n,o),e.table.options.cellMouseEnter&&e.table.options.cellMouseEnter.call(e.table,n,o)})),(t.cellMouseLeave||e.table.options.cellMouseLeave)&&n.addEventListener("mouseleave",(function(n){var o=e.getComponent();t.cellMouseLeave&&t.cellMouseLeave.call(e.table,n,o),e.table.options.cellMouseLeave&&e.table.options.cellMouseLeave.call(e.table,n,o)})),(t.cellMouseOver||e.table.options.cellMouseOver)&&n.addEventListener("mouseover",(function(n){var o=e.getComponent();t.cellMouseOver&&t.cellMouseOver.call(e.table,n,o),e.table.options.cellMouseOver&&e.table.options.cellMouseOver.call(e.table,n,o)})),(t.cellMouseOut||e.table.options.cellMouseOut)&&n.addEventListener("mouseout",(function(n){var o=e.getComponent();t.cellMouseOut&&t.cellMouseOut.call(e.table,n,o),e.table.options.cellMouseOut&&e.table.options.cellMouseOut.call(e.table,n,o)})),(t.cellMouseMove||e.table.options.cellMouseMove)&&n.addEventListener("mousemove",(function(n){var o=e.getComponent();t.cellMouseMove&&t.cellMouseMove.call(e.table,n,o),e.table.options.cellMouseMove&&e.table.options.cellMouseMove.call(e.table,n,o)}))},u.prototype._bindTouchEvents=function(t){var e,n,o,i=this,r=i.element;(t.cellTap||this.table.options.cellTap)&&(o=!1,r.addEventListener("touchstart",(function(t){o=!0}),{passive:!0}),r.addEventListener("touchend",(function(e){if(o){var n=i.getComponent();t.cellTap&&t.cellTap.call(i.table,e,n),i.table.options.cellTap&&i.table.options.cellTap.call(i.table,e,n)}o=!1}))),(t.cellDblTap||this.table.options.cellDblTap)&&(e=null,r.addEventListener("touchend",(function(n){if(e){clearTimeout(e),e=null;var o=i.getComponent();t.cellDblTap&&t.cellDblTap.call(i.table,n,o),i.table.options.cellDblTap&&i.table.options.cellDblTap.call(i.table,n,o)}else e=setTimeout((function(){clearTimeout(e),e=null}),300)}))),(t.cellTapHold||this.table.options.cellTapHold)&&(n=null,r.addEventListener("touchstart",(function(e){clearTimeout(n),n=setTimeout((function(){clearTimeout(n),n=null,o=!1;var r=i.getComponent();t.cellTapHold&&t.cellTapHold.call(i.table,e,r),i.table.options.cellTapHold&&i.table.options.cellTapHold.call(i.table,e,r)}),1e3)}),{passive:!0}),r.addEventListener("touchend",(function(t){clearTimeout(n),n=null})))},u.prototype._generateContents=function(){var t;switch(t=this.table.modExists("format")?this.table.modules.format.formatValue(this):this.element.innerHTML=this.value,"undefined"===typeof t?"undefined":s(t)){case"object":if(t instanceof Node){while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.element.appendChild(t)}else this.element.innerHTML="",null!=t&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",t);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=t}},u.prototype.cellRendered=function(){this.table.modExists("format")&&this.table.modules.format.cellRendered&&this.table.modules.format.cellRendered(this)},u.prototype._generateTooltip=function(){var t=this.column.tooltip;t?(!0===t?t=this.value:"function"==typeof t&&(t=t(this.getComponent()),!1===t&&(t="")),"undefined"===typeof t&&(t=""),this.element.setAttribute("title",t)):this.element.setAttribute("title","")},u.prototype.getElement=function(){return this.element},u.prototype.getValue=function(){return this.value},u.prototype.getOldValue=function(){return this.oldValue},u.prototype.setValue=function(t,e){var n,o=this.setValueProcessData(t,e);o&&(this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("cellEdit",this,{oldValue:this.oldValue,newValue:this.value}),n=this.getComponent(),this.column.cellEvents.cellEdited&&this.column.cellEvents.cellEdited.call(this.table,n),this.cellRendered(),this.table.options.cellEdited.call(this.table,n),this.table.options.dataEdited.call(this.table,this.table.rowManager.getData()))},u.prototype.setValueProcessData=function(t,e){var n=!1;return this.value!=t&&(n=!0,e&&this.column.modules.mutate&&(t=this.table.modules.mutator.transformCell(this,t))),this.setValueActual(t),n&&this.table.modExists("columnCalcs")&&(this.column.definition.topCalc||this.column.definition.bottomCalc)&&(this.table.options.groupBy&&this.table.modExists("groupRows")?("table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs||this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),"table"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.recalcRowGroup(this.row)):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)),n},u.prototype.setValueActual=function(t){this.oldValue=this.value,this.value=t,this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.block(),this.column.setFieldValue(this.row.data,t),this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.unblock(),this._generateContents(),this._generateTooltip(),this.table.options.resizableColumns&&this.table.modExists("resizeColumns")&&this.table.modules.resizeColumns.initializeColumn("cell",this.column,this.element),this.column.definition.contextMenu&&this.table.modExists("menu")&&this.table.modules.menu.initializeCell(this),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutElement(this.element,this.column)},u.prototype.setWidth=function(){this.width=this.column.width,this.element.style.width=this.column.widthStyled},u.prototype.clearWidth=function(){this.width="",this.element.style.width=""},u.prototype.getWidth=function(){return this.width||this.element.offsetWidth},u.prototype.setMinWidth=function(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled},u.prototype.checkHeight=function(){this.row.reinitializeHeight()},u.prototype.clearHeight=function(){this.element.style.height="",this.height=null},u.prototype.setHeight=function(){this.height=this.row.height,this.element.style.height=this.row.heightStyled},u.prototype.getHeight=function(){return this.height||this.element.offsetHeight},u.prototype.show=function(){this.element.style.display=""},u.prototype.hide=function(){this.element.style.display="none"},u.prototype.edit=function(t){if(this.table.modExists("edit",!0))return this.table.modules.edit.editCell(this,t)},u.prototype.cancelEdit=function(){if(this.table.modExists("edit",!0)){var t=this.table.modules.edit.getCurrentCell();t&&t._getSelf()===this?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}},u.prototype.validate=function(){if(this.column.modules.validate&&this.table.modExists("validate",!0)){var t=this.table.modules.validate.validate(this.column.modules.validate,this,this.getValue());return!0===t}return!0},u.prototype.delete=function(){!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.modules.validate&&this.modules.validate.invalid&&this.table.modules.validate.clearValidation(this),this.modules.edit&&this.modules.edit.edited&&this.table.modules.edit.clearEdited(this),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}},u.prototype.nav=function(){var t=this,e=!1,n=this.row.getCellIndex(this);return{next:function(){var e,n=this.right();return!!n||(e=t.table.rowManager.nextDisplayRow(t.row,!0),!(!e||(n=e.findNextEditableCell(-1),!n))&&(n.edit(),!0))},prev:function(){var e,n=this.left();return!!n||(e=t.table.rowManager.prevDisplayRow(t.row,!0),!(!e||(n=e.findPrevEditableCell(e.cells.length),!n))&&(n.edit(),!0))},left:function(){return e=t.row.findPrevEditableCell(n),!!e&&(e.edit(),!0)},right:function(){return e=t.row.findNextEditableCell(n),!!e&&(e.edit(),!0)},up:function(){var e=t.table.rowManager.prevDisplayRow(t.row,!0);e&&e.cells[n].edit()},down:function(){var e=t.table.rowManager.nextDisplayRow(t.row,!0);e&&e.cells[n].edit()}}},u.prototype.getIndex=function(){this.row.getCellIndex(this)},u.prototype.getComponent=function(){return this.component||(this.component=new c(this)),this.component};var d=function(t){this.table=t,this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this._initialize()};d.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-footer"),t},d.prototype._initialize=function(t){if(this.table.options.footerElement)switch(s(this.table.options.footerElement)){case"string":"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}},d.prototype.getElement=function(){return this.element},d.prototype.append=function(t,e){this.activate(e),this.element.appendChild(t),this.table.rowManager.adjustTableSize()},d.prototype.prepend=function(t,e){this.activate(e),this.element.insertBefore(t,this.element.firstChild),this.table.rowManager.adjustTableSize()},d.prototype.remove=function(t){t.parentNode.removeChild(t),this.deactivate()},d.prototype.deactivate=function(t){this.element.firstChild&&!t||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)},d.prototype.activate=function(t){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),t&&this.links.push(t)},d.prototype.redraw=function(){this.links.forEach((function(t){t.footerRedraw()}))};var h=function t(e,n){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.modules={},this.initializeElement(e),this.initializeOptions(n||{}),this._create(),t.prototype.comms.register(this)};h.prototype.defaultOptions={height:!1,minHeight:!1,maxHeight:!1,layout:"fitData",layoutColumnsOnNewData:!1,columnMinWidth:40,columnHeaderVertAlign:"top",columnVertAlign:!1,resizableColumns:!0,resizableRows:!1,autoResize:!0,columns:[],cellHozAlign:"",cellVertAlign:"",data:[],autoColumns:!1,reactiveData:!1,nestedFieldSeparator:".",tooltips:!1,tooltipsHeader:!1,tooltipGenerationMode:"load",initialSort:!1,initialFilter:!1,initialHeaderFilter:!1,columnHeaderSortMulti:!0,sortOrderReverse:!1,headerSort:!0,headerSortTristate:!1,footerElement:!1,index:"id",keybindings:[],tabEndNewRow:!1,invalidOptionWarnings:!0,clipboard:!1,clipboardCopyStyled:!0,clipboardCopyConfig:!1,clipboardCopyFormatter:!1,clipboardCopyRowRange:"active",clipboardPasteParser:"table",clipboardPasteAction:"insert",clipboardCopied:function(){},clipboardPasted:function(){},clipboardPasteError:function(){},downloadDataFormatter:!1,downloadReady:function(t,e){return e},downloadComplete:!1,downloadConfig:{},downloadRowRange:"active",dataTree:!1,dataTreeElementColumn:!1,dataTreeBranchElement:!0,dataTreeChildIndent:9,dataTreeChildField:"_children",dataTreeCollapseElement:!1,dataTreeExpandElement:!1,dataTreeStartExpanded:!1,dataTreeRowExpanded:function(){},dataTreeRowCollapsed:function(){},dataTreeChildColumnCalcs:!1,dataTreeSelectPropagate:!1,printAsHtml:!1,printFormatter:!1,printHeader:!1,printFooter:!1,printCopyStyle:!0,printStyled:!0,printVisibleRows:!0,printRowRange:"visible",printConfig:{},addRowPos:"bottom",selectable:"highlight",selectableRangeMode:"drag",selectableRollingSelection:!0,selectablePersistence:!0,selectableCheck:function(t,e){return!0},headerFilterLiveFilterDelay:300,headerFilterPlaceholder:!1,headerVisible:!0,history:!1,locale:!1,langs:{},virtualDom:!0,virtualDomBuffer:0,persistentLayout:!1,persistentSort:!1,persistentFilter:!1,persistenceID:"",persistenceMode:!0,persistenceReaderFunc:!1,persistenceWriterFunc:!1,persistence:!1,responsiveLayout:!1,responsiveLayoutCollapseStartOpen:!0,responsiveLayoutCollapseUseFormatters:!0,responsiveLayoutCollapseFormatter:!1,pagination:!1,paginationSize:!1,paginationInitialPage:1,paginationButtonCount:5,paginationSizeSelector:!1,paginationElement:!1,paginationDataSent:{},paginationDataReceived:{},paginationAddRow:"page",ajaxURL:!1,ajaxURLGenerator:!1,ajaxParams:{},ajaxConfig:"get",ajaxContentType:"form",ajaxRequestFunc:!1,ajaxLoader:!0,ajaxLoaderLoading:!1,ajaxLoaderError:!1,ajaxFiltering:!1,ajaxSorting:!1,ajaxProgressiveLoad:!1,ajaxProgressiveLoadDelay:0,ajaxProgressiveLoadScrollMargin:0,groupBy:!1,groupStartOpen:!0,groupValues:!1,groupHeader:!1,groupHeaderPrint:null,groupHeaderClipboard:null,groupHeaderHtmlOutput:null,groupHeaderDownload:null,htmlOutputConfig:!1,movableColumns:!1,movableRows:!1,movableRowsConnectedTables:!1,movableRowsConnectedElements:!1,movableRowsSender:!1,movableRowsReceiver:"insert",movableRowsSendingStart:function(){},movableRowsSent:function(){},movableRowsSentFailed:function(){},movableRowsSendingStop:function(){},movableRowsReceivingStart:function(){},movableRowsReceived:function(){},movableRowsReceivedFailed:function(){},movableRowsReceivingStop:function(){},movableRowsElementDrop:function(){},scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,tableBuilding:function(){},tableBuilt:function(){},renderStarted:function(){},renderComplete:function(){},rowClick:!1,rowDblClick:!1,rowContext:!1,rowTap:!1,rowDblTap:!1,rowTapHold:!1,rowMouseEnter:!1,rowMouseLeave:!1,rowMouseOver:!1,rowMouseOut:!1,rowMouseMove:!1,rowContextMenu:!1,rowAdded:function(){},rowDeleted:function(){},rowMoved:function(){},rowUpdated:function(){},rowSelectionChanged:function(){},rowSelected:function(){},rowDeselected:function(){},rowResized:function(){},cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1,cellEditing:function(){},cellEdited:function(){},cellEditCancelled:function(){},columnMoved:!1,columnResized:function(){},columnTitleChanged:function(){},columnVisibilityChanged:function(){},htmlImporting:function(){},htmlImported:function(){},dataLoading:function(){},dataLoaded:function(){},dataEdited:function(){},ajaxRequesting:function(){},ajaxResponse:!1,ajaxError:function(){},dataFiltering:!1,dataFiltered:!1,dataSorting:function(){},dataSorted:function(){},groupToggleElement:"arrow",groupClosedShowCalcs:!1,dataGrouping:function(){},dataGrouped:!1,groupVisibilityChanged:function(){},groupClick:!1,groupDblClick:!1,groupContext:!1,groupContextMenu:!1,groupTap:!1,groupDblTap:!1,groupTapHold:!1,columnCalcs:!0,pageLoaded:function(){},localized:function(){},validationMode:"blocking",validationFailed:function(){},historyUndo:function(){},historyRedo:function(){},scrollHorizontal:function(){},scrollVertical:function(){}},h.prototype.initializeOptions=function(t){if(!1!==t.invalidOptionWarnings)for(var e in t)"undefined"===typeof this.defaultOptions[e]&&console.warn("Invalid table constructor option:",e);for(var e in this.defaultOptions)e in t?this.options[e]=t[e]:Array.isArray(this.defaultOptions[e])?this.options[e]=[]:"object"===s(this.defaultOptions[e])&&null!==this.defaultOptions[e]?this.options[e]={}:this.options[e]=this.defaultOptions[e]},h.prototype.initializeElement=function(t){return"undefined"!==typeof HTMLElement&&t instanceof HTMLElement?(this.element=t,!0):"string"===typeof t?(this.element=document.querySelector(t),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",t),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",t),!1)},h.prototype._mapDepricatedFunctionality=function(){(this.options.persistentLayout||this.options.persistentSort||this.options.persistentFilter)&&(this.options.persistence||(this.options.persistence={})),this.options.downloadDataFormatter&&console.warn("DEPRECATION WARNING - downloadDataFormatter option has been deprecated"),"undefined"!==typeof this.options.clipboardCopyHeader&&(this.options.columnHeaders=this.options.clipboardCopyHeader,console.warn("DEPRECATION WARNING - clipboardCopyHeader option has been deprecated, please use the columnHeaders property on the clipboardCopyConfig option")),!0!==this.options.printVisibleRows&&(console.warn("printVisibleRows option is deprecated, you should now use the printRowRange option"),this.options.persistence.printRowRange="active"),!0!==this.options.printCopyStyle&&(console.warn("printCopyStyle option is deprecated, you should now use the printStyled option"),this.options.persistence.printStyled=this.options.printCopyStyle),this.options.persistentLayout&&(console.warn("persistentLayout option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&"undefined"===typeof this.options.persistence.columns&&(this.options.persistence.columns=!0)),this.options.persistentSort&&(console.warn("persistentSort option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&"undefined"===typeof this.options.persistence.sort&&(this.options.persistence.sort=!0)),this.options.persistentFilter&&(console.warn("persistentFilter option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&"undefined"===typeof this.options.persistence.filter&&(this.options.persistence.filter=!0)),this.options.columnVertAlign&&(console.warn("columnVertAlign option is deprecated, you should now use the columnHeaderVertAlign option"),this.options.columnHeaderVertAlign=this.options.columnVertAlign)},h.prototype._clearSelection=function(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")},h.prototype._create=function(){this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.bindModules(),"TABLE"===this.element.tagName&&this.modExists("htmlTableImport",!0)&&this.modules.htmlTableImport.parseTable(),this.columnManager=new t(this),this.rowManager=new r(this),this.footerManager=new d(this),this.columnManager.setRowManager(this.rowManager),this.rowManager.setColumnManager(this.columnManager),this._buildElement(),this._loadInitialData()},h.prototype._clearObjectPointers=function(){this.options.columns=this.options.columns.slice(0),this.options.reactiveData||(this.options.data=this.options.data.slice(0))},h.prototype._buildElement=function(){var t=this,e=this.element,n=this.modules,o=this.options;o.tableBuilding.call(this),e.classList.add("tabulator"),e.setAttribute("role","grid");while(e.firstChild)e.removeChild(e.firstChild);for(var i in o.height&&(o.height=isNaN(o.height)?o.height:o.height+"px",e.style.height=o.height),!1!==o.minHeight&&(o.minHeight=isNaN(o.minHeight)?o.minHeight:o.minHeight+"px",e.style.minHeight=o.minHeight),!1!==o.maxHeight&&(o.maxHeight=isNaN(o.maxHeight)?o.maxHeight:o.maxHeight+"px",e.style.maxHeight=o.maxHeight),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modExists("layout",!0)&&n.layout.initialize(o.layout),!1!==o.headerFilterPlaceholder&&n.localize.setHeaderFilterPlaceholder(o.headerFilterPlaceholder),o.langs)n.localize.installLang(i,o.langs[i]);if(n.localize.setLocale(o.locale),"string"==typeof o.placeholder){var r=document.createElement("div");r.classList.add("tabulator-placeholder");var a=document.createElement("span");a.innerHTML=o.placeholder,r.appendChild(a),o.placeholder=r}if(e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),o.footerElement&&this.footerManager.activate(),o.persistence&&this.modExists("persistence",!0)&&n.persistence.initialize(),o.persistence&&this.modExists("persistence",!0)&&n.persistence.config.columns&&(o.columns=n.persistence.load("columns",o.columns)),o.movableRows&&this.modExists("moveRow")&&n.moveRow.initialize(),o.autoColumns&&this.options.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modExists("columnCalcs")&&n.columnCalcs.initialize(),this.columnManager.setColumns(o.columns),o.dataTree&&this.modExists("dataTree",!0)&&n.dataTree.initialize(),this.modExists("frozenRows")&&this.modules.frozenRows.initialize(),(o.persistence&&this.modExists("persistence",!0)&&n.persistence.config.sort||o.initialSort)&&this.modExists("sort",!0)){var s=[];o.persistence&&this.modExists("persistence",!0)&&n.persistence.config.sort?(s=n.persistence.load("sort"),!1===s&&o.initialSort&&(s=o.initialSort)):o.initialSort&&(s=o.initialSort),n.sort.setSort(s)}if((o.persistence&&this.modExists("persistence",!0)&&n.persistence.config.filter||o.initialFilter)&&this.modExists("filter",!0)){var l=[];o.persistence&&this.modExists("persistence",!0)&&n.persistence.config.filter?(l=n.persistence.load("filter"),!1===l&&o.initialFilter&&(l=o.initialFilter)):o.initialFilter&&(l=o.initialFilter),n.filter.setFilter(l)}o.initialHeaderFilter&&this.modExists("filter",!0)&&o.initialHeaderFilter.forEach((function(e){var o=t.columnManager.findColumn(e.field);if(!o)return console.warn("Column Filter Error - No matching column found:",e.field),!1;n.filter.setHeaderFilterValue(o,e.value)})),this.modExists("ajax")&&n.ajax.initialize(),o.pagination&&this.modExists("page",!0)&&n.page.initialize(),o.groupBy&&this.modExists("groupRows",!0)&&n.groupRows.initialize(),this.modExists("keybindings")&&n.keybindings.initialize(),this.modExists("selectRow")&&n.selectRow.clearSelectionData(!0),o.autoResize&&this.modExists("resizeTable")&&n.resizeTable.initialize(),this.modExists("clipboard")&&n.clipboard.initialize(),o.printAsHtml&&this.modExists("print")&&n.print.initialize(),o.tableBuilt.call(this)},h.prototype._loadInitialData=function(){var t=this;if(t.options.pagination&&t.modExists("page"))if(t.modules.page.reset(!0,!0),"local"==t.options.pagination){if(t.options.data.length)t.rowManager.setData(t.options.data,!1,!0);else{if((t.options.ajaxURL||t.options.ajaxURLGenerator)&&t.modExists("ajax"))return void t.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){t.options.paginationInitialPage&&t.modules.page.setPage(t.options.paginationInitialPage)}));t.rowManager.setData(t.options.data,!1,!0)}t.options.paginationInitialPage&&t.modules.page.setPage(t.options.paginationInitialPage)}else t.options.ajaxURL?t.modules.page.setPage(t.options.paginationInitialPage).then((function(){})).catch((function(){})):t.rowManager.setData([],!1,!0);else t.options.data.length?t.rowManager.setData(t.options.data):(t.options.ajaxURL||t.options.ajaxURLGenerator)&&t.modExists("ajax")?t.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){})):t.rowManager.setData(t.options.data,!1,!0)},h.prototype.destroy=function(){var t=this.element;h.prototype.comms.deregister(this),this.options.reactiveData&&this.modExists("reactiveData",!0)&&this.modules.reactiveData.unwatchData(),this.rowManager.rows.forEach((function(t){t.wipe()})),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[],this.options.autoResize&&this.modExists("resizeTable")&&this.modules.resizeTable.clearBindings(),this.modExists("keybindings")&&this.modules.keybindings.clearBindings();while(t.firstChild)t.removeChild(t.firstChild);t.classList.remove("tabulator")},h.prototype._detectBrowser=function(){var t=navigator.userAgent||navigator.vendor||window.opera;t.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):t.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):t.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))},h.prototype.blockRedraw=function(){return this.rowManager.blockRedraw()},h.prototype.restoreRedraw=function(){return this.rowManager.restoreRedraw()},h.prototype.setDataFromLocalFile=function(t){var e=this;return new Promise((function(n,o){var i=document.createElement("input");i.type="file",i.accept=t||".json,application/json",i.addEventListener("change",(function(t){var r,a=i.files[0],s=new FileReader;s.readAsText(a),s.onload=function(t){try{r=JSON.parse(s.result)}catch(t){return console.warn("File Load Error - File contents is invalid JSON",t),void o(t)}e._setData(r).then((function(t){n(t)})).catch((function(t){n(t)}))},s.onerror=function(t){console.warn("File Load Error - Unable to read file"),o()}})),i.click()}))},h.prototype.setData=function(t,e,n){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(t,e,n,!1,!0)},h.prototype._setData=function(t,e,n,o,i){var r=this;return"string"!==typeof t?t?r.rowManager.setData(t,o,i):r.modExists("ajax")&&(r.modules.ajax.getUrl||r.options.ajaxURLGenerator)?"remote"==r.options.pagination&&r.modExists("page",!0)?(r.modules.page.reset(!0,!0),r.modules.page.setPage(1)):r.modules.ajax.loadData(o,i):r.rowManager.setData([],o,i):0==t.indexOf("{")||0==t.indexOf("[")?r.rowManager.setData(JSON.parse(t),o,i):r.modExists("ajax",!0)?(e&&r.modules.ajax.setParams(e),n&&r.modules.ajax.setConfig(n),r.modules.ajax.setUrl(t),"remote"==r.options.pagination&&r.modExists("page",!0)?(r.modules.page.reset(!0,!0),r.modules.page.setPage(1)):r.modules.ajax.loadData(o,i)):void 0},h.prototype.clearData=function(){this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this.rowManager.clearData()},h.prototype.getData=function(t){return!0===t&&(console.warn("passing a boolean to the getData function is deprecated, you should now pass the string 'active'"),t="active"),this.rowManager.getData(t)},h.prototype.getDataCount=function(t){return!0===t&&(console.warn("passing a boolean to the getDataCount function is deprecated, you should now pass the string 'active'"),t="active"),this.rowManager.getDataCount(t)},h.prototype.searchRows=function(t,e,n){if(this.modExists("filter",!0))return this.modules.filter.search("rows",t,e,n)},h.prototype.searchData=function(t,e,n){if(this.modExists("filter",!0))return this.modules.filter.search("data",t,e,n)},h.prototype.getHtml=function(t,e,n){if(this.modExists("export",!0))return this.modules.export.getHtml(t,e,n)},h.prototype.print=function(t,e,n){if(this.modExists("print",!0))return this.modules.print.printFullscreen(t,e,n)},h.prototype.getAjaxUrl=function(){if(this.modExists("ajax",!0))return this.modules.ajax.getUrl()},h.prototype.replaceData=function(t,e,n){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(t,e,n,!0)},h.prototype.updateData=function(t){var e=this,n=this,o=0;return new Promise((function(i,r){e.modExists("ajax")&&e.modules.ajax.blockActiveRequest(),"string"===typeof t&&(t=JSON.parse(t)),t?t.forEach((function(t){var e=n.rowManager.findRow(t[n.options.index]);e&&(o++,e.updateData(t).then((function(){o--,o||i()})))})):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))}))},h.prototype.addData=function(t,e,n){var o=this;return new Promise((function(i,r){o.modExists("ajax")&&o.modules.ajax.blockActiveRequest(),"string"===typeof t&&(t=JSON.parse(t)),t?o.rowManager.addRows(t,e,n).then((function(t){var e=[];t.forEach((function(t){e.push(t.getComponent())})),i(e)})):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))}))},h.prototype.updateOrAddData=function(t){var e=this,n=this,o=[],i=0;return new Promise((function(r,a){e.modExists("ajax")&&e.modules.ajax.blockActiveRequest(),"string"===typeof t&&(t=JSON.parse(t)),t?t.forEach((function(t){var e=n.rowManager.findRow(t[n.options.index]);i++,e?e.updateData(t).then((function(){i--,o.push(e.getComponent()),i||r(o)})):n.rowManager.addRows(t).then((function(t){i--,o.push(t[0].getComponent()),i||r(o)}))})):(console.warn("Update Error - No data provided"),a("Update Error - No data provided"))}))},h.prototype.getRow=function(t){var e=this.rowManager.findRow(t);return e?e.getComponent():(console.warn("Find Error - No matching row found:",t),!1)},h.prototype.getRowFromPosition=function(t,e){var n=this.rowManager.getRowFromPosition(t,e);return n?n.getComponent():(console.warn("Find Error - No matching row found:",t),!1)},h.prototype.deleteRow=function(t){var e=this;return new Promise((function(n,o){var i=e,r=0,a=0,s=[];function l(){r++,r==t.length&&a&&(i.rowManager.reRenderInPosition(),n())}Array.isArray(t)||(t=[t]),t.forEach((function(t){var n=e.rowManager.findRow(t,!0);n?s.push(n):(console.warn("Delete Error - No matching row found:",t),o("Delete Error - No matching row found"),l())})),s.sort((function(t,n){return e.rowManager.rows.indexOf(t)>e.rowManager.rows.indexOf(n)?1:-1})),s.forEach((function(t){t.delete().then((function(){a++,l()})).catch((function(t){l(),o(t)}))}))}))},h.prototype.addRow=function(t,e,n){var o=this;return new Promise((function(i,r){"string"===typeof t&&(t=JSON.parse(t)),o.rowManager.addRows(t,e,n).then((function(t){o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(o.rowManager.activeRows),i(t[0].getComponent())}))}))},h.prototype.updateOrAddRow=function(t,e){var n=this;return new Promise((function(o,i){var r=n.rowManager.findRow(t);"string"===typeof e&&(e=JSON.parse(e)),r?r.updateData(e).then((function(){n.modExists("columnCalcs")&&n.modules.columnCalcs.recalc(n.rowManager.activeRows),o(r.getComponent())})).catch((function(t){i(t)})):r=n.rowManager.addRows(e).then((function(t){n.modExists("columnCalcs")&&n.modules.columnCalcs.recalc(n.rowManager.activeRows),o(t[0].getComponent())})).catch((function(t){i(t)}))}))},h.prototype.updateRow=function(t,e){var n=this;return new Promise((function(o,i){var r=n.rowManager.findRow(t);"string"===typeof e&&(e=JSON.parse(e)),r?r.updateData(e).then((function(){o(r.getComponent())})).catch((function(t){i(t)})):(console.warn("Update Error - No matching row found:",t),i("Update Error - No matching row found"))}))},h.prototype.scrollToRow=function(t,e,n){var o=this;return new Promise((function(i,r){var a=o.rowManager.findRow(t);a?o.rowManager.scrollToRow(a,e,n).then((function(){i()})).catch((function(t){r(t)})):(console.warn("Scroll Error - No matching row found:",t),r("Scroll Error - No matching row found"))}))},h.prototype.moveRow=function(t,e,n){var o=this.rowManager.findRow(t);o?o.moveToRow(e,n):console.warn("Move Error - No matching row found:",t)},h.prototype.getRows=function(t){return!0===t&&(console.warn("passing a boolean to the getRows function is deprecated, you should now pass the string 'active'"),t="active"),this.rowManager.getComponents(t)},h.prototype.getRowPosition=function(t,e){var n=this.rowManager.findRow(t);return n?this.rowManager.getRowPosition(n,e):(console.warn("Position Error - No matching row found:",t),!1)},h.prototype.copyToClipboard=function(t){this.modExists("clipboard",!0)&&this.modules.clipboard.copy(t)},h.prototype.setColumns=function(t){this.columnManager.setColumns(t)},h.prototype.getColumns=function(t){return this.columnManager.getComponents(t)},h.prototype.getColumn=function(t){var e=this.columnManager.findColumn(t);return e?e.getComponent():(console.warn("Find Error - No matching column found:",t),!1)},h.prototype.getColumnDefinitions=function(){return this.columnManager.getDefinitionTree()},h.prototype.getColumnLayout=function(){if(this.modExists("persistence",!0))return this.modules.persistence.parseColumns(this.columnManager.getColumns())},h.prototype.setColumnLayout=function(t){return!!this.modExists("persistence",!0)&&(this.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns,t)),!0)},h.prototype.showColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Show Error - No matching column found:",t),!1;e.show(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},h.prototype.hideColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Hide Error - No matching column found:",t),!1;e.hide(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},h.prototype.toggleColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Visibility Toggle Error - No matching column found:",t),!1;e.visible?e.hide():e.show()},h.prototype.addColumn=function(t,e,n){var o=this;return new Promise((function(i,r){var a=o.columnManager.findColumn(n);o.columnManager.addColumn(t,e,a).then((function(t){i(t.getComponent())})).catch((function(t){r(t)}))}))},h.prototype.deleteColumn=function(t){var e=this;return new Promise((function(n,o){var i=e.columnManager.findColumn(t);i?i.delete().then((function(){n()})).catch((function(t){o(t)})):(console.warn("Column Delete Error - No matching column found:",t),o())}))},h.prototype.updateColumnDefinition=function(t,e){var n=this;return new Promise((function(o,i){var r=n.columnManager.findColumn(t);r?r.updateDefinition(e).then((function(t){o(t)})).catch((function(t){i(t)})):(console.warn("Column Update Error - No matching column found:",t),i())}))},h.prototype.moveColumn=function(t,e,n){var o=this.columnManager.findColumn(t),i=this.columnManager.findColumn(e);o?i?this.columnManager.moveColumn(o,i,n):console.warn("Move Error - No matching column found:",i):console.warn("Move Error - No matching column found:",t)},h.prototype.scrollToColumn=function(t,e,n){var o=this;return new Promise((function(i,r){var a=o.columnManager.findColumn(t);a?o.columnManager.scrollToColumn(a,e,n).then((function(){i()})).catch((function(t){r(t)})):(console.warn("Scroll Error - No matching column found:",t),r("Scroll Error - No matching column found"))}))},h.prototype.setLocale=function(t){this.modules.localize.setLocale(t)},h.prototype.getLocale=function(){return this.modules.localize.getLocale()},h.prototype.getLang=function(t){return this.modules.localize.getLang(t)},h.prototype.redraw=function(t){this.columnManager.redraw(t),this.rowManager.redraw(t)},h.prototype.setHeight=function(t){"classic"!==this.rowManager.renderMode?(this.options.height=isNaN(t)?t:t+"px",this.element.style.height=this.options.height,this.rowManager.setRenderMode(),this.rowManager.redraw()):console.warn("setHeight function is not available in classic render mode")},h.prototype.setSort=function(t,e){this.modExists("sort",!0)&&(this.modules.sort.setSort(t,e),this.rowManager.sorterRefresh())},h.prototype.getSorters=function(){if(this.modExists("sort",!0))return this.modules.sort.getSort()},h.prototype.clearSort=function(){this.modExists("sort",!0)&&(this.modules.sort.clear(),this.rowManager.sorterRefresh())},h.prototype.setFilter=function(t,e,n,o){this.modExists("filter",!0)&&(this.modules.filter.setFilter(t,e,n,o),this.rowManager.filterRefresh())},h.prototype.addFilter=function(t,e,n,o){this.modExists("filter",!0)&&(this.modules.filter.addFilter(t,e,n,o),this.rowManager.filterRefresh())},h.prototype.getFilters=function(t){if(this.modExists("filter",!0))return this.modules.filter.getFilters(t)},h.prototype.setHeaderFilterFocus=function(t){if(this.modExists("filter",!0)){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Filter Focus Error - No matching column found:",t),!1;this.modules.filter.setHeaderFilterFocus(e)}},h.prototype.getHeaderFilterValue=function(t){if(this.modExists("filter",!0)){var e=this.columnManager.findColumn(t);if(e)return this.modules.filter.getHeaderFilterValue(e);console.warn("Column Filter Error - No matching column found:",t)}},h.prototype.setHeaderFilterValue=function(t,e){if(this.modExists("filter",!0)){var n=this.columnManager.findColumn(t);if(!n)return console.warn("Column Filter Error - No matching column found:",t),!1;this.modules.filter.setHeaderFilterValue(n,e)}},h.prototype.getHeaderFilters=function(){if(this.modExists("filter",!0))return this.modules.filter.getHeaderFilters()},h.prototype.removeFilter=function(t,e,n){this.modExists("filter",!0)&&(this.modules.filter.removeFilter(t,e,n),this.rowManager.filterRefresh())},h.prototype.clearFilter=function(t){this.modExists("filter",!0)&&(this.modules.filter.clearFilter(t),this.rowManager.filterRefresh())},h.prototype.clearHeaderFilter=function(){this.modExists("filter",!0)&&(this.modules.filter.clearHeaderFilter(),this.rowManager.filterRefresh())},h.prototype.selectRow=function(t){this.modExists("selectRow",!0)&&(!0===t&&(console.warn("passing a boolean to the selectRowselectRow function is deprecated, you should now pass the string 'active'"),t="active"),this.modules.selectRow.selectRows(t))},h.prototype.deselectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.deselectRows(t)},h.prototype.toggleSelectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.toggleRow(t)},h.prototype.getSelectedRows=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedRows()},h.prototype.getSelectedData=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedData()},h.prototype.getInvalidCells=function(){if(this.modExists("validate",!0))return this.modules.validate.getInvalidCells()},h.prototype.clearCellValidation=function(t){var e=this;this.modExists("validate",!0)&&(t||(t=this.modules.validate.getInvalidCells()),Array.isArray(t)||(t=[t]),t.forEach((function(t){e.modules.validate.clearValidation(t._getSelf())})))},h.prototype.validate=function(t){var e=[];return this.rowManager.rows.forEach((function(t){var n=t.validate();!0!==n&&(e=e.concat(n))})),!e.length||e},h.prototype.setMaxPage=function(t){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setMaxPage(t)},h.prototype.setPage=function(t){return this.options.pagination&&this.modExists("page")?this.modules.page.setPage(t):new Promise((function(t,e){e()}))},h.prototype.setPageToRow=function(t){var e=this;return new Promise((function(n,o){e.options.pagination&&e.modExists("page")?(t=e.rowManager.findRow(t),t?e.modules.page.setPageToRow(t).then((function(){n()})).catch((function(){o()})):o()):o()}))},h.prototype.setPageSize=function(t){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setPageSize(t),this.modules.page.setPage(1).then((function(){})).catch((function(){}))},h.prototype.getPageSize=function(){if(this.options.pagination&&this.modExists("page",!0))return this.modules.page.getPageSize()},h.prototype.previousPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.previousPage()},h.prototype.nextPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.nextPage()},h.prototype.getPage=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPage()},h.prototype.getPageMax=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPageMax()},h.prototype.setGroupBy=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupBy=t,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},h.prototype.setGroupStartOpen=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupStartOpen=t,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},h.prototype.setGroupHeader=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupHeader=t,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},h.prototype.getGroups=function(t){return!!this.modExists("groupRows",!0)&&this.modules.groupRows.getGroups(!0)},h.prototype.getGroupedData=function(){if(this.modExists("groupRows",!0))return this.options.groupBy?this.modules.groupRows.getGroupedData():this.getData()},h.prototype.getEditedCells=function(){if(this.modExists("edit",!0))return this.modules.edit.getEditedCells()},h.prototype.clearCellEdited=function(t){var e=this;this.modExists("edit",!0)&&(t||(t=this.modules.edit.getEditedCells()),Array.isArray(t)||(t=[t]),t.forEach((function(t){e.modules.edit.clearEdited(t._getSelf())})))},h.prototype.getCalcResults=function(){return!!this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.getResults()},h.prototype.recalc=function(){this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.recalcAll(this.rowManager.activeRows)},h.prototype.navigatePrev=function(){var t=!1;return!(!this.modExists("edit",!0)||(t=this.modules.edit.currentCell,!t))&&t.nav().prev()},h.prototype.navigateNext=function(){var t=!1;return!(!this.modExists("edit",!0)||(t=this.modules.edit.currentCell,!t))&&t.nav().next()},h.prototype.navigateLeft=function(){var t=!1;return!(!this.modExists("edit",!0)||(t=this.modules.edit.currentCell,!t))&&(e.preventDefault(),t.nav().left())},h.prototype.navigateRight=function(){var t=!1;return!(!this.modExists("edit",!0)||(t=this.modules.edit.currentCell,!t))&&(e.preventDefault(),t.nav().right())},h.prototype.navigateUp=function(){var t=!1;return!(!this.modExists("edit",!0)||(t=this.modules.edit.currentCell,!t))&&(e.preventDefault(),t.nav().up())},h.prototype.navigateDown=function(){var t=!1;return!(!this.modExists("edit",!0)||(t=this.modules.edit.currentCell,!t))&&(e.preventDefault(),t.nav().down())},h.prototype.undo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.undo()},h.prototype.redo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.redo()},h.prototype.getHistoryUndoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryUndoSize()},h.prototype.getHistoryRedoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryRedoSize()},h.prototype.download=function(t,e,n,o){this.modExists("download",!0)&&this.modules.download.download(t,e,n,o)},h.prototype.downloadToTab=function(t,e,n,o){this.modExists("download",!0)&&this.modules.download.download(t,e,n,o,!0)},h.prototype.tableComms=function(t,e,n,o){this.modules.comms.receive(t,e,n,o)},h.prototype.moduleBindings={},h.prototype.extendModule=function(t,e,n){if(h.prototype.moduleBindings[t]){var o=h.prototype.moduleBindings[t].prototype[e];if(o)if("object"==("undefined"===typeof n?"undefined":s(n)))for(var i in n)o[i]=n[i];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",e)}else console.warn("Module Error - module does not exist:",t)},h.prototype.registerModule=function(t,e){h.prototype.moduleBindings[t]=e},h.prototype.bindModules=function(){for(var t in this.modules={},h.prototype.moduleBindings)this.modules[t]=new h.prototype.moduleBindings[t](this)},h.prototype.modExists=function(t,e){return!!this.modules[t]||(e&&console.error("Tabulator Module Not Installed: "+t),!1)},h.prototype.helpers={elVisible:function(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)},elOffset:function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}},deepClone:function(t){var e=Array.isArray(t)?[]:{};for(var n in t)null!=t[n]&&"object"===s(t[n])?t[n]instanceof Date?e[n]=new Date(t[n]):e[n]=this.deepClone(t[n]):e[n]=t[n];return e}},h.prototype.comms={tables:[],register:function(t){h.prototype.comms.tables.push(t)},deregister:function(t){var e=h.prototype.comms.tables.indexOf(t);e>-1&&h.prototype.comms.tables.splice(e,1)},lookupTable:function(t,e){var n,o,i=[];if("string"===typeof t){if(n=document.querySelectorAll(t),n.length)for(var r=0;r<n.length;r++)o=h.prototype.comms.matchElement(n[r]),o&&i.push(o)}else"undefined"!==typeof HTMLElement&&t instanceof HTMLElement||t instanceof h?(o=h.prototype.comms.matchElement(t),o&&i.push(o)):Array.isArray(t)?t.forEach((function(t){i=i.concat(h.prototype.comms.lookupTable(t))})):e||console.warn("Table Connection Error - Invalid Selector",t);return i},matchElement:function(t){return h.prototype.comms.tables.find((function(e){return t instanceof h?e===t:e.element===t}))}},h.prototype.findTable=function(t){var e=h.prototype.comms.lookupTable(t,!0);return!(Array.isArray(e)&&!e.length)&&e};var p=function(t){this.table=t,this.mode=null};p.prototype.initialize=function(t){this.modes[t]?this.mode=t:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+t),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)},p.prototype.getMode=function(){return this.mode},p.prototype.layout=function(){this.modes[this.mode].call(this,this.table.columnManager.columnsByIndex)},p.prototype.modes={fitData:function(t){t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:function(t){t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataTable:function(t){t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataStretch:function(t){var e=this,n=0,o=this.table.rowManager.element.clientWidth,i=0,r=!1;t.forEach((function(t,o){t.widthFixed||t.reinitializeWidth(),(e.table.options.responsiveLayout?t.modules.responsive.visible:t.visible)&&(r=t),t.visible&&(n+=t.getWidth())})),r?(i=o-n+r.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(r.setWidth(0),this.table.modules.responsiveLayout.update()),i>0?r.setWidth(i):r.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(t){var e=this,n=e.table.element.clientWidth,o=0,i=0,r=0,a=0,s=[],l=[],c=0,u=0,d=0;function h(t){var e;return e="string"==typeof t?t.indexOf("%")>-1?n/100*parseInt(t):parseInt(t):t,e}function p(t,e,n,o){var i=[],r=0,a=0,s=0,l=0,c=0,u=[];function d(t){return n*(t.column.definition.widthGrow||1)}function f(t){return h(t.width)-n*(t.column.definition.widthShrink||0)}return t.forEach((function(t,e){var n=o?f(t):d(t);t.column.minWidth>=n?i.push(t):(u.push(t),c+=o?t.column.definition.widthShrink||1:t.column.definition.widthGrow||1)})),i.length?(i.forEach((function(t){r+=o?t.width-t.column.minWidth:t.column.minWidth,t.width=t.column.minWidth})),a=e-r,s=c?Math.floor(a/c):a,l=a-s*c,l+=p(u,a,s,o)):(l=c?e-Math.floor(e/c)*c:e,u.forEach((function(t){t.width=o?f(t):d(t)}))),l}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(n-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),t.forEach((function(t){var e,n,i;t.visible&&(e=t.definition.width,n=parseInt(t.minWidth),e?(i=h(e),o+=i>n?i:n,t.definition.widthShrink&&(l.push({column:t,width:i>n?i:n}),c+=t.definition.widthShrink)):(s.push({column:t,width:0}),r+=t.definition.widthGrow||1))})),i=n-o,a=Math.floor(i/r);d=p(s,i,a,!1);s.length&&d>0&&(s[s.length-1].width+=+d),s.forEach((function(t){i-=t.width})),u=Math.abs(d)+i,u>0&&c&&(d=p(l,u,Math.floor(u/c),!0)),l.length&&(l[l.length-1].width-=d),s.forEach((function(t){t.column.setWidth(t.width)})),l.forEach((function(t){t.column.setWidth(t.width)}))}},h.prototype.registerModule("layout",p);var f=function(t){this.table=t,this.locale="default",this.lang=!1,this.bindings={}};f.prototype.setHeaderFilterPlaceholder=function(t){this.langs.default.headerFilters.default=t},f.prototype.setHeaderFilterColumnPlaceholder=function(t,e){this.langs.default.headerFilters.columns[t]=e,this.lang&&!this.lang.headerFilters.columns[t]&&(this.lang.headerFilters.columns[t]=e)},f.prototype.installLang=function(t,e){this.langs[t]?this._setLangProp(this.langs[t],e):this.langs[t]=e},f.prototype._setLangProp=function(t,e){for(var n in e)t[n]&&"object"==s(t[n])?this._setLangProp(t[n],e[n]):t[n]=e[n]},f.prototype.setLocale=function(t){var e=this;function n(t,e){for(var o in t)"object"==s(t[o])?(e[o]||(e[o]={}),n(t[o],e[o])):e[o]=t[o]}if(t=t||"default",!0===t&&navigator.language&&(t=navigator.language.toLowerCase()),t&&!e.langs[t]){var o=t.split("-")[0];e.langs[o]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",t,o),t=o):(console.warn("Localization Error - Matching locale not found, using default: ",t),t="default")}e.locale=t,e.lang=h.prototype.helpers.deepClone(e.langs.default||{}),"default"!=t&&n(e.langs[t],e.lang),e.table.options.localized.call(e.table,e.locale,e.lang),e._executeBindings()},f.prototype.getLocale=function(t){return self.locale},f.prototype.getLang=function(t){return t?this.langs[t]:this.lang},f.prototype.getText=function(t,e){t=e?t+"|"+e:t;var n=t.split("|"),o=this._getLangElement(n,this.locale);return o||""},f.prototype._getLangElement=function(t,e){var n=this,o=n.lang;return t.forEach((function(t){var e;o&&(e=o[t],o="undefined"!=typeof e&&e)})),o},f.prototype.bind=function(t,e){this.bindings[t]||(this.bindings[t]=[]),this.bindings[t].push(e),e(this.getText(t),this.lang)},f.prototype._executeBindings=function(){var t=this,e=function(e){t.bindings[e].forEach((function(n){n(t.getText(e),t.lang)}))};for(var n in t.bindings)e(n)},f.prototype.langs={default:{groups:{item:"item",items:"items"},columns:{},ajax:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}},h.prototype.registerModule("localize",f);var m=function(t){this.table=t};m.prototype.getConnections=function(t){var e,n=this,o=[];return e=h.prototype.comms.lookupTable(t),e.forEach((function(t){n.table!==t&&o.push(t)})),o},m.prototype.send=function(t,e,n,o){var i=this,r=this.getConnections(t);r.forEach((function(t){t.tableComms(i.table.element,e,n,o)})),!r.length&&t&&console.warn("Table Connection Error - No tables matching selector found",t)},m.prototype.receive=function(t,e,n,o){if(this.table.modExists(e))return this.table.modules[e].commsReceived(t,n,o);console.warn("Inter-table Comms Error - no such module:",e)},h.prototype.registerModule("comms",m);var g=function(t){this.table=t,this.allowedTypes=["","data","download","clipboard","print","htmlOutput"]};g.prototype.initializeColumn=function(t){var e=this,n=!1,o={};this.allowedTypes.forEach((function(i){var r,a="accessor"+(i.charAt(0).toUpperCase()+i.slice(1));t.definition[a]&&(r=e.lookupAccessor(t.definition[a]),r&&(n=!0,o[a]={accessor:r,params:t.definition[a+"Params"]||{}}))})),n&&(t.modules.accessor=o)},g.prototype.lookupAccessor=function(t){var e=!1;switch("undefined"===typeof t?"undefined":s(t)){case"string":this.accessors[t]?e=this.accessors[t]:console.warn("Accessor Error - No such accessor found, ignoring: ",t);break;case"function":e=t;break}return e},g.prototype.transformRow=function(t,e){var n=this,o="accessor"+(e.charAt(0).toUpperCase()+e.slice(1)),i=h.prototype.helpers.deepClone(t||{});return n.table.columnManager.traverse((function(t){var n,r,a,s;t.modules.accessor&&(r=t.modules.accessor[o]||t.modules.accessor.accessor||!1,r&&(n=t.getFieldValue(i),"undefined"!=n&&(s=t.getComponent(),a="function"===typeof r.params?r.params(n,i,e,s):r.params,t.setFieldValue(i,r.accessor(n,i,e,a,s)))))})),i},g.prototype.accessors={},h.prototype.registerModule("accessor",g);var v=function(t){this.table=t,this.config=!1,this.url="",this.urlGenerator=!1,this.params=!1,this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=!1,this.errorElement=!1,this.loaderPromise=!1,this.progressiveLoad=!1,this.loading=!1,this.requestOrder=0};v.prototype.initialize=function(){var t;this.loaderElement.appendChild(this.msgElement),this.table.options.ajaxLoaderLoading&&("string"==typeof this.table.options.ajaxLoaderLoading?(t=document.createElement("template"),t.innerHTML=this.table.options.ajaxLoaderLoading.trim(),this.loadingElement=t.content.firstChild):this.loadingElement=this.table.options.ajaxLoaderLoading),this.loaderPromise=this.table.options.ajaxRequestFunc||this.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||this.defaultURLGenerator,this.table.options.ajaxLoaderError&&("string"==typeof this.table.options.ajaxLoaderError?(t=document.createElement("template"),t.innerHTML=this.table.options.ajaxLoaderError.trim(),this.errorElement=t.content.firstChild):this.errorElement=this.table.options.ajaxLoaderError),this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.table.options.ajaxProgressiveLoad&&(this.table.options.pagination?(this.progressiveLoad=!1,console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time")):this.table.modExists("page")?(this.progressiveLoad=this.table.options.ajaxProgressiveLoad,this.table.modules.page.initializeProgressive(this.progressiveLoad)):console.error("Pagination plugin is required for progressive ajax loading"))},v.prototype.createLoaderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-loader"),t},v.prototype.createMsgElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-loader-msg"),t.setAttribute("role","alert"),t},v.prototype.setParams=function(t,e){if(e)for(var n in this.params=this.params||{},t)this.params[n]=t[n];else this.params=t},v.prototype.getParams=function(){return this.params||{}},v.prototype.setConfig=function(t){if(this._loadDefaultConfig(),"string"==typeof t)this.config.method=t;else for(var e in t)this.config[e]=t[e]},v.prototype._loadDefaultConfig=function(t){var e=this;if(!e.config||t)for(var n in e.config={},e.defaultConfig)e.config[n]=e.defaultConfig[n]},v.prototype.setUrl=function(t){this.url=t},v.prototype.getUrl=function(){return this.url},v.prototype.loadData=function(t,e){return this.progressiveLoad?this._loadDataProgressive():this._loadDataStandard(t,e)},v.prototype.nextPage=function(t){var e;this.loading||(e=this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.getElement().clientHeight,t<e&&this.table.modules.page.nextPage().then((function(){})).catch((function(){})))},v.prototype.blockActiveRequest=function(){this.requestOrder++},v.prototype._loadDataProgressive=function(){return this.table.rowManager.setData([]),this.table.modules.page.setPage(1)},v.prototype._loadDataStandard=function(t,e){var n=this;return new Promise((function(o,i){n.sendRequest(t).then((function(r){n.table.rowManager.setData(r,t,e).then((function(){o()})).catch((function(t){i(t)}))})).catch((function(t){i(t)}))}))},v.prototype.generateParamsList=function(t,e){var n=this,o=[];if(e=e||"",Array.isArray(t))t.forEach((function(t,i){o=o.concat(n.generateParamsList(t,e?e+"["+i+"]":i))}));else if("object"===("undefined"===typeof t?"undefined":s(t)))for(var i in t)o=o.concat(n.generateParamsList(t[i],e?e+"["+i+"]":i));else o.push({key:e,value:t});return o},v.prototype.serializeParams=function(t){var e=this.generateParamsList(t),n=[];return e.forEach((function(t){n.push(encodeURIComponent(t.key)+"="+encodeURIComponent(t.value))})),n.join("&")},v.prototype.sendRequest=function(t){var e,n=this,o=this,i=o.url;return o.requestOrder++,e=o.requestOrder,o._loadDefaultConfig(),new Promise((function(r,a){!1!==o.table.options.ajaxRequesting.call(n.table,o.url,o.params)?(o.loading=!0,t||o.showLoader(),n.loaderPromise(i,o.config,o.params).then((function(t){e===o.requestOrder?(o.table.options.ajaxResponse&&(t=o.table.options.ajaxResponse.call(o.table,o.url,o.params,t)),r(t),o.hideLoader(),o.loading=!1):console.warn("Ajax Response Blocked - An active ajax request was blocked by an attempt to change table data while the request was being made")})).catch((function(t){console.error("Ajax Load Error: ",t),o.table.options.ajaxError.call(o.table,t),o.showError(),setTimeout((function(){o.hideLoader()}),3e3),o.loading=!1,a()}))):a()}))},v.prototype.showLoader=function(){var t="function"===typeof this.table.options.ajaxLoader?this.table.options.ajaxLoader():this.table.options.ajaxLoader;if(t){this.hideLoader();while(this.msgElement.firstChild)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|loading"),this.table.element.appendChild(this.loaderElement)}},v.prototype.showError=function(){this.hideLoader();while(this.msgElement.firstChild)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|error"),this.table.element.appendChild(this.loaderElement)},v.prototype.hideLoader=function(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)},v.prototype.defaultConfig={method:"GET"},v.prototype.defaultURLGenerator=function(t,e,n){return t&&n&&Object.keys(n).length&&(e.method&&"get"!=e.method.toLowerCase()||(e.method="get",t+=(t.includes("?")?"&":"?")+this.serializeParams(n))),t},v.prototype.defaultLoaderPromise=function(t,e,n){var o,i=this;return new Promise((function(r,a){if(t=i.urlGenerator(t,e,n),"GET"!=e.method.toUpperCase())if(o="object"===s(i.table.options.ajaxContentType)?i.table.options.ajaxContentType:i.contentTypeFormatters[i.table.options.ajaxContentType],o){for(var l in o.headers)e.headers||(e.headers={}),"undefined"===typeof e.headers[l]&&(e.headers[l]=o.headers[l]);e.body=o.body.call(i,t,e,n)}else console.warn("Ajax Error - Invalid ajaxContentType value:",i.table.options.ajaxContentType);t?("undefined"===typeof e.headers&&(e.headers={}),"undefined"===typeof e.headers.Accept&&(e.headers.Accept="application/json"),"undefined"===typeof e.headers["X-Requested-With"]&&(e.headers["X-Requested-With"]="XMLHttpRequest"),"undefined"===typeof e.mode&&(e.mode="cors"),"cors"==e.mode?("undefined"===typeof e.headers["Access-Control-Allow-Origin"]&&(e.headers["Access-Control-Allow-Origin"]=window.location.origin),"undefined"===typeof e.credentials&&(e.credentials="same-origin")):"undefined"===typeof e.credentials&&(e.credentials="include"),fetch(t,e).then((function(t){t.ok?t.json().then((function(t){r(t)})).catch((function(t){a(t),console.warn("Ajax Load Error - Invalid JSON returned",t)})):(console.error("Ajax Load Error - Connection Error: "+t.status,t.statusText),a(t))})).catch((function(t){console.error("Ajax Load Error - Connection Error: ",t),a(t)}))):(console.warn("Ajax Load Error - No URL Set"),r([]))}))},v.prototype.contentTypeFormatters={json:{headers:{"Content-Type":"application/json"},body:function(t,e,n){return JSON.stringify(n)}},form:{headers:{},body:function(t,e,n){var o=this.generateParamsList(n),i=new FormData;return o.forEach((function(t){i.append(t.key,t.value)})),i}}},h.prototype.registerModule("ajax",v);var y=function(t){this.table=t,this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.initialize()};y.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-calcs-holder"),t},y.prototype.initialize=function(){this.genColumn=new o({field:"value"},this)},y.prototype.registerColumnField=function(){},y.prototype.initializeColumn=function(t){var e=t.definition,n={topCalcParams:e.topCalcParams||{},botCalcParams:e.bottomCalcParams||{}};if(e.topCalc){switch(s(e.topCalc)){case"string":this.calculations[e.topCalc]?n.topCalc=this.calculations[e.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.topCalc);break;case"function":n.topCalc=e.topCalc;break}n.topCalc&&(t.modules.columnCalcs=n,this.topCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(e.bottomCalc){switch(s(e.bottomCalc)){case"string":this.calculations[e.bottomCalc]?n.botCalc=this.calculations[e.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.bottomCalc);break;case"function":n.botCalc=e.bottomCalc;break}n.botCalc&&(t.modules.columnCalcs=n,this.botCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}},y.prototype.removeCalcs=function(){var t=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),t=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),t=!0),t&&this.table.rowManager.adjustTableSize()},y.prototype.initializeTopRow=function(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)},y.prototype.initializeBottomRow=function(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)},y.prototype.scrollHorizontal=function(t){this.table.columnManager.getElement().scrollWidth,this.table.element.clientWidth;this.botInitialized&&(this.botRow.getElement().style.marginLeft=-t+"px")},y.prototype.recalc=function(t){var e;if(this.topInitialized||this.botInitialized){if(this.rowsToData(t),this.topInitialized){this.topRow&&this.topRow.deleteCells(),e=this.generateRow("top",this.rowsToData(t)),this.topRow=e;while(this.topElement.firstChild)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(e.getElement()),e.initialize(!0)}if(this.botInitialized){this.botRow&&this.botRow.deleteCells(),e=this.generateRow("bottom",this.rowsToData(t)),this.botRow=e;while(this.botElement.firstChild)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(e.getElement()),e.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}},y.prototype.recalcRowGroup=function(t){this.recalcGroup(this.table.modules.groupRows.getRowGroup(t))},y.prototype.recalcAll=function(){var t=this;if((this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalc(this.table.rowManager.activeRows),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)){var e=table.modules.groupRows.getChildGroups();e.forEach((function(e){t.recalcGroup(e)}))}},y.prototype.recalcGroup=function(t){var e,n;t&&t.calcs&&(t.calcs.bottom&&(e=this.rowsToData(t.rows),n=this.generateRowData("bottom",e),t.calcs.bottom.updateData(n),t.calcs.bottom.reinitialize()),t.calcs.top&&(e=this.rowsToData(t.rows),n=this.generateRowData("top",e),t.calcs.top.updateData(n),t.calcs.top.reinitialize()))},y.prototype.generateTopRow=function(t){return this.generateRow("top",this.rowsToData(t))},y.prototype.generateBottomRow=function(t){return this.generateRow("bottom",this.rowsToData(t))},y.prototype.rowsToData=function(t){var e=this,n=[];return t.forEach((function(t){if(n.push(t.getData()),e.table.options.dataTree&&e.table.options.dataTreeChildColumnCalcs&&t.modules.dataTree.open){var o=e.rowsToData(e.table.modules.dataTree.getFilteredTreeChildren(t));n=n.concat(o)}})),n},y.prototype.generateRow=function(t,e){var n,o=this,i=this.generateRowData(t,e);return o.table.modExists("mutator")&&o.table.modules.mutator.disable(),n=new l(i,this,"calc"),o.table.modExists("mutator")&&o.table.modules.mutator.enable(),n.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+t),n.generateCells=function(){var e=[];o.table.columnManager.columnsByIndex.forEach((function(i){o.genColumn.setField(i.getField()),o.genColumn.hozAlign=i.hozAlign,i.definition[t+"CalcFormatter"]&&o.table.modExists("format")?o.genColumn.modules.format={formatter:o.table.modules.format.getFormatter(i.definition[t+"CalcFormatter"]),params:i.definition[t+"CalcFormatterParams"]}:o.genColumn.modules.format={formatter:o.table.modules.format.getFormatter("plaintext"),params:{}},o.genColumn.definition.cssClass=i.definition.cssClass;var r=new u(o.genColumn,n);r.column=i,r.setWidth(),i.cells.push(r),e.push(r),i.visible||r.hide()})),this.cells=e},n},y.prototype.generateRowData=function(t,e){var n,o,i={},r="top"==t?this.topCalcs:this.botCalcs,a="top"==t?"topCalc":"botCalc";return r.forEach((function(t){var r=[];t.modules.columnCalcs&&t.modules.columnCalcs[a]&&(e.forEach((function(e){r.push(t.getFieldValue(e))})),o=a+"Params",n="function"===typeof t.modules.columnCalcs[o]?t.modules.columnCalcs[o](r,e):t.modules.columnCalcs[o],t.setFieldValue(i,t.modules.columnCalcs[a](r,e,n)))})),i},y.prototype.hasTopCalcs=function(){return!!this.topCalcs.length},y.prototype.hasBottomCalcs=function(){return!!this.botCalcs.length},y.prototype.redraw=function(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)},y.prototype.getResults=function(){var t,e=this,n={};return this.table.options.groupBy&&this.table.modExists("groupRows")?(t=this.table.modules.groupRows.getGroups(!0),t.forEach((function(t){n[t.getKey()]=e.getGroupResults(t)}))):n={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},n},y.prototype.getGroupResults=function(t){var e=this,n=t._getSelf(),o=t.getSubGroups(),i={},r={};return o.forEach((function(t){i[t.getKey()]=e.getGroupResults(t)})),r={top:n.calcs.top?n.calcs.top.getData():{},bottom:n.calcs.bottom?n.calcs.bottom.getData():{},groups:i},r},y.prototype.calculations={avg:function(t,e,n){var o=0,i="undefined"!==typeof n.precision?n.precision:2;return t.length&&(o=t.reduce((function(t,e){return e=Number(e),t+e})),o/=t.length,o=!1!==i?o.toFixed(i):o),parseFloat(o).toString()},max:function(t,e,n){var o=null,i="undefined"!==typeof n.precision&&n.precision;return t.forEach((function(t){t=Number(t),(t>o||null===o)&&(o=t)})),null!==o?!1!==i?o.toFixed(i):o:""},min:function(t,e,n){var o=null,i="undefined"!==typeof n.precision&&n.precision;return t.forEach((function(t){t=Number(t),(t<o||null===o)&&(o=t)})),null!==o?!1!==i?o.toFixed(i):o:""},sum:function(t,e,n){var o=0,i="undefined"!==typeof n.precision&&n.precision;return t.length&&t.forEach((function(t){t=Number(t),o+=isNaN(t)?0:Number(t)})),!1!==i?o.toFixed(i):o},concat:function(t,e,n){var o=0;return t.length&&(o=t.reduce((function(t,e){return String(t)+String(e)}))),o},count:function(t,e,n){var o=0;return t.length&&t.forEach((function(t){t&&o++})),o}},h.prototype.registerModule("columnCalcs",y);var b=function(t){this.table=t,this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0};b.prototype.initialize=function(){var t=this;this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,!0!==this.mode&&"copy"!==this.mode||this.table.element.addEventListener("copy",(function(e){var n,o;if(!t.blocked){if(e.preventDefault(),t.customSelection)n=t.customSelection,t.table.options.clipboardCopyFormatter&&(n=t.table.options.clipboardCopyFormatter("plain",n));else{var i=t.table.modules.export.generateExportList(t.rowRange,t.table.options.clipboardCopyStyled,t.table.options.clipboardCopyConfig,"clipboard");o=t.table.modules.export.genereateHTMLTable(i),n=o?t.generatePlainContent(i):"",t.table.options.clipboardCopyFormatter&&(n=t.table.options.clipboardCopyFormatter("plain",n),o=t.table.options.clipboardCopyFormatter("html",o))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",n):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",n),o&&e.clipboardData.setData("text/html",o)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",n),o&&e.originalEvent.clipboardData.setData("text/html",o)),t.table.options.clipboardCopied.call(t.table,n,o),t.reset()}})),!0!==this.mode&&"paste"!==this.mode||this.table.element.addEventListener("paste",(function(e){t.paste(e)})),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction)},b.prototype.reset=function(){this.blocked=!1,this.originalSelectionText=""},b.prototype.generatePlainContent=function(t){var e=[];return t.forEach((function(t){var n=[];t.columns.forEach((function(e){var o="";if(e)switch("group"===t.type&&(e.value=e.component.getKey()),s(e.value)){case"object":o=JSON.stringify(e.value);break;case"undefined":case"null":o="";break;default:o=e.value}n.push(o)})),e.push(n.join("\t"))})),e.join("\n")},b.prototype.copy=function(t,e){var n,o;this.blocked=!1,this.customSelection=!1,!0!==this.mode&&"copy"!==this.mode||(this.rowRange=t||this.table.options.clipboardCopyRowRange,"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange?(t=document.createRange(),t.selectNodeContents(this.table.element),n=window.getSelection(),n.toString()&&e&&(this.customSelection=n.toString()),n.removeAllRanges(),n.addRange(t)):"undefined"!=typeof document.selection&&"undefined"!=typeof document.body.createTextRange&&(o=document.body.createTextRange(),o.moveToElementText(this.table.element),o.select()),document.execCommand("copy"),n&&n.removeAllRanges())},b.prototype.setPasteAction=function(t){switch("undefined"===typeof t?"undefined":s(t)){case"string":this.pasteAction=this.pasteActions[t],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",t);break;case"function":this.pasteAction=t;break}},b.prototype.setPasteParser=function(t){switch("undefined"===typeof t?"undefined":s(t)){case"string":this.pasteParser=this.pasteParsers[t],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",t);break;case"function":this.pasteParser=t;break}},b.prototype.paste=function(t){var e,n,o;this.checkPaseOrigin(t)&&(e=this.getPasteData(t),n=this.pasteParser.call(this,e),n?(t.preventDefault(),this.table.modExists("mutator")&&(n=this.mutateData(n)),o=this.pasteAction.call(this,n),this.table.options.clipboardPasted.call(this.table,e,n,o)):this.table.options.clipboardPasteError.call(this.table,e))},b.prototype.mutateData=function(t){var e=this,n=[];return Array.isArray(t)?t.forEach((function(t){n.push(e.table.modules.mutator.transformRow(t,"clipboard"))})):n=t,n},b.prototype.checkPaseOrigin=function(t){var e=!0;return("DIV"!=t.target.tagName||this.table.modules.edit.currentCell)&&(e=!1),e},b.prototype.getPasteData=function(t){var e;return window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData?e=t.clipboardData.getData("text/plain"):t.originalEvent&&t.originalEvent.clipboardData.getData&&(e=t.originalEvent.clipboardData.getData("text/plain")),e},b.prototype.pasteParsers={table:function(t){var e=[],n=!0,o=this.table.columnManager.columns,i=[],r=[];return t=t.split("\n"),t.forEach((function(t){e.push(t.split("\t"))})),!(!e.length||1===e.length&&e[0].length<2)&&(!0,e[0].forEach((function(t){var e=o.find((function(e){return t&&e.definition.title&&t.trim()&&e.definition.title.trim()===t.trim()}));e?i.push(e):n=!1})),n||(n=!0,i=[],e[0].forEach((function(t){var e=o.find((function(e){return t&&e.field&&t.trim()&&e.field.trim()===t.trim()}));e?i.push(e):n=!1})),n||(i=this.table.columnManager.columnsByIndex)),n&&e.shift(),e.forEach((function(t){var e={};t.forEach((function(t,n){i[n]&&(e[i[n].field]=t)})),r.push(e)})),r)}},b.prototype.pasteActions={replace:function(t){return this.table.setData(t)},update:function(t){return this.table.updateOrAddData(t)},insert:function(t){return this.table.addData(t)}},h.prototype.registerModule("clipboard",b);var w=function(t){this.table=t,this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0};w.prototype.initialize=function(){var t=null,e=this.table.columnManager.getFirstVisibileColumn(),n=this.table.options;switch(this.field=n.dataTreeChildField,this.indent=n.dataTreeChildIndent,this.elementField=n.dataTreeElementColumn||!!e&&e.field,n.dataTreeBranchElement&&(!0===n.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"===typeof n.dataTreeBranchElement?(t=document.createElement("div"),t.innerHTML=n.dataTreeBranchElement,this.branchEl=t.firstChild):this.branchEl=n.dataTreeBranchElement),n.dataTreeCollapseElement?"string"===typeof n.dataTreeCollapseElement?(t=document.createElement("div"),t.innerHTML=n.dataTreeCollapseElement,this.collapseEl=t.firstChild):this.collapseEl=n.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),n.dataTreeExpandElement?"string"===typeof n.dataTreeExpandElement?(t=document.createElement("div"),t.innerHTML=n.dataTreeExpandElement,this.expandEl=t.firstChild):this.expandEl=n.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),s(n.dataTreeStartExpanded)){case"boolean":this.startOpen=function(t,e){return n.dataTreeStartExpanded};break;case"function":this.startOpen=n.dataTreeStartExpanded;break;default:this.startOpen=function(t,e){return n.dataTreeStartExpanded[e]};break}},w.prototype.initializeRow=function(t){var e=t.getData()[this.field],n=Array.isArray(e),o=n||!n&&"object"===("undefined"===typeof e?"undefined":s(e))&&null!==e;!o&&t.modules.dataTree&&t.modules.dataTree.branchEl&&t.modules.dataTree.branchEl.parentNode.removeChild(t.modules.dataTree.branchEl),!o&&t.modules.dataTree&&t.modules.dataTree.controlEl&&t.modules.dataTree.controlEl.parentNode.removeChild(t.modules.dataTree.controlEl),t.modules.dataTree={index:t.modules.dataTree?t.modules.dataTree.index:0,open:!!o&&(t.modules.dataTree?t.modules.dataTree.open:this.startOpen(t.getComponent(),0)),controlEl:!(!t.modules.dataTree||!o)&&t.modules.dataTree.controlEl,branchEl:!(!t.modules.dataTree||!o)&&t.modules.dataTree.branchEl,parent:!!t.modules.dataTree&&t.modules.dataTree.parent,children:o}},w.prototype.layoutRow=function(t){var e=this.elementField?t.getCell(this.elementField):t.getCells()[0],n=e.getElement(),o=t.modules.dataTree;o.branchEl&&(o.branchEl.parentNode&&o.branchEl.parentNode.removeChild(o.branchEl),o.branchEl=!1),o.controlEl&&(o.controlEl.parentNode&&o.controlEl.parentNode.removeChild(o.controlEl),o.controlEl=!1),this.generateControlElement(t,n),t.element.classList.add("tabulator-tree-level-"+o.index),o.index&&(this.branchEl?(o.branchEl=this.branchEl.cloneNode(!0),n.insertBefore(o.branchEl,n.firstChild),o.branchEl.style.marginLeft=(o.branchEl.offsetWidth+o.branchEl.style.marginRight)*(o.index-1)+o.index*this.indent+"px"):n.style.paddingLeft=parseInt(window.getComputedStyle(n,null).getPropertyValue("padding-left"))+o.index*this.indent+"px")},w.prototype.generateControlElement=function(t,e){var n=this,o=t.modules.dataTree,i=(e=e||t.getCells()[0].getElement(),o.controlEl);!1!==o.children&&(o.open?(o.controlEl=this.collapseEl.cloneNode(!0),o.controlEl.addEventListener("click",(function(e){e.stopPropagation(),n.collapseRow(t)}))):(o.controlEl=this.expandEl.cloneNode(!0),o.controlEl.addEventListener("click",(function(e){e.stopPropagation(),n.expandRow(t)}))),o.controlEl.addEventListener("mousedown",(function(t){t.stopPropagation()})),i&&i.parentNode===e?i.parentNode.replaceChild(o.controlEl,i):e.insertBefore(o.controlEl,e.firstChild))},w.prototype.setDisplayIndex=function(t){this.displayIndex=t},w.prototype.getDisplayIndex=function(){return this.displayIndex},w.prototype.getRows=function(t){var e=this,n=[];return t.forEach((function(t,o){var i,r;n.push(t),t instanceof l&&(i=t.modules.dataTree.children,i.index||!1===i.children||(r=e.getChildren(t),r.forEach((function(t){n.push(t)}))))})),n},w.prototype.getChildren=function(t){var e=this,n=t.modules.dataTree,o=[],i=[];return!1!==n.children&&n.open&&(Array.isArray(n.children)||(n.children=this.generateChildren(t)),o=this.table.modExists("filter")?this.table.modules.filter.filter(n.children):n.children,this.table.modExists("sort")&&this.table.modules.sort.sort(o),o.forEach((function(t){i.push(t);var n=e.getChildren(t);n.forEach((function(t){i.push(t)}))}))),i},w.prototype.generateChildren=function(t){var e=this,n=[],o=t.getData()[this.field];return Array.isArray(o)||(o=[o]),o.forEach((function(o){var i=new l(o||{},e.table.rowManager);i.modules.dataTree.index=t.modules.dataTree.index+1,i.modules.dataTree.parent=t,i.modules.dataTree.children&&(i.modules.dataTree.open=e.startOpen(i.getComponent(),i.modules.dataTree.index)),n.push(i)})),n},w.prototype.expandRow=function(t,e){var n=t.modules.dataTree;!1!==n.children&&(n.open=!0,t.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowExpanded(t.getComponent(),t.modules.dataTree.index))},w.prototype.collapseRow=function(t){var e=t.modules.dataTree;!1!==e.children&&(e.open=!1,t.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowCollapsed(t.getComponent(),t.modules.dataTree.index))},w.prototype.toggleRow=function(t){var e=t.modules.dataTree;!1!==e.children&&(e.open?this.collapseRow(t):this.expandRow(t))},w.prototype.getTreeParent=function(t){return!!t.modules.dataTree.parent&&t.modules.dataTree.parent.getComponent()},w.prototype.getFilteredTreeChildren=function(t){var e,n=t.modules.dataTree,o=[];return n.children&&(Array.isArray(n.children)||(n.children=this.generateChildren(t)),e=this.table.modExists("filter")?this.table.modules.filter.filter(n.children):n.children,e.forEach((function(t){t instanceof l&&o.push(t)}))),o},w.prototype.rowDelete=function(t){var e,n=t.modules.dataTree.parent;n&&(e=this.findChildIndex(t,n),!1!==e&&n.data[this.field].splice(e,1),n.data[this.field].length||delete n.data[this.field],this.initializeRow(n),this.layoutRow(n)),this.table.rowManager.refreshActiveData("tree",!1,!0)},w.prototype.addTreeChildRow=function(t,e,n,o){var i=!1;"string"===typeof e&&(e=JSON.parse(e)),Array.isArray(t.data[this.field])||(t.data[this.field]=[],t.modules.dataTree.open=this.startOpen(t.getComponent(),t.modules.dataTree.index)),"undefined"!==typeof o&&(i=this.findChildIndex(o,t),!1!==i&&t.data[this.field].splice(n?i:i+1,0,e)),!1===i&&(n?t.data[this.field].unshift(e):t.data[this.field].push(e)),this.initializeRow(t),this.layoutRow(t),this.table.rowManager.refreshActiveData("tree",!1,!0)},w.prototype.findChildIndex=function(t,e){var n=this,o=!1;return"object"==("undefined"===typeof t?"undefined":s(t))?t instanceof l?o=t.data:t instanceof a?o=t._getSelf().data:"undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&e.modules.dataTree&&(o=e.modules.dataTree.children.find((function(e){return e instanceof l&&e.element===t})),o&&(o=o.data)):o="undefined"!=typeof t&&null!==t&&e.data[this.field].find((function(e){return e.data[n.table.options.index]==t})),o&&(Array.isArray(e.data[this.field])&&(o=e.data[this.field].indexOf(o)),-1==o&&(o=!1)),o},w.prototype.getTreeChildren=function(t){var e=t.modules.dataTree,n=[];return e.children&&(Array.isArray(e.children)||(e.children=this.generateChildren(t)),e.children.forEach((function(t){t instanceof l&&n.push(t.getComponent())}))),n},w.prototype.checkForRestyle=function(t){t.row.cells.indexOf(t)||t.row.reinitialize()},w.prototype.getChildField=function(){return this.field},w.prototype.redrawNeeded=function(t){return!!this.field&&"undefined"!==typeof t[this.field]||!!this.elementField&&"undefined"!==typeof t[this.elementField]},h.prototype.registerModule("dataTree",w);var C=function(t){this.table=t};C.prototype.download=function(t,e,n,o,i){var r=this,a=!1;function s(n,o){i?!0===i?r.triggerDownload(n,o,t,e,!0):i(n):r.triggerDownload(n,o,t,e)}if("function"==typeof t?a=t:r.downloaders[t]?a=r.downloaders[t]:console.warn("Download Error - No such download type found: ",t),a){var l=this.generateExportList(o);a.call(this.table,l,n||{},s)}},C.prototype.generateExportList=function(t){var e=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,t||this.table.options.downloadRowRange,"download"),n=this.table.options.groupHeaderDownload;return n&&!Array.isArray(n)&&(n=[n]),e.forEach((function(t){var e;"group"===t.type&&(e=t.columns[0],n&&n[t.indent]&&(e.value=n[t.indent](e.value,t.component._group.getRowCount(),t.component._group.getData(),t.component)))})),e},C.prototype.triggerDownload=function(t,e,n,o,i){var r=document.createElement("a"),a=new Blob([t],{type:e});o=o||"Tabulator."+("function"===typeof n?"txt":n);a=this.table.options.downloadReady.call(this.table,t,a),a&&(i?window.open(window.URL.createObjectURL(a)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(a,o):(r.setAttribute("href",window.URL.createObjectURL(a)),r.setAttribute("download",o),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)),this.table.options.downloadComplete&&this.table.options.downloadComplete())},C.prototype.commsReceived=function(t,e,n){switch(e){case"intercept":this.download(n.type,"",n.options,n.active,n.intercept);break}},C.prototype.downloaders={csv:function(t,e,n){var o=e&&e.delimiter?e.delimiter:",",i=[],r=[];t.forEach((function(t){var e=[];switch(t.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":t.columns.forEach((function(t,e){t&&1===t.depth&&(r[e]="undefined"==typeof t.value||"null"==typeof t.value?"":t.value)}));break;case"row":t.columns.forEach((function(t){if(t){switch(s(t.value)){case"object":t.value=JSON.stringify(t.value);break;case"undefined":case"null":t.value="";break}e.push('"'+String(t.value).split('"').join('""')+'"')}})),i.push(e.join(o));break}})),r.length&&(i=[r].concat(i)),i=i.join("\n"),e.bom&&(i="\ufeff"+i),n(i,"text/csv")},json:function(t,e,n){var o=[];t.forEach((function(t){var e={};switch(t.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":t.columns.forEach((function(t){t&&(e[t.component.getField()]=t.value)})),o.push(e);break}})),o=JSON.stringify(o,null,"\t"),n(o,"application/json")},pdf:function(t,e,n){var o=[],i=[],r={},a=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},l=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},c=e.jsPDF||{},u=e&&e.title?e.title:"";function d(t,e){var n=[];return t.columns.forEach((function(t){var o;if(t){switch(s(t.value)){case"object":t.value=JSON.stringify(t.value);break;case"undefined":case"null":t.value="";break}o={content:t.value,colSpan:t.width,rowSpan:t.height},e&&(o.styles=e),n.push(o)}else n.push("")})),n}c.orientation||(c.orientation=e.orientation||"landscape"),c.unit||(c.unit="pt"),t.forEach((function(t){switch(t.type){case"header":o.push(d(t));break;case"group":i.push(d(t,a));break;case"calc":i.push(d(t,l));break;case"row":i.push(d(t));break}}));var h=new jsPDF(c);e&&e.autoTable&&(r="function"===typeof e.autoTable?e.autoTable(h)||{}:e.autoTable),u&&(r.addPageContent=function(t){h.text(u,40,30)}),r.head=o,r.body=i,h.autoTable(r),e&&e.documentProcessing&&e.documentProcessing(h),n(h.output("arraybuffer"),"application/pdf")},xlsx:function(t,e,n){var o,i=this,r=e.sheetName||"Sheet1",a=XLSX.utils.book_new();function l(){var e=[],n=[],o={},i={s:{c:0,r:0},e:{c:t[0]?t[0].columns.reduce((function(t,e){return t+(e&&e.width?e.width:1)}),0):0,r:t.length}};return t.forEach((function(t,o){var i=[];t.columns.forEach((function(t,e){t?(i.push(t.value instanceof Date||"object"!==s(t.value)?t.value:JSON.stringify(t.value)),(t.width>1||t.height>-1)&&n.push({s:{r:o,c:e},e:{r:o+t.height-1,c:e+t.width-1}})):i.push("")})),e.push(i)})),XLSX.utils.sheet_add_aoa(o,e),o["!ref"]=XLSX.utils.encode_range(i),n.length&&(o["!merges"]=n),o}if(a.SheetNames=[],a.Sheets={},e.sheetOnly)n(l());else{if(e.sheets)for(var c in e.sheets)!0===e.sheets[c]?(a.SheetNames.push(c),a.Sheets[c]=l()):(a.SheetNames.push(c),this.table.modules.comms.send(e.sheets[c],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:i.active,intercept:function(t){a.Sheets[c]=t}}));else a.SheetNames.push(r),a.Sheets[r]=l();e.documentProcessing&&(a=e.documentProcessing(a)),o=XLSX.write(a,{bookType:"xlsx",bookSST:!0,type:"binary"}),n(u(o),"application/octet-stream")}function u(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),o=0;o!=t.length;++o)n[o]=255&t.charCodeAt(o);return e}},html:function(t,e,n){this.modExists("export",!0)&&n(this.modules.export.genereateHTMLTable(t),"text/html")}},h.prototype.registerModule("download",C);var x=function(t){this.table=t,this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[]};x.prototype.initializeColumn=function(t){var e=this,n={editor:!1,blocked:!1,check:t.definition.editable,params:t.definition.editorParams||{}};switch(s(t.definition.editor)){case"string":"tick"===t.definition.editor&&(t.definition.editor="tickCross",console.warn("DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor")),e.editors[t.definition.editor]?n.editor=e.editors[t.definition.editor]:console.warn("Editor Error - No such editor found: ",t.definition.editor);break;case"function":n.editor=t.definition.editor;break;case"boolean":!0===t.definition.editor&&("function"!==typeof t.definition.formatter?("tick"===t.definition.formatter&&(t.definition.formatter="tickCross",console.warn("DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor")),e.editors[t.definition.formatter]?n.editor=e.editors[t.definition.formatter]:n.editor=e.editors["input"]):console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",t.definition.formatter));break}n.editor&&(t.modules.edit=n)},x.prototype.getCurrentCell=function(){return!!this.currentCell&&this.currentCell.getComponent()},x.prototype.clearEditor=function(t){var e,n=this.currentCell;if(this.invalidEdit=!1,n){this.currentCell=!1,e=n.getElement(),t?n.validate():e.classList.remove("tabulator-validation-fail"),e.classList.remove("tabulator-editing");while(e.firstChild)e.removeChild(e.firstChild);n.row.getElement().classList.remove("tabulator-row-editing")}},x.prototype.cancelEdit=function(){if(this.currentCell){var t=this.currentCell,e=this.currentCell.getComponent();this.clearEditor(!0),t.setValueActual(t.getValue()),t.cellRendered(),t.column.cellEvents.cellEditCancelled&&t.column.cellEvents.cellEditCancelled.call(this.table,e),this.table.options.cellEditCancelled.call(this.table,e)}},x.prototype.bindEditor=function(t){var e=this,n=t.getElement();n.setAttribute("tabindex",0),n.addEventListener("click",(function(t){n.classList.contains("tabulator-editing")||n.focus({preventScroll:!0})})),n.addEventListener("mousedown",(function(t){e.mouseClick=!0})),n.addEventListener("focus",(function(n){e.recursionBlock||e.edit(t,n,!1)}))},x.prototype.focusCellNoEvent=function(t,e){this.recursionBlock=!0,e&&"ie"===this.table.browser||t.getElement().focus({preventScroll:!0}),this.recursionBlock=!1},x.prototype.editCell=function(t,e){this.focusCellNoEvent(t),this.edit(t,!1,e)},x.prototype.focusScrollAdjust=function(t){if("virtual"==this.table.rowManager.getRenderMode()){var e=this.table.rowManager.element.scrollTop,n=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,o=t.row.getElement();o.offsetTop;o.offsetTop<e?this.table.rowManager.element.scrollTop-=e-o.offsetTop:o.offsetTop+o.offsetHeight>n&&(this.table.rowManager.element.scrollTop+=o.offsetTop+o.offsetHeight-n)}},x.prototype.edit=function(t,e,n){var o,i,r,a=this,l=!0,c=function(){},u=t.getElement();if(!this.currentCell){if(t.column.modules.edit.blocked)return this.mouseClick=!1,u.blur(),!1;switch(e&&e.stopPropagation(),s(t.column.modules.edit.check)){case"function":l=t.column.modules.edit.check(t.getComponent());break;case"boolean":l=t.column.modules.edit.check;break}if(l||n){if(a.cancelEdit(),a.currentCell=t,this.focusScrollAdjust(t),i=t.getComponent(),this.mouseClick&&(this.mouseClick=!1,t.column.cellEvents.cellClick&&t.column.cellEvents.cellClick.call(this.table,e,i)),t.column.cellEvents.cellEditing&&t.column.cellEvents.cellEditing.call(this.table,i),a.table.options.cellEditing.call(this.table,i),r="function"===typeof t.column.modules.edit.params?t.column.modules.edit.params(i):t.column.modules.edit.params,o=t.column.modules.edit.editor.call(a,i,m,p,f,r),!1===o)return u.blur(),!1;if(!(o instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",o),u.blur(),!1;u.classList.add("tabulator-editing"),t.row.getElement().classList.add("tabulator-row-editing");while(u.firstChild)u.removeChild(u.firstChild);u.appendChild(o),c();for(var d=u.children,h=0;h<d.length;h++)d[h].addEventListener("click",(function(t){t.stopPropagation()}));return!0}return this.mouseClick=!1,u.blur(),!1}function p(e){if(a.currentCell===t){var n=!0;return t.column.modules.validate&&a.table.modExists("validate")&&"manual"!=a.table.options.validationMode&&(n=a.table.modules.validate.validate(t.column.modules.validate,t,e)),!0===n||"highlight"===a.table.options.validationMode?(a.clearEditor(),t.setValue(e,!0),t.modules.edit||(t.modules.edit={}),t.modules.edit.edited=!0,-1==a.editedCells.indexOf(t)&&a.editedCells.push(t),a.table.options.dataTree&&a.table.modExists("dataTree")&&a.table.modules.dataTree.checkForRestyle(t),!0===n||(u.classList.add("tabulator-validation-fail"),a.table.options.validationFailed.call(a.table,t.getComponent(),e,n),!1)):(a.invalidEdit=!0,u.classList.add("tabulator-validation-fail"),a.focusCellNoEvent(t,!0),c(),a.table.options.validationFailed.call(a.table,t.getComponent(),e,n),!1)}}function f(){a.currentCell===t&&(a.cancelEdit(),a.table.options.dataTree&&a.table.modExists("dataTree")&&a.table.modules.dataTree.checkForRestyle(t))}function m(t){c=t}this.invalidEdit||this.cancelEdit()},x.prototype.maskInput=function(t,e){var n=e.mask,o="undefined"!==typeof e.maskLetterChar?e.maskLetterChar:"A",i="undefined"!==typeof e.maskNumberChar?e.maskNumberChar:"9",r="undefined"!==typeof e.maskWildcardChar?e.maskWildcardChar:"*";function a(e){var s=n[e];"undefined"!==typeof s&&s!==r&&s!==o&&s!==i&&(t.value=t.value+""+s,a(e+1))}t.addEventListener("keydown",(function(e){var a=t.value.length,s=e.key;if(e.keyCode>46){if(a>=n.length)return e.preventDefault(),e.stopPropagation(),!1,!1;switch(n[a]){case o:if(s.toUpperCase()==s.toLowerCase())return e.preventDefault(),e.stopPropagation(),!1,!1;break;case i:if(isNaN(s))return e.preventDefault(),e.stopPropagation(),!1,!1;break;case r:break;default:if(s!==n[a])return e.preventDefault(),e.stopPropagation(),!1,!1}!0}})),t.addEventListener("keyup",(function(n){n.keyCode>46&&e.maskAutoFill&&a(t.value.length)})),t.placeholder||(t.placeholder=n),e.maskAutoFill&&a(t.value.length)},x.prototype.getEditedCells=function(){var t=[];return this.editedCells.forEach((function(e){t.push(e.getComponent())})),t},x.prototype.clearEdited=function(t){var e;t.modules.validate&&t.modules.edit&&t.modules.edit.edited&&(t.modules.validate.invalid=!1,e=this.editedCells.indexOf(t),e>-1&&this.editedCells.splice(e,1))},x.prototype.editors={input:function(t,e,n,o,i){var r=t.getValue(),a=document.createElement("input");if(a.setAttribute("type",i.search?"search":"text"),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",i.elementAttributes&&"object"==s(i.elementAttributes))for(var l in i.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),a.setAttribute(l,a.getAttribute(l)+i.elementAttributes["+"+l])):a.setAttribute(l,i.elementAttributes[l]);function c(t){(null===r||"undefined"===typeof r)&&""!==a.value||a.value!==r?n(a.value)&&(r=a.value):o()}return a.value="undefined"!==typeof r?r:"",e((function(){a.focus({preventScroll:!0}),a.style.height="100%"})),a.addEventListener("change",c),a.addEventListener("blur",c),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:c(t);break;case 27:o();break}})),i.mask&&this.table.modules.edit.maskInput(a,i),a},textarea:function(t,e,n,o,i){var r=t.getValue(),a=i.verticalNavigation||"hybrid",l=String(null!==r&&"undefined"!==typeof r?r:""),c=((l.match(/(?:\r\n|\r|\n)/g)||[]).length,document.createElement("textarea")),u=0;if(c.style.display="block",c.style.padding="2px",c.style.height="100%",c.style.width="100%",c.style.boxSizing="border-box",c.style.whiteSpace="pre-wrap",c.style.resize="none",i.elementAttributes&&"object"==s(i.elementAttributes))for(var d in i.elementAttributes)"+"==d.charAt(0)?(d=d.slice(1),c.setAttribute(d,c.getAttribute(d)+i.elementAttributes["+"+d])):c.setAttribute(d,i.elementAttributes[d]);function h(e){(null===r||"undefined"===typeof r)&&""!==c.value||c.value!==r?(n(c.value)&&(r=c.value),setTimeout((function(){t.getRow().normalizeHeight()}),300)):o()}return c.value=l,e((function(){c.focus({preventScroll:!0}),c.style.height="100%"})),c.addEventListener("change",h),c.addEventListener("blur",h),c.addEventListener("keyup",(function(){c.style.height="";var e=c.scrollHeight;c.style.height=e+"px",e!=u&&(u=e,t.getRow().normalizeHeight())})),c.addEventListener("keydown",(function(t){switch(t.keyCode){case 27:o();break;case 38:("editor"==a||"hybrid"==a&&c.selectionStart)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 40:("editor"==a||"hybrid"==a&&c.selectionStart!==c.value.length)&&(t.stopImmediatePropagation(),t.stopPropagation());break}})),i.mask&&this.table.modules.edit.maskInput(c,i),c},number:function(t,e,n,o,i){var r=t.getValue(),a=i.verticalNavigation||"editor",l=document.createElement("input");if(l.setAttribute("type","number"),"undefined"!=typeof i.max&&l.setAttribute("max",i.max),"undefined"!=typeof i.min&&l.setAttribute("min",i.min),"undefined"!=typeof i.step&&l.setAttribute("step",i.step),l.style.padding="4px",l.style.width="100%",l.style.boxSizing="border-box",i.elementAttributes&&"object"==s(i.elementAttributes))for(var c in i.elementAttributes)"+"==c.charAt(0)?(c=c.slice(1),l.setAttribute(c,l.getAttribute(c)+i.elementAttributes["+"+c])):l.setAttribute(c,i.elementAttributes[c]);l.value=r;var u=function(t){d()};function d(){var t=l.value;isNaN(t)||""===t||(t=Number(t)),t!==r?n(t)&&(r=t):o()}return e((function(){l.removeEventListener("blur",u),l.focus({preventScroll:!0}),l.style.height="100%",l.addEventListener("blur",u)})),l.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:d();break;case 27:o();break;case 38:case 40:"editor"==a&&(t.stopImmediatePropagation(),t.stopPropagation());break}})),i.mask&&this.table.modules.edit.maskInput(l,i),l},range:function(t,e,n,o,i){var r=t.getValue(),a=document.createElement("input");if(a.setAttribute("type","range"),"undefined"!=typeof i.max&&a.setAttribute("max",i.max),"undefined"!=typeof i.min&&a.setAttribute("min",i.min),"undefined"!=typeof i.step&&a.setAttribute("step",i.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",i.elementAttributes&&"object"==s(i.elementAttributes))for(var l in i.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),a.setAttribute(l,a.getAttribute(l)+i.elementAttributes["+"+l])):a.setAttribute(l,i.elementAttributes[l]);function c(){var t=a.value;isNaN(t)||""===t||(t=Number(t)),t!=r?n(t)&&(r=t):o()}return a.value=r,e((function(){a.focus({preventScroll:!0}),a.style.height="100%"})),a.addEventListener("blur",(function(t){c()})),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:c();break;case 27:o();break}})),a},select:function(t,e,n,o,i){var r=this,a=t.getElement(),l=t.getValue(),c=i.verticalNavigation||"editor",u="undefined"!==typeof l||null===l?Array.isArray(l)?l:[l]:"undefined"!==typeof i.defaultValue?i.defaultValue:[],d=document.createElement("input"),p=document.createElement("div"),f=i.multiselect,m=[],g={},v=[],y=[],b=!0,w=!1;function C(e){var n,o={},a=r.table.getData();return n=e?r.table.columnManager.getColumnByField(e):t.getColumn()._getSelf(),n?(a.forEach((function(t){var e=n.getFieldValue(t);null!==e&&"undefined"!==typeof e&&""!==e&&(o[e]=!0)})),o=i.sortValuesList?"asc"==i.sortValuesList?Object.keys(o).sort():Object.keys(o).sort().reverse():Object.keys(o)):console.warn("unable to find matching column to create select lookup list:",e),o}function x(e,n){var o=[],i=[];function r(t){t={label:t.label,value:t.value,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1};return n.indexOf(t.value)>-1&&M(t),o.push(t),i.push(t),t}if("function"==typeof e&&(e=e(t)),Array.isArray(e))e.forEach((function(t){var e;"object"===("undefined"===typeof t?"undefined":s(t))?t.options?(e={label:t.label,group:!0,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1},i.push(e),t.options.forEach((function(t){r(t)}))):r(t):(e={label:t,value:t,element:!1},n.indexOf(e.value)>-1&&M(e),o.push(e),i.push(e))}));else for(var a in e){var l={label:e[a],value:a,element:!1};n.indexOf(l.value)>-1&&M(l),o.push(l),i.push(l)}m=o,v=i,E()}function E(){while(p.firstChild)p.removeChild(p.firstChild);v.forEach((function(e){var n=e.element;if(!n){if(n=document.createElement("div"),e.label=i.listItemFormatter?i.listItemFormatter(e.value,e.label,t,n,e.itemParams):e.label,e.group?(n.classList.add("tabulator-edit-select-list-group"),n.tabIndex=0,n.innerHTML=""===e.label?"&nbsp;":e.label):(n.classList.add("tabulator-edit-select-list-item"),n.tabIndex=0,n.innerHTML=""===e.label?"&nbsp;":e.label,n.addEventListener("click",(function(){w=!0,setTimeout((function(){w=!1}),10),f?(S(e),d.focus()):k(e)})),y.indexOf(e)>-1&&n.classList.add("active")),e.elementAttributes&&"object"==s(e.elementAttributes))for(var o in e.elementAttributes)"+"==o.charAt(0)?(o=o.slice(1),n.setAttribute(o,d.getAttribute(o)+e.elementAttributes["+"+o])):n.setAttribute(o,e.elementAttributes[o]);n.addEventListener("mousedown",(function(){b=!1,setTimeout((function(){b=!0}),10)})),e.element=n}p.appendChild(n)}))}function _(t,e){!f&&g&&g.element&&g.element.classList.remove("active"),g&&g.element&&g.element.classList.remove("focused"),g=t,t.element&&(t.element.classList.add("focused"),e&&t.element.classList.add("active"))}function M(t){var e=y.indexOf(t);-1==e&&(y.push(t),_(t,!0)),L()}function R(t){var e=y[t];t>-1&&(y.splice(t,1),e.element&&e.element.classList.remove("active"))}function S(t){t||(t=g);var e=y.indexOf(t);e>-1?R(e):(!0!==f&&y.length>=f&&R(0),M(t)),L()}function k(t){P(),t||(t=g),t&&(d.value=t.label,n(t.value)),u=d.value}function T(t){t||P();var e=[];y.forEach((function(t){e.push(t.value)})),u=d.value,n(e)}function L(){var t=[];y.forEach((function(e){t.push(e.label)})),d.value=t.join(", "),!1===r.currentCell&&T(!0)}function D(){for(var t=y.length,e=0;e<t;e++)R(0)}function F(){P(),o()}function A(){if(y=[],!p.parentNode){!0===i.values?x(C(),u):"string"===typeof i.values?x(C(i.values),u):x(i.values||[],u);var t=h.prototype.helpers.elOffset(a);p.style.minWidth=a.offsetWidth+"px",p.style.top=t.top+a.offsetHeight+"px",p.style.left=t.left+"px",p.addEventListener("mousedown",(function(t){b=!1,setTimeout((function(){b=!0}),10)})),document.body.appendChild(p)}}function P(){p.parentNode&&p.parentNode.removeChild(p),z()}function z(){r.table.rowManager.element.removeEventListener("scroll",F)}if(this.table.rowManager.element.addEventListener("scroll",F),(Array.isArray(i)||!Array.isArray(i)&&"object"===("undefined"===typeof i?"undefined":s(i))&&!i.values)&&(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),i={values:i}),d.setAttribute("type","text"),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",d.style.cursor="default",d.readOnly=0!=this.currentCell,i.elementAttributes&&"object"==s(i.elementAttributes))for(var N in i.elementAttributes)"+"==N.charAt(0)?(N=N.slice(1),d.setAttribute(N,d.getAttribute(N)+i.elementAttributes["+"+N])):d.setAttribute(N,i.elementAttributes[N]);return d.value="undefined"!==typeof l||null===l?l:"",d.addEventListener("search",(function(t){d.value||(D(),T())})),d.addEventListener("keydown",(function(t){var e;switch(t.keyCode){case 38:e=m.indexOf(g),("editor"==c||"hybrid"==c&&e)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e>0&&_(m[e-1],!f));break;case 40:e=m.indexOf(g),("editor"==c||"hybrid"==c&&e<m.length-1)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e<m.length-1&&_(-1==e?m[0]:m[e+1],!f));break;case 37:case 39:t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault();break;case 13:f?S():k();break;case 27:F();break;default:!1===r.currentCell&&t.preventDefault()}})),d.addEventListener("blur",(function(t){b&&(f?T():F())})),d.addEventListener("focus",(function(t){w||A()})),p=document.createElement("div"),p.classList.add("tabulator-edit-select-list"),e((function(){d.style.height="100%",d.focus({preventScroll:!0})})),d},autocomplete:function(t,e,n,o,i){var r=this,a=t.getElement(),l=t.getValue(),c=i.verticalNavigation||"editor",u="undefined"!==typeof l||null===l?l:"undefined"!==typeof i.defaultValue?i.defaultValue:"",d=document.createElement("input"),p=document.createElement("div"),f=[],m=!1,g=!0,v=!1;if(this.table.rowManager.element.addEventListener("scroll",D),d.setAttribute("type","search"),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",i.elementAttributes&&"object"==s(i.elementAttributes))for(var y in i.elementAttributes)"+"==y.charAt(0)?(y=y.slice(1),d.setAttribute(y,d.getAttribute(y)+i.elementAttributes["+"+y])):d.setAttribute(y,i.elementAttributes[y]);function b(){!0===i.values?v=w():"string"===typeof i.values&&(v=w(i.values))}function w(e){var n,o={},a=r.table.getData();return n=e?r.table.columnManager.getColumnByField(e):t.getColumn()._getSelf(),n?(a.forEach((function(t){var e=n.getFieldValue(t);null!==e&&"undefined"!==typeof e&&""!==e&&(o[e]=!0)})),o=i.sortValuesList?"asc"==i.sortValuesList?Object.keys(o).sort():Object.keys(o).sort().reverse():Object.keys(o)):console.warn("unable to find matching column to create autocomplete lookup list:",e),o}function C(t,e){var n,o,r=[];n=v||(i.values||[]),i.searchFunc?(r=i.searchFunc(t,n),r instanceof Promise?(x("undefined"!==typeof i.searchingPlaceholder?i.searchingPlaceholder:"Searching..."),r.then((function(t){M(E(t),e)})).catch((function(t){console.err("error in autocomplete search promise:",t)}))):M(E(r),e)):(o=E(n),""===t?i.showListOnEmpty&&(r=o):o.forEach((function(e){null===e.value&&"undefined"===typeof e.value||(String(e.value).toLowerCase().indexOf(String(t).toLowerCase())>-1||String(e.title).toLowerCase().indexOf(String(t).toLowerCase())>-1)&&r.push(e)})),M(r,e))}function x(t){var e=document.createElement("div");_(),!1!==t&&(e.classList.add("tabulator-edit-select-list-notice"),e.tabIndex=0,t instanceof Node?e.appendChild(t):e.innerHTML=t,p.appendChild(e))}function E(t){var e=[];if(Array.isArray(t))t.forEach((function(t){var n={};"object"===("undefined"===typeof t?"undefined":s(t))?(n.title=i.listItemFormatter?i.listItemFormatter(t.value,t.label):t.label,n.value=t.value):(n.title=i.listItemFormatter?i.listItemFormatter(t,t):t,n.value=t),e.push(n)}));else for(var n in t){var o={title:i.listItemFormatter?i.listItemFormatter(n,t[n]):t[n],value:n};e.push(o)}return e}function _(){while(p.firstChild)p.removeChild(p.firstChild)}function M(t,e){t.length?R(t,e):i.emptyPlaceholder&&x(i.emptyPlaceholder)}function R(t,e){var n=!1;_(),f=t,f.forEach((function(t){var o=t.element;o||(o=document.createElement("div"),o.classList.add("tabulator-edit-select-list-item"),o.tabIndex=0,o.innerHTML=t.title,o.addEventListener("click",(function(e){T(t),S()})),o.addEventListener("mousedown",(function(t){g=!1,setTimeout((function(){g=!0}),10)})),t.element=o,e&&t.value==l&&(d.value=t.title,t.element.classList.add("active"),n=!0),t===m&&(t.element.classList.add("active"),n=!0)),p.appendChild(o)})),n||T(!1)}function S(){L(),m?l!==m.value?(l=m.value,d.value=m.title,n(m.value)):o():i.freetext?(l=d.value,n(d.value)):i.allowEmpty&&""===d.value?(l=d.value,n(d.value)):o()}function k(){if(!p.parentNode){while(p.firstChild)p.removeChild(p.firstChild);var t=h.prototype.helpers.elOffset(a);p.style.minWidth=a.offsetWidth+"px",p.style.top=t.top+a.offsetHeight+"px",p.style.left=t.left+"px",document.body.appendChild(p)}}function T(t,e){m&&m.element&&m.element.classList.remove("active"),m=t,t&&t.element&&t.element.classList.add("active")}function L(){p.parentNode&&p.parentNode.removeChild(p),F()}function D(){L(),o()}function F(){r.table.rowManager.element.removeEventListener("scroll",D)}return p.classList.add("tabulator-edit-select-list"),p.addEventListener("mousedown",(function(t){g=!1,setTimeout((function(){g=!0}),10)})),d.addEventListener("keydown",(function(t){var e;switch(t.keyCode){case 38:e=f.indexOf(m),("editor"==c||"hybrid"==c&&e)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),T(e>0&&f[e-1]));break;case 40:e=f.indexOf(m),("editor"==c||"hybrid"==c&&e<f.length-1)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e<f.length-1&&T(-1==e?f[0]:f[e+1]));break;case 37:case 39:t.stopImmediatePropagation(),t.stopPropagation();break;case 13:S();break;case 27:D();break;case 36:case 35:t.stopImmediatePropagation();break}})),d.addEventListener("keyup",(function(t){switch(t.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:C(d.value)}})),d.addEventListener("search",(function(t){C(d.value)})),d.addEventListener("blur",(function(t){g&&S()})),d.addEventListener("focus",(function(t){var e=u;b(),k(),d.value=e,C(e,!0)})),e((function(){d.style.height="100%",d.focus({preventScroll:!0})})),i.mask&&this.table.modules.edit.maskInput(d,i),d},star:function(t,e,n,o,i){var r=this,a=t.getElement(),l=t.getValue(),c=a.getElementsByTagName("svg").length||5,u=a.getElementsByTagName("svg")[0]?a.getElementsByTagName("svg")[0].getAttribute("width"):14,d=[],h=document.createElement("div"),p=document.createElementNS("http://www.w3.org/2000/svg","svg");function f(t){d.forEach((function(e,n){n<t?("ie"==r.table.browser?e.setAttribute("class","tabulator-star-active"):e.classList.replace("tabulator-star-inactive","tabulator-star-active"),e.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==r.table.browser?e.setAttribute("class","tabulator-star-inactive"):e.classList.replace("tabulator-star-active","tabulator-star-inactive"),e.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')}))}function m(t){var e=document.createElement("span"),o=p.cloneNode(!0);d.push(o),e.addEventListener("mouseenter",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),f(t)})),e.addEventListener("mousemove",(function(t){t.stopPropagation(),t.stopImmediatePropagation()})),e.addEventListener("click",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),n(t),a.blur()})),e.appendChild(o),h.appendChild(e)}function g(t){l=t,f(t)}if(a.style.whiteSpace="nowrap",a.style.overflow="hidden",a.style.textOverflow="ellipsis",h.style.verticalAlign="middle",h.style.display="inline-block",h.style.padding="4px",p.setAttribute("width",u),p.setAttribute("height",u),p.setAttribute("viewBox","0 0 512 512"),p.setAttribute("xml:space","preserve"),p.style.padding="0 1px",i.elementAttributes&&"object"==s(i.elementAttributes))for(var v in i.elementAttributes)"+"==v.charAt(0)?(v=v.slice(1),h.setAttribute(v,h.getAttribute(v)+i.elementAttributes["+"+v])):h.setAttribute(v,i.elementAttributes[v]);for(var y=1;y<=c;y++)m(y);return l=Math.min(parseInt(l),c),f(l),h.addEventListener("mousemove",(function(t){f(0)})),h.addEventListener("click",(function(t){n(0)})),a.addEventListener("blur",(function(t){o()})),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 39:g(l+1);break;case 37:g(l-1);break;case 13:n(l);break;case 27:o();break}})),h},progress:function(t,e,n,o,i){var r,a,l=t.getElement(),c="undefined"===typeof i.max?l.getElementsByTagName("div")[0].getAttribute("max")||100:i.max,u="undefined"===typeof i.min?l.getElementsByTagName("div")[0].getAttribute("min")||0:i.min,d=(c-u)/100,h=t.getValue()||0,p=document.createElement("div"),f=document.createElement("div");function m(){var t=d*Math.round(f.offsetWidth/(l.clientWidth/100))+u;n(t),l.setAttribute("aria-valuenow",t),l.setAttribute("aria-label",h)}if(p.style.position="absolute",p.style.right="0",p.style.top="0",p.style.bottom="0",p.style.width="5px",p.classList.add("tabulator-progress-handle"),f.style.display="inline-block",f.style.position="relative",f.style.height="100%",f.style.backgroundColor="#488CE9",f.style.maxWidth="100%",f.style.minWidth="0%",i.elementAttributes&&"object"==s(i.elementAttributes))for(var g in i.elementAttributes)"+"==g.charAt(0)?(g=g.slice(1),f.setAttribute(g,f.getAttribute(g)+i.elementAttributes["+"+g])):f.setAttribute(g,i.elementAttributes[g]);return l.style.padding="4px 4px",h=Math.min(parseFloat(h),c),h=Math.max(parseFloat(h),u),h=Math.round((h-u)/d),f.style.width=h+"%",l.setAttribute("aria-valuemin",u),l.setAttribute("aria-valuemax",c),f.appendChild(p),p.addEventListener("mousedown",(function(t){r=t.screenX,a=f.offsetWidth})),p.addEventListener("mouseover",(function(){p.style.cursor="ew-resize"})),l.addEventListener("mousemove",(function(t){r&&(f.style.width=a+t.screenX-r+"px")})),l.addEventListener("mouseup",(function(t){r&&(t.stopPropagation(),t.stopImmediatePropagation(),r=!1,a=!1,m())})),l.addEventListener("keydown",(function(t){switch(t.keyCode){case 39:t.preventDefault(),f.style.width=f.clientWidth+l.clientWidth/100+"px";break;case 37:t.preventDefault(),f.style.width=f.clientWidth-l.clientWidth/100+"px";break;case 9:case 13:m();break;case 27:o();break}})),l.addEventListener("blur",(function(){o()})),f},tickCross:function(t,e,n,o,i){var r=t.getValue(),a=document.createElement("input"),l=i.tristate,c="undefined"===typeof i.indeterminateValue?null:i.indeterminateValue,u=!1;if(a.setAttribute("type","checkbox"),a.style.marginTop="5px",a.style.boxSizing="border-box",i.elementAttributes&&"object"==s(i.elementAttributes))for(var d in i.elementAttributes)"+"==d.charAt(0)?(d=d.slice(1),a.setAttribute(d,a.getAttribute(d)+i.elementAttributes["+"+d])):a.setAttribute(d,i.elementAttributes[d]);function h(t){return l?t?u?c:a.checked:a.checked&&!u?(a.checked=!1,a.indeterminate=!0,u=!0,c):(u=!1,a.checked):a.checked}return a.value=r,!l||"undefined"!==typeof r&&r!==c&&""!==r||(u=!0,a.indeterminate=!0),"firefox"!=this.table.browser&&e((function(){a.focus({preventScroll:!0})})),a.checked=!0===r||"true"===r||"True"===r||1===r,a.addEventListener("change",(function(t){n(h())})),a.addEventListener("blur",(function(t){n(h(!0))})),a.addEventListener("keydown",(function(t){13==t.keyCode&&n(h()),27==t.keyCode&&o()})),a}},h.prototype.registerModule("edit",x);var E=function(t,e,n,o){this.type=t,this.columns=e,this.component=n||!1,this.indent=o||0},_=function(t,e,n,o,i){this.value=t,this.component=e||!1,this.width=n,this.height=o,this.depth=i},M=function(t){this.table=t,this.config={},this.cloneTableStyle=!0,this.colVisProp=""};M.prototype.generateExportList=function(t,e,n,o){this.cloneTableStyle=e,this.config=t||{},this.colVisProp=o;var i=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],r=this.bodyToExportRows(this.rowLookup(n));return i.concat(r)},M.prototype.genereateTable=function(t,e,n,o){var i=this.generateExportList(t,e,n,o);return this.genereateTableElement(i)},M.prototype.rowLookup=function(t){var e=this,n=[];if("function"==typeof t)t.call(this.table).forEach((function(t){t=e.table.rowManager.findRow(t),t&&n.push(t)}));else switch(t){case!0:case"visible":n=this.table.rowManager.getVisibleRows(!0);break;case"all":n=this.table.rowManager.rows;break;case"selected":n=this.table.modules.selectRow.selectedRows;break;case"active":default:n=this.table.rowManager.getDisplayRows()}return Object.assign([],n)},M.prototype.generateColumnGroupHeaders=function(){var t=this,e=[],n=!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex;return n.forEach((function(n){var o=t.processColumnGroup(n);o&&e.push(o)})),e},M.prototype.processColumnGroup=function(t){var e=this,n=t.columns,o=0,i=t.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||t.definition.title,r={title:i,column:t,depth:1};if(n.length){if(r.subGroups=[],r.width=0,n.forEach((function(t){var n=e.processColumnGroup(t);n&&(r.width+=n.width,r.subGroups.push(n),n.depth>o&&(o=n.depth))})),r.depth+=o,!r.width)return!1}else{if(!this.columnVisCheck(t))return!1;r.width=1}return r},M.prototype.columnVisCheck=function(t){return!1!==t.definition[this.colVisProp]&&(t.visible||!t.visible&&t.definition[this.colVisProp])},M.prototype.headersToExportRows=function(t){var e=[],n=0,o=[];function i(t,o){var r=n-o;if("undefined"===typeof e[o]&&(e[o]=[]),t.height=t.subGroups?1:r-t.depth+1,e[o].push(t),t.height>1)for(var a=1;a<t.height;a++)"undefined"===typeof e[o+a]&&(e[o+a]=[]),e[o+a].push(!1);if(t.width>1)for(var s=1;s<t.width;s++)e[o].push(!1);t.subGroups&&t.subGroups.forEach((function(t){i(t,o+1)}))}return t.forEach((function(t){t.depth>n&&(n=t.depth)})),t.forEach((function(t){i(t,0)})),e.forEach((function(t){var e=[];t.forEach((function(t){t?e.push(new _(t.title,t.column.getComponent(),t.width,t.height,t.depth)):e.push(null)})),o.push(new E("header",e))})),o},M.prototype.bodyToExportRows=function(t){var e=this,n=[],o=[];return this.table.columnManager.columnsByIndex.forEach((function(t){e.columnVisCheck(t)&&n.push(t.getComponent())})),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&t.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&t.push(this.table.modules.columnCalcs.botRow)),t=t.filter((function(t){switch(t.type){case"group":return!1!==e.config.rowGroups;case"calc":return!1!==e.config.columnCalcs;case"row":return!(e.table.options.dataTree&&!1===e.config.dataTree&&t.modules.dataTree.parent)}return!0})),t.forEach((function(t,i){var r=t.getData(e.colVisProp),a=[],s=0;switch(t.type){case"group":s=t.level,a.push(new _(t.key,t.getComponent(),n.length,1));break;case"calc":case"row":n.forEach((function(t){a.push(new _(t._column.getFieldValue(r),t,1,1))})),e.table.options.dataTree&&!1!==e.config.dataTree&&(s=t.modules.dataTree.index);break}o.push(new E(t.type,a,t.getComponent(),s))})),o},M.prototype.genereateTableElement=function(t){var e=this,n=document.createElement("table"),o=document.createElement("thead"),i=document.createElement("tbody"),r=this.lookupTableStyles(),a=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],s={};return s.rowFormatter=null!==a?a:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(s.treeElementField=this.table.modules.dataTree.elementField),s.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],s.groupHeader&&!Array.isArray(s.groupHeader)&&(s.groupHeader=[s.groupHeader]),n.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),o,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),t.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),t.forEach((function(t,n){switch(t.type){case"header":o.appendChild(e.genereateHeaderElement(t,s,r));break;case"group":i.appendChild(e.genereateGroupElement(t,s,r));break;case"calc":i.appendChild(e.genereateCalcElement(t,s,r));break;case"row":var a=e.genereateRowElement(t,s,r);e.mapElementStyles(n%2&&r.evenRow?r.evenRow:r.oddRow,a,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),i.appendChild(a);break}})),o.innerHTML&&n.appendChild(o),n.appendChild(i),this.mapElementStyles(this.table.element,n,["border-top","border-left","border-right","border-bottom"]),n},M.prototype.lookupTableStyles=function(){var t={};return this.cloneTableStyle&&window.getComputedStyle&&(t.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),t.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),t.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),t.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),t.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],t.firstRow&&(t.styleCells=t.firstRow.getElementsByClassName("tabulator-cell"),t.firstCell=t.styleCells[0],t.lastCell=t.styleCells[t.styleCells.length-1])),t},M.prototype.genereateHeaderElement=function(t,e,n){var o=this,i=document.createElement("tr");return t.columns.forEach((function(t){if(t){var e=document.createElement("th"),n=t.component._column.definition.cssClass?t.component._column.definition.cssClass.split(" "):[];e.colSpan=t.width,e.rowSpan=t.height,e.innerHTML=t.value,o.cloneTableStyle&&(e.style.boxSizing="border-box"),n.forEach((function(t){e.classList.add(t)})),o.mapElementStyles(t.component.getElement(),e,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),o.mapElementStyles(t.component._column.contentElement,e,["padding-top","padding-left","padding-right","padding-bottom"]),t.component._column.visible?o.mapElementStyles(t.component.getElement(),e,["width"]):t.component._column.definition.width&&(e.style.width=t.component._column.definition.width+"px"),t.component._column.parent&&o.mapElementStyles(t.component._column.parent.groupElement,e,["border-top"]),i.appendChild(e)}})),i},M.prototype.genereateGroupElement=function(t,e,n){var o=document.createElement("tr"),i=document.createElement("td"),r=t.columns[0];return o.classList.add("tabulator-print-table-row"),e.groupHeader&&e.groupHeader[t.indent]?r.value=e.groupHeader[t.indent](r.value,t.component._group.getRowCount(),t.component._group.getData(),t.component):!1===e.groupHeader?r.value=r.value:r.value=t.component._group.generator(r.value,t.component._group.getRowCount(),t.component._group.getData(),t.component),i.colSpan=r.width,i.innerHTML=r.value,o.classList.add("tabulator-print-table-group"),o.classList.add("tabulator-group-level-"+t.indent),r.component.getVisibility()&&o.classList.add("tabulator-group-visible"),this.mapElementStyles(n.firstGroup,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(n.firstGroup,i,["padding-top","padding-left","padding-right","padding-bottom"]),o.appendChild(i),o},M.prototype.genereateCalcElement=function(t,e,n){var o=this.genereateRowElement(t,e,n);return o.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(n.calcRow,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o},M.prototype.genereateRowElement=function(t,e,n){var o=this,r=document.createElement("tr");return r.classList.add("tabulator-print-table-row"),t.columns.forEach((function(a){if(a){var l=document.createElement("td"),c=a.component._column,u=a.value,d={modules:{},getValue:function(){return u},getField:function(){return c.definition.field},getElement:function(){return l},getColumn:function(){return c.getComponent()},getData:function(){return rowData},getRow:function(){return t.getComponent()},getComponent:function(){return d},column:c},h=c.definition.cssClass?c.definition.cssClass.split(" "):[];if(h.forEach((function(t){l.classList.add(t)})),o.table.modExists("format")&&!1!==o.config.formatCells)u=o.table.modules.format.formatExportValue(d,o.colVisProp);else switch("undefined"===typeof u?"undefined":s(u)){case"object":u=JSON.stringify(u);break;case"undefined":case"null":u="";break;default:u=u}if(u instanceof Node?l.appendChild(u):l.innerHTML=u,n.firstCell&&(o.mapElementStyles(n.firstCell,l,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),c.definition.align&&(l.style.textAlign=c.definition.align)),o.table.options.dataTree&&!1!==o.config.dataTree&&(e.treeElementField&&e.treeElementField==c.field||!e.treeElementField&&0==i)&&(t.component._row.modules.dataTree.controlEl&&l.insertBefore(t.component._row.modules.dataTree.controlEl.cloneNode(!0),l.firstChild),t.component._row.modules.dataTree.branchEl&&l.insertBefore(t.component._row.modules.dataTree.branchEl.cloneNode(!0),l.firstChild)),r.appendChild(l),d.modules.format&&d.modules.format.renderedCallback&&d.modules.format.renderedCallback(),e.rowFormatter&&!1!==o.config.formatCells){var p=t.getComponent();p.getElement=function(){return r},e.rowFormatter(p)}}})),r},M.prototype.genereateHTMLTable=function(t){var e=document.createElement("div");return e.appendChild(this.genereateTableElement(t)),e.innerHTML},M.prototype.getHtml=function(t,e,n,o){var i=this.generateExportList(n||this.table.options.htmlOutputConfig,e,t,o||"htmlOutput");return this.genereateHTMLTable(i)},M.prototype.mapElementStyles=function(t,e,n){if(this.cloneTableStyle&&t&&e){var o={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var i=window.getComputedStyle(t);n.forEach((function(t){e.style[o[t]]=i.getPropertyValue(t)}))}}},h.prototype.registerModule("export",M);var R=function(t){this.table=t,this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1};R.prototype.initializeColumn=function(t,e){var n,o=this,i=t.getField();function r(e){var r,a="input"==t.modules.filter.tagType&&"text"==t.modules.filter.attrType||"textarea"==t.modules.filter.tagType?"partial":"match",l="",c="";if("undefined"===typeof t.modules.filter.prevSuccess||t.modules.filter.prevSuccess!==e){if(t.modules.filter.prevSuccess=e,t.modules.filter.emptyFunc(e))delete o.headerFilters[i];else{switch(t.modules.filter.value=e,s(t.definition.headerFilterFunc)){case"string":o.filters[t.definition.headerFilterFunc]?(l=t.definition.headerFilterFunc,r=function(n){var i=t.definition.headerFilterFuncParams||{},r=t.getFieldValue(n);return i="function"===typeof i?i(e,r,n):i,o.filters[t.definition.headerFilterFunc](e,r,n,i)}):console.warn("Header Filter Error - Matching filter function not found: ",t.definition.headerFilterFunc);break;case"function":r=function(n){var o=t.definition.headerFilterFuncParams||{},i=t.getFieldValue(n);return o="function"===typeof o?o(e,i,n):o,t.definition.headerFilterFunc(e,i,n,o)},l=r;break}if(!r)switch(a){case"partial":r=function(n){var o=t.getFieldValue(n);return"undefined"!==typeof o&&null!==o&&String(o).toLowerCase().indexOf(String(e).toLowerCase())>-1},l="like";break;default:r=function(n){return t.getFieldValue(n)==e},l="="}o.headerFilters[i]={value:e,func:r,type:l,params:n||{}}}c=JSON.stringify(o.headerFilters),o.prevHeaderFilterChangeCheck!==c&&(o.prevHeaderFilterChangeCheck=c,o.changed=!0,o.table.rowManager.filterRefresh())}return!0}t.modules.filter={success:r,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(t)},R.prototype.generateHeaderFilterElement=function(t,e,n){var o,i,r,a,l,c,u,d=this,h=this,p=t.modules.filter.success,f=t.getField();function m(){}if(t.modules.filter.headerElement&&t.modules.filter.headerElement.parentNode&&t.contentElement.removeChild(t.modules.filter.headerElement.parentNode),f){switch(t.modules.filter.emptyFunc=t.definition.headerFilterEmptyCheck||function(t){return!t&&"0"!==t},o=document.createElement("div"),o.classList.add("tabulator-header-filter"),s(t.definition.headerFilter)){case"string":h.table.modules.edit.editors[t.definition.headerFilter]?(i=h.table.modules.edit.editors[t.definition.headerFilter],"tick"!==t.definition.headerFilter&&"tickCross"!==t.definition.headerFilter||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",t.definition.editor);break;case"function":i=t.definition.headerFilter;break;case"boolean":t.modules.edit&&t.modules.edit.editor?i=t.modules.edit.editor:t.definition.formatter&&h.table.modules.edit.editors[t.definition.formatter]?(i=h.table.modules.edit.editors[t.definition.formatter],"tick"!==t.definition.formatter&&"tickCross"!==t.definition.formatter||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):i=h.table.modules.edit.editors["input"];break}if(i){if(a={getValue:function(){return"undefined"!==typeof e?e:""},getField:function(){return t.definition.field},getElement:function(){return o},getColumn:function(){return t.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},u=t.definition.headerFilterParams||{},u="function"===typeof u?u.call(h.table):u,r=i.call(this.table.modules.edit,a,(function(){}),p,m,u),!r)return void console.warn("Filter Error - Cannot add filter to "+f+" column, editor returned a value of false");if(!(r instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+f+" column, editor should return an instance of Node, the editor returned:",r);f?h.table.modules.localize.bind("headerFilters|columns|"+t.definition.field,(function(t){r.setAttribute("placeholder","undefined"!==typeof t&&t?t:h.table.modules.localize.getText("headerFilters|default"))})):h.table.modules.localize.bind("headerFilters|default",(function(t){r.setAttribute("placeholder","undefined"!==typeof h.column.definition.headerFilterPlaceholder&&h.column.definition.headerFilterPlaceholder?h.column.definition.headerFilterPlaceholder:t)})),r.addEventListener("click",(function(t){t.stopPropagation(),r.focus()})),r.addEventListener("focus",(function(t){var e=d.table.columnManager.element.scrollLeft;e!==d.table.rowManager.element.scrollLeft&&(d.table.rowManager.scrollHorizontal(e),d.table.columnManager.scrollHorizontal(e))})),l=!1,c=function(t){l&&clearTimeout(l),l=setTimeout((function(){p(r.value)}),h.table.options.headerFilterLiveFilterDelay)},t.modules.filter.headerElement=r,t.modules.filter.attrType=r.hasAttribute("type")?r.getAttribute("type").toLowerCase():"",t.modules.filter.tagType=r.tagName.toLowerCase(),!1!==t.definition.headerFilterLiveFilter&&("autocomplete"!==t.definition.headerFilter&&"tickCross"!==t.definition.headerFilter&&("autocomplete"!==t.definition.editor&&"tickCross"!==t.definition.editor||!0!==t.definition.headerFilter)&&(r.addEventListener("keyup",c),r.addEventListener("search",c),"number"==t.modules.filter.attrType&&r.addEventListener("change",(function(t){p(r.value)})),"text"==t.modules.filter.attrType&&"ie"!==this.table.browser&&r.setAttribute("type","search")),"input"!=t.modules.filter.tagType&&"select"!=t.modules.filter.tagType&&"textarea"!=t.modules.filter.tagType||r.addEventListener("mousedown",(function(t){t.stopPropagation()}))),o.appendChild(r),t.contentElement.appendChild(o),n||h.headerFilterColumns.push(t)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",t.definition.title)},R.prototype.hideHeaderFilterElements=function(){this.headerFilterColumns.forEach((function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="none")}))},R.prototype.showHeaderFilterElements=function(){this.headerFilterColumns.forEach((function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="")}))},R.prototype.setHeaderFilterFocus=function(t){t.modules.filter&&t.modules.filter.headerElement?t.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",t.getField())},R.prototype.getHeaderFilterValue=function(t){if(t.modules.filter&&t.modules.filter.headerElement)return t.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",t.getField())},R.prototype.setHeaderFilterValue=function(t,e){t&&(t.modules.filter&&t.modules.filter.headerElement?(this.generateHeaderFilterElement(t,e,!0),t.modules.filter.success(e)):console.warn("Column Filter Error - No header filter set on column:",t.getField()))},R.prototype.reloadHeaderFilter=function(t){t&&(t.modules.filter&&t.modules.filter.headerElement?this.generateHeaderFilterElement(t,t.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",t.getField()))},R.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},R.prototype.setFilter=function(t,e,n,o){var i=this;i.filterList=[],Array.isArray(t)||(t=[{field:t,type:e,value:n,params:o}]),i.addFilter(t)},R.prototype.addFilter=function(t,e,n,o){var i=this;Array.isArray(t)||(t=[{field:t,type:e,value:n,params:o}]),t.forEach((function(t){t=i.findFilter(t),t&&(i.filterList.push(t),i.changed=!0)})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},R.prototype.findFilter=function(t){var e,n=this;if(Array.isArray(t))return this.findSubFilters(t);var o=!1;return"function"==typeof t.field?o=function(e){return t.field(e,t.type||{})}:n.filters[t.type]?(e=n.table.columnManager.getColumnByField(t.field),o=e?function(o){return n.filters[t.type](t.value,e.getFieldValue(o),o,t.params||{})}:function(e){return n.filters[t.type](t.value,e[t.field],e,t.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",t.type),t.func=o,!!t.func&&t},R.prototype.findSubFilters=function(t){var e=this,n=[];return t.forEach((function(t){t=e.findFilter(t),t&&n.push(t)})),!!n.length&&n},R.prototype.getFilters=function(t,e){var n=[];return t&&(n=this.getHeaderFilters()),e&&n.forEach((function(t){"function"==typeof t.type&&(t.type="function")})),n=n.concat(this.filtersToArray(this.filterList,e)),n},R.prototype.filtersToArray=function(t,e){var n=this,o=[];return t.forEach((function(t){var i;Array.isArray(t)?o.push(n.filtersToArray(t,e)):(i={field:t.field,type:t.type,value:t.value},e&&"function"==typeof i.type&&(i.type="function"),o.push(i))})),o},R.prototype.getHeaderFilters=function(){var t=[];for(var e in this.headerFilters)t.push({field:e,type:this.headerFilters[e].type,value:this.headerFilters[e].value});return t},R.prototype.removeFilter=function(t,e,n){var o=this;Array.isArray(t)||(t=[{field:t,type:e,value:n}]),t.forEach((function(t){var e=-1;e="object"==s(t.field)?o.filterList.findIndex((function(e){return t===e})):o.filterList.findIndex((function(e){return t.field===e.field&&t.type===e.type&&t.value===e.value})),e>-1?(o.filterList.splice(e,1),o.changed=!0):console.warn("Filter Error - No matching filter type found, ignoring: ",t.type)})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},R.prototype.clearFilter=function(t){this.filterList=[],t&&this.clearHeaderFilter(),this.changed=!0,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},R.prototype.clearHeaderFilter=function(){var t=this;this.headerFilters={},t.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach((function(e){e.modules.filter.value=null,e.modules.filter.prevSuccess=void 0,t.reloadHeaderFilter(e)})),this.changed=!0},R.prototype.search=function(t,e,n,o){var i=this,r=[],a=[];return Array.isArray(e)||(e=[{field:e,type:n,value:o}]),e.forEach((function(t){t=i.findFilter(t),t&&a.push(t)})),this.table.rowManager.rows.forEach((function(e){var n=!0;a.forEach((function(t){i.filterRecurse(t,e.getData())||(n=!1)})),n&&r.push("data"===t?e.getData("data"):e.getComponent())})),r},R.prototype.filter=function(t,e){var n=this,o=[],i=[];return n.table.options.dataFiltering&&n.table.options.dataFiltering.call(n.table,n.getFilters()),n.table.options.ajaxFiltering||!n.filterList.length&&!Object.keys(n.headerFilters).length?o=t.slice(0):t.forEach((function(t){n.filterRow(t)&&o.push(t)})),n.table.options.dataFiltered&&(o.forEach((function(t){i.push(t.getComponent())})),n.table.options.dataFiltered.call(n.table,n.getFilters(),i)),o},R.prototype.filterRow=function(t,e){var n=this,o=!0,i=t.getData();for(var r in n.filterList.forEach((function(t){n.filterRecurse(t,i)||(o=!1)})),n.headerFilters)n.headerFilters[r].func(i)||(o=!1);return o},R.prototype.filterRecurse=function(t,e){var n=this,o=!1;return Array.isArray(t)?t.forEach((function(t){n.filterRecurse(t,e)&&(o=!0)})):o=t.func(e),o},R.prototype.filters={"=":function(t,e,n,o){return e==t},"<":function(t,e,n,o){return e<t},"<=":function(t,e,n,o){return e<=t},">":function(t,e,n,o){return e>t},">=":function(t,e,n,o){return e>=t},"!=":function(t,e,n,o){return e!=t},regex:function(t,e,n,o){return"string"==typeof t&&(t=new RegExp(t)),t.test(e)},like:function(t,e,n,o){return null===t||"undefined"===typeof t?e===t:"undefined"!==typeof e&&null!==e&&String(e).toLowerCase().indexOf(t.toLowerCase())>-1},keywords:function(t,e,n,o){var i=t.toLowerCase().split("undefined"===typeof o.separator?" ":o.separator),r=String(null===e||"undefined"===typeof e?"":e).toLowerCase(),a=[];return i.forEach((function(t){r.includes(t)&&a.push(!0)})),o.matchAll?a.length===i.length:!!a.length},starts:function(t,e,n,o){return null===t||"undefined"===typeof t?e===t:"undefined"!==typeof e&&null!==e&&String(e).toLowerCase().startsWith(t.toLowerCase())},ends:function(t,e,n,o){return null===t||"undefined"===typeof t?e===t:"undefined"!==typeof e&&null!==e&&String(e).toLowerCase().endsWith(t.toLowerCase())},in:function(t,e,n,o){return Array.isArray(t)?!t.length||t.indexOf(e)>-1:(console.warn("Filter Error - filter value is not an array:",t),!1)}},h.prototype.registerModule("filter",R);var S=function(t){this.table=t};S.prototype.initializeColumn=function(t){t.modules.format=this.lookupFormatter(t,""),"undefined"!==typeof t.definition.formatterPrint&&(t.modules.format.print=this.lookupFormatter(t,"Print")),"undefined"!==typeof t.definition.formatterClipboard&&(t.modules.format.clipboard=this.lookupFormatter(t,"Clipboard")),"undefined"!==typeof t.definition.formatterHtmlOutput&&(t.modules.format.htmlOutput=this.lookupFormatter(t,"HtmlOutput"))},S.prototype.lookupFormatter=function(t,e){var n={params:t.definition["formatter"+e+"Params"]||{}},o=t.definition["formatter"+e];switch("undefined"===typeof o?"undefined":s(o)){case"string":"tick"===o&&(o="tickCross","undefined"==typeof n.params.crossElement&&(n.params.crossElement=!1),console.warn("DEPRECATION WARNING - the tick formatter has been deprecated, please use the tickCross formatter with the crossElement param set to false")),this.formatters[o]?n.formatter=this.formatters[o]:(console.warn("Formatter Error - No such formatter found: ",o),n.formatter=this.formatters.plaintext);break;case"function":n.formatter=o;break;default:n.formatter=this.formatters.plaintext;break}return n},S.prototype.cellRendered=function(t){t.modules.format&&t.modules.format.renderedCallback&&t.modules.format.renderedCallback()},S.prototype.formatValue=function(t){var e=t.getComponent(),n="function"===typeof t.column.modules.format.params?t.column.modules.format.params(e):t.column.modules.format.params;function o(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e}return t.column.modules.format.formatter.call(this,e,n,o)},S.prototype.formatExportValue=function(t,e){var n,o=t.column.modules.format[e];if(o){var i=function(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e};return n="function"===typeof o.params?o.params(component):o.params,o.formatter.call(this,t.getComponent(),n,i)}return this.formatValue(t)},S.prototype.sanitizeHTML=function(t){if(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,(function(t){return e[t]}))}return t},S.prototype.emptyToSpace=function(t){return null===t||"undefined"===typeof t||""===t?"&nbsp;":t},S.prototype.getFormatter=function(t){switch("undefined"===typeof t?"undefined":s(t)){case"string":this.formatters[t]?t=this.formatters[t]:(console.warn("Formatter Error - No such formatter found: ",t),t=this.formatters.plaintext);break;case"function":t=t;break;default:t=this.formatters.plaintext;break}return t},S.prototype.formatters={plaintext:function(t,e,n){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))},html:function(t,e,n){return t.getValue()},textarea:function(t,e,n){return t.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(t.getValue()))},money:function(t,e,n){var o,i,r,a,s=parseFloat(t.getValue()),l=e.decimal||".",c=e.thousand||",",u=e.symbol||"",d=!!e.symbolAfter,h="undefined"!==typeof e.precision?e.precision:2;if(isNaN(s))return this.emptyToSpace(this.sanitizeHTML(t.getValue()));o=!1!==h?s.toFixed(h):s,o=String(o).split("."),i=o[0],r=o.length>1?l+o[1]:"",a=/(\d+)(\d{3})/;while(a.test(i))i=i.replace(a,"$1"+c+"$2");return d?i+r+u:u+i+r},link:function(t,e,n){var o,i=t.getValue(),r=e.urlPrefix||"",a=e.download,l=i,c=document.createElement("a");if(e.labelField&&(o=t.getData(),l=o[e.labelField]),e.label)switch(s(e.label)){case"string":l=e.label;break;case"function":l=e.label(t);break}if(l){if(e.urlField&&(o=t.getData(),i=o[e.urlField]),e.url)switch(s(e.url)){case"string":i=e.url;break;case"function":i=e.url(t);break}return c.setAttribute("href",r+i),e.target&&c.setAttribute("target",e.target),e.download&&(a="function"==typeof a?a(t):!0===a?"":a,c.setAttribute("download",a)),c.innerHTML=this.emptyToSpace(this.sanitizeHTML(l)),c}return"&nbsp;"},image:function(t,e,n){var o=document.createElement("img");switch(o.setAttribute("src",t.getValue()),s(e.height)){case"number":o.style.height=e.height+"px";break;case"string":o.style.height=e.height;break}switch(s(e.width)){case"number":o.style.width=e.width+"px";break;case"string":o.style.width=e.width;break}return o.addEventListener("load",(function(){t.getRow().normalizeHeight()})),o},tickCross:function(t,e,n){var o=t.getValue(),i=t.getElement(),r=e.allowEmpty,a=e.allowTruthy,s="undefined"!==typeof e.tickElement?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',l="undefined"!==typeof e.crossElement?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return a&&o||!0===o||"true"===o||"True"===o||1===o||"1"===o?(i.setAttribute("aria-checked",!0),s||""):!r||"null"!==o&&""!==o&&null!==o&&"undefined"!==typeof o?(i.setAttribute("aria-checked",!1),l||""):(i.setAttribute("aria-checked","mixed"),"")},datetime:function(t,e,n){var o=e.inputFormat||"YYYY-MM-DD hh:mm:ss",i=e.outputFormat||"DD/MM/YYYY hh:mm:ss",r="undefined"!==typeof e.invalidPlaceholder?e.invalidPlaceholder:"",a=t.getValue(),s=moment(a,o);return s.isValid()?e.timezone?s.tz(e.timezone).format(i):s.format(i):!0===r?a:"function"===typeof r?r(a):r},datetimediff:function(t,e,n){var o=e.inputFormat||"YYYY-MM-DD hh:mm:ss",i="undefined"!==typeof e.invalidPlaceholder?e.invalidPlaceholder:"",r="undefined"!==typeof e.suffix&&e.suffix,a="undefined"!==typeof e.unit?e.unit:void 0,s="undefined"!==typeof e.humanize&&e.humanize,l="undefined"!==typeof e.date?e.date:moment(),c=t.getValue(),u=moment(c,o);return u.isValid()?s?moment.duration(u.diff(l)).humanize(r):u.diff(l,a)+(r?" "+r:""):!0===i?c:"function"===typeof i?i(c):i},lookup:function(t,e,n){var o=t.getValue();return"undefined"===typeof e[o]?(console.warn("Missing display value for "+o),o):e[o]},star:function(t,e,n){var o=t.getValue(),i=t.getElement(),r=e&&e.stars?e.stars:5,a=document.createElement("span"),s=document.createElementNS("http://www.w3.org/2000/svg","svg"),l='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',c='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';a.style.verticalAlign="middle",s.setAttribute("width","14"),s.setAttribute("height","14"),s.setAttribute("viewBox","0 0 512 512"),s.setAttribute("xml:space","preserve"),s.style.padding="0 1px",o=o&&!isNaN(o)?parseInt(o):0,o=Math.max(0,Math.min(o,r));for(var u=1;u<=r;u++){var d=s.cloneNode(!0);d.innerHTML=u<=o?l:c,a.appendChild(d)}return i.style.whiteSpace="nowrap",i.style.overflow="hidden",i.style.textOverflow="ellipsis",i.setAttribute("aria-label",o),a},traffic:function(t,e,n){var o,i,r=this.sanitizeHTML(t.getValue())||0,a=document.createElement("span"),l=e&&e.max?e.max:100,c=e&&e.min?e.min:0,u=e&&"undefined"!==typeof e.color?e.color:["red","orange","green"],d="#666666";if(!isNaN(r)&&"undefined"!==typeof t.getValue()){switch(a.classList.add("tabulator-traffic-light"),i=parseFloat(r)<=l?parseFloat(r):l,i=parseFloat(i)>=c?parseFloat(i):c,o=(l-c)/100,i=Math.round((i-c)/o),"undefined"===typeof u?"undefined":s(u)){case"string":d=u;break;case"function":d=u(r);break;case"object":if(Array.isArray(u)){var h=100/u.length,p=Math.floor(i/h);p=Math.min(p,u.length-1),p=Math.max(p,0),d=u[p];break}}return a.style.backgroundColor=d,a}},progress:function(t,e,n){var o,i,r,a,l,u=this.sanitizeHTML(t.getValue())||0,d=t.getElement(),h=e&&e.max?e.max:100,p=e&&e.min?e.min:0,f=e&&e.legendAlign?e.legendAlign:"center";switch(i=parseFloat(u)<=h?parseFloat(u):h,i=parseFloat(i)>=p?parseFloat(i):p,o=(h-p)/100,i=Math.round((i-p)/o),s(e.color)){case"string":r=e.color;break;case"function":r=e.color(u);break;case"object":if(Array.isArray(e.color)){var m=100/e.color.length,g=Math.floor(i/m);g=Math.min(g,e.color.length-1),g=Math.max(g,0),r=e.color[g];break}default:r="#2DC214"}switch(s(e.legend)){case"string":a=e.legend;break;case"function":a=e.legend(u);break;case"boolean":a=u;break;default:a=!1}switch(s(e.legendColor)){case"string":l=e.legendColor;break;case"function":l=e.legendColor(u);break;case"object":if(Array.isArray(e.legendColor)){m=100/e.legendColor.length,g=Math.floor(i/m);g=Math.min(g,e.legendColor.length-1),g=Math.max(g,0),l=e.legendColor[g]}break;default:l="#000"}d.style.minWidth="30px",d.style.position="relative",d.setAttribute("aria-label",i);var v=document.createElement("div");if(v.style.display="inline-block",v.style.position="relative",v.style.width=i+"%",v.style.backgroundColor=r,v.style.height="100%",v.setAttribute("data-max",h),v.setAttribute("data-min",p),a){var y=document.createElement("div");y.style.position="absolute",y.style.top="4px",y.style.left=0,y.style.textAlign=f,y.style.width="100%",y.style.color=l,y.innerHTML=a}return n((function(){if(!(t instanceof c)){var e=document.createElement("div");e.style.position="absolute",e.style.top="4px",e.style.bottom="4px",e.style.left="4px",e.style.right="4px",d.appendChild(e),d=e}d.appendChild(v),a&&d.appendChild(y)})),""},color:function(t,e,n){return t.getElement().style.backgroundColor=this.sanitizeHTML(t.getValue()),""},buttonTick:function(t,e,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(t,e,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(t,e,n){return this.table.rowManager.activeRows.indexOf(t.getRow()._getSelf())+1},handle:function(t,e,n){return t.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(t,e,n){var o=document.createElement("div"),i=t.getRow()._row.modules.responsiveLayout;function r(t){var e=i.element;i.open=t,e&&(i.open?(o.classList.add("open"),e.style.display=""):(o.classList.remove("open"),e.style.display="none"))}return o.classList.add("tabulator-responsive-collapse-toggle"),o.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",t.getElement().classList.add("tabulator-row-handle"),o.addEventListener("click",(function(t){t.stopImmediatePropagation(),r(!i.open)})),r(i.open),o},rowSelection:function(t){var e=this,n=document.createElement("input");if(n.type="checkbox",this.table.modExists("selectRow",!0))if(n.addEventListener("click",(function(t){t.stopPropagation()})),"function"==typeof t.getRow){var o=t.getRow();n.addEventListener("change",(function(t){o.toggleSelect()})),n.checked=o.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(o,n)}else n.addEventListener("change",(function(t){e.table.modules.selectRow.selectedRows.length?e.table.deselectRow():e.table.selectRow()})),this.table.modules.selectRow.registerHeaderSelectCheckbox(n);return n}},h.prototype.registerModule("format",S);var k=function(t){this.table=t,this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1};k.prototype.reset=function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0},k.prototype.initializeColumn=function(t){var e={margin:0,edge:!1};t.isGroup||(this.frozenCheck(t)?(e.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(t):this.rightColumns.unshift(t),this.active=!0,t.modules.frozen=e):this.initializationMode="right")},k.prototype.frozenCheck=function(t){return t.parent.isGroup&&t.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),t.parent.isGroup?this.frozenCheck(t.parent):t.definition.frozen},k.prototype.scrollHorizontal=function(){var t,e=this;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout((function(){e.layout()}),100),t=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),t.forEach((function(t){"row"===t.type&&e.layoutRow(t)})),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},k.prototype.calcMargins=function(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft},k.prototype.layoutCalcRows=function(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow))},k.prototype.layoutColumnPosition=function(t){var e=this,n=[];this.leftColumns.forEach((function(o,i){if(o.modules.frozen.margin=e._calcSpace(e.leftColumns,i)+e.table.columnManager.scrollLeft+"px",i==e.leftColumns.length-1?o.modules.frozen.edge=!0:o.modules.frozen.edge=!1,o.parent.isGroup){var r=e.getColGroupParentElement(o);n.includes(r)||(e.layoutElement(r,o),n.push(r)),o.modules.frozen.edge&&r.classList.add("tabulator-frozen-"+o.modules.frozen.position)}else e.layoutElement(o.getElement(),o);t&&o.cells.forEach((function(t){e.layoutElement(t.getElement(),o)}))})),this.rightColumns.forEach((function(n,o){n.modules.frozen.margin=e.rightPadding-e._calcSpace(e.rightColumns,o+1)+"px",o==e.rightColumns.length-1?n.modules.frozen.edge=!0:n.modules.frozen.edge=!1,n.parent.isGroup?e.layoutElement(e.getColGroupParentElement(n),n):e.layoutElement(n.getElement(),n),t&&n.cells.forEach((function(t){e.layoutElement(t.getElement(),n)}))}))},k.prototype.getColGroupParentElement=function(t){return t.parent.isGroup?this.getColGroupParentElement(t.parent):t.getElement()},k.prototype.layout=function(){var t=this;t.active&&(this.calcMargins(),t.table.rowManager.getDisplayRows().forEach((function(e){"row"===e.type&&t.layoutRow(e)})),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},k.prototype.layoutRow=function(t){var e=this,n=t.getElement();n.style.paddingLeft=this.leftMargin,this.leftColumns.forEach((function(n){var o=t.getCell(n);o&&e.layoutElement(o.getElement(),n)})),this.rightColumns.forEach((function(n){var o=t.getCell(n);o&&e.layoutElement(o.getElement(),n)}))},k.prototype.layoutElement=function(t,e){e.modules.frozen&&(t.style.position="absolute",t.style.left=e.modules.frozen.margin,t.classList.add("tabulator-frozen"),e.modules.frozen.edge&&t.classList.add("tabulator-frozen-"+e.modules.frozen.position))},k.prototype._calcSpace=function(t,e){for(var n=0,o=0;o<e;o++)t[o].visible&&(n+=t[o].getWidth());return n},h.prototype.registerModule("frozenColumns",k);var T=function(t){this.table=t,this.topElement=document.createElement("div"),this.rows=[],this.displayIndex=0};T.prototype.initialize=function(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling)},T.prototype.setDisplayIndex=function(t){this.displayIndex=t},T.prototype.getDisplayIndex=function(){return this.displayIndex},T.prototype.isFrozen=function(){return!!this.rows.length},T.prototype.getRows=function(t){var e=t.slice(0);return this.rows.forEach((function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)})),e},T.prototype.freezeRow=function(t){t.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(t.modules.frozen=!0,this.topElement.appendChild(t.getElement()),t.initialize(),t.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(t),this.table.rowManager.refreshActiveData("display"),this.styleRows())},T.prototype.unfreezeRow=function(t){var e=this.rows.indexOf(t);if(t.modules.frozen){t.modules.frozen=!1;var n=t.getElement();n.parentNode.removeChild(n),this.table.rowManager.adjustTableSize(),this.rows.splice(e,1),this.table.rowManager.refreshActiveData("display"),this.rows.length&&this.styleRows()}else console.warn("Freeze Error - Row is already unfrozen")},T.prototype.styleRows=function(t){var e=this;this.rows.forEach((function(t,n){e.table.rowManager.styleRow(t,n)}))},h.prototype.registerModule("frozenRows",T);var L=function(t){this._group=t,this.type="GroupComponent"};L.prototype.getKey=function(){return this._group.key},L.prototype.getField=function(){return this._group.field},L.prototype.getElement=function(){return this._group.element},L.prototype.getRows=function(){return this._group.getRows(!0)},L.prototype.getSubGroups=function(){return this._group.getSubGroups(!0)},L.prototype.getParentGroup=function(){return!!this._group.parent&&this._group.parent.getComponent()},L.prototype.getVisibility=function(){return console.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._group.visible},L.prototype.isVisible=function(){return this._group.visible},L.prototype.show=function(){this._group.show()},L.prototype.hide=function(){this._group.hide()},L.prototype.toggle=function(){this._group.toggleVisibility()},L.prototype._getSelf=function(){return this._group},L.prototype.getTable=function(){return this._group.groupManager.table};var D=function(t,e,n,o,i,r,a){this.groupManager=t,this.parent=e,this.key=o,this.level=n,this.field=i,this.hasSubGroups=n<t.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=r,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=a?a.visible:"undefined"!==typeof t.startOpen[n]?t.startOpen[n]:t.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()};D.prototype.wipe=function(){this.groupList.length?this.groupList.forEach((function(t){t.wipe()})):(this.element=!1,this.arrowElement=!1,this.elementContents=!1)},D.prototype.createElements=function(){var t=document.createElement("div");t.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(t),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)},D.prototype.createValueGroups=function(){var t=this,e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach((function(n){t._createGroup(n,e)}))},D.prototype.addBindings=function(){var t,e,n,o,i=this;i.groupManager.table.options.groupClick&&i.element.addEventListener("click",(function(t){i.groupManager.table.options.groupClick.call(i.groupManager.table,t,i.getComponent())})),i.groupManager.table.options.groupDblClick&&i.element.addEventListener("dblclick",(function(t){i.groupManager.table.options.groupDblClick.call(i.groupManager.table,t,i.getComponent())})),i.groupManager.table.options.groupContext&&i.element.addEventListener("contextmenu",(function(t){i.groupManager.table.options.groupContext.call(i.groupManager.table,t,i.getComponent())})),i.groupManager.table.options.groupContextMenu&&i.groupManager.table.modExists("menu")&&i.groupManager.table.modules.menu.initializeGroup.call(i.groupManager.table.modules.menu,i),i.groupManager.table.options.groupTap&&(n=!1,i.element.addEventListener("touchstart",(function(t){n=!0}),{passive:!0}),i.element.addEventListener("touchend",(function(t){n&&i.groupManager.table.options.groupTap(t,i.getComponent()),n=!1}))),i.groupManager.table.options.groupDblTap&&(t=null,i.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,i.groupManager.table.options.groupDblTap(e,i.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),i.groupManager.table.options.groupTapHold&&(e=null,i.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,n=!1,i.groupManager.table.options.groupTapHold(t,i.getComponent())}),1e3)}),{passive:!0}),i.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null}))),i.groupManager.table.options.groupToggleElement&&(o="arrow"==i.groupManager.table.options.groupToggleElement?i.arrowElement:i.element,o.addEventListener("click",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),i.toggleVisibility()})))},D.prototype._createGroup=function(t,e){var n=e+"_"+t,o=new D(this.groupManager,this,e,t,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[n]);this.groups[n]=o,this.groupList.push(o)},D.prototype._addRowToGroup=function(t){var e=this.level+1;if(this.hasSubGroups){var n=this.groupManager.groupIDLookups[e].func(t.getData()),o=e+"_"+n;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[o]&&this.groups[o].addRow(t):(this.groups[o]||this._createGroup(n,e),this.groups[o].addRow(t))}},D.prototype._addRow=function(t){this.rows.push(t),t.modules.group=this},D.prototype.insertRow=function(t,e,n){var o=this.conformRowData({});t.updateData(o);var i=this.rows.indexOf(e);i>-1?n?this.rows.splice(i+1,0,t):this.rows.splice(i,0,t):n?this.rows.push(t):this.rows.unshift(t),t.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)},D.prototype.scrollHeader=function(t){this.arrowElement.style.marginLeft=t,this.groupList.forEach((function(e){e.scrollHeader(t)}))},D.prototype.getRowIndex=function(t){},D.prototype.conformRowData=function(t){return this.field?t[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(t=this.parent.conformRowData(t)),t},D.prototype.removeRow=function(t){var e=this.rows.indexOf(t),n=t.getElement();e>-1&&this.rows.splice(e,1),this.groupManager.table.options.groupValues||this.rows.length?(n.parentNode&&n.parentNode.removeChild(n),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))},D.prototype.removeGroup=function(t){var e,n=t.level+"_"+t.key;this.groups[n]&&(delete this.groups[n],e=this.groupList.indexOf(t),e>-1&&this.groupList.splice(e,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))},D.prototype.getHeadersAndRows=function(t){var e=[];return e.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach((function(n){e=e.concat(n.getHeadersAndRows(t))})):(!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):this.groupList.length||"table"==this.groupManager.table.options.columnCalcs||this.groupManager.table.modExists("columnCalcs")&&(!t&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top))),!t&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom)))),e},D.prototype.getData=function(t,e){var n=[];return this._visSet(),(!t||t&&this.visible)&&this.rows.forEach((function(t){n.push(t.getData(e||"data"))})),n},D.prototype.getRowCount=function(){var t=0;return this.groupList.length?this.groupList.forEach((function(e){t+=e.getRowCount()})):t=this.rows.length,t},D.prototype.toggleVisibility=function(){this.visible?this.hide():this.show()},D.prototype.hide=function(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach((function(t){var e=t.getHeadersAndRows();e.forEach((function(t){t.detachElement()}))})):this.rows.forEach((function(t){var e=t.getElement();e.parentNode.removeChild(e)})),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!1)},D.prototype.show=function(){var t=this;if(t.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var e=t.getElement();this.groupList.length?this.groupList.forEach((function(t){var n=t.getHeadersAndRows();n.forEach((function(t){var n=t.getElement();e.parentNode.insertBefore(n,e.nextSibling),t.initialize(),e=n}))})):t.rows.forEach((function(t){var n=t.getElement();e.parentNode.insertBefore(n,e.nextSibling),t.initialize(),e=n})),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!0)},D.prototype._visSet=function(){var t=[];"function"==typeof this.visible&&(this.rows.forEach((function(e){t.push(e.getData())})),this.visible=this.visible(this.key,this.getRowCount(),t,this.getComponent()))},D.prototype.getRowGroup=function(t){var e=!1;return this.groupList.length?this.groupList.forEach((function(n){var o=n.getRowGroup(t);o&&(e=o)})):this.rows.find((function(e){return e===t}))&&(e=this),e},D.prototype.getSubGroups=function(t){var e=[];return this.groupList.forEach((function(n){e.push(t?n.getComponent():n)})),e},D.prototype.getRows=function(t){var e=[];return this.rows.forEach((function(n){e.push(t?n.getComponent():n)})),e},D.prototype.generateGroupHeaderContents=function(){var t=[];this.rows.forEach((function(e){t.push(e.getData())})),this.elementContents=this.generator(this.key,this.getRowCount(),t,this.getComponent());while(this.element.firstChild)this.element.removeChild(this.element.firstChild);"string"===typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)},D.prototype.getElement=function(){this.addBindingsd=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var t=0;t<this.element.childNodes.length;++t)this.element.childNodes[t].parentNode.removeChild(this.element.childNodes[t]);return this.generateGroupHeaderContents(),this.element},D.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},D.prototype.normalizeHeight=function(){this.setHeight(this.element.clientHeight)},D.prototype.initialize=function(t){this.initialized&&!t||(this.normalizeHeight(),this.initialized=!0)},D.prototype.reinitialize=function(){this.initialized=!1,this.height=0,h.prototype.helpers.elVisible(this.element)&&this.initialize(!0)},D.prototype.setHeight=function(t){this.height!=t&&(this.height=t,this.outerHeight=this.element.offsetHeight)},D.prototype.getHeight=function(){return this.outerHeight},D.prototype.getGroup=function(){return this},D.prototype.reinitializeHeight=function(){},D.prototype.calcHeight=function(){},D.prototype.setCellHeight=function(){},D.prototype.clearCellHeight=function(){},D.prototype.getComponent=function(){return this.component||(this.component=new L(this)),this.component};var F=function(t){this.table=t,this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0};F.prototype.initialize=function(){var t=this,e=t.table.options.groupBy,n=t.table.options.groupStartOpen,o=t.table.options.groupHeader;if(this.allowedValues=t.table.options.groupValues,Array.isArray(e)&&Array.isArray(o)&&e.length>o.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),t.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],t.table.modules.localize.bind("groups|item",(function(e,n){t.headerGenerator[0]=function(t,o,i){return("undefined"===typeof t?"":t)+"<span>("+o+" "+(1===o?e:n.groups.items)+")</span>"}})),this.groupIDLookups=[],Array.isArray(e)||e)this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs){var i=this.table.columnManager.getRealColumns();i.forEach((function(e){e.definition.topCalc&&t.table.modules.columnCalcs.initializeTopRow(),e.definition.bottomCalc&&t.table.modules.columnCalcs.initializeBottomRow()}))}Array.isArray(e)||(e=[e]),e.forEach((function(e,n){var o,i;"function"==typeof e?o=e:(i=t.table.columnManager.getColumnByField(e),o=i?function(t){return i.getFieldValue(t)}:function(t){return t[e]}),t.groupIDLookups.push({field:"function"!==typeof e&&e,func:o,values:!!t.allowedValues&&t.allowedValues[n]})})),n&&(Array.isArray(n)||(n=[n]),n.forEach((function(t){t="function"==typeof t?t:function(){return!0}})),t.startOpen=n),o&&(t.headerGenerator=Array.isArray(o)?o:[o]),this.initialized=!0},F.prototype.setDisplayIndex=function(t){this.displayIndex=t},F.prototype.getDisplayIndex=function(){return this.displayIndex},F.prototype.getRows=function(t){return this.groupIDLookups.length?(this.table.options.dataGrouping.call(this.table),this.generateGroups(t),this.table.options.dataGrouped&&this.table.options.dataGrouped.call(this.table,this.getGroups(!0)),this.updateGroupRows()):t.slice(0)},F.prototype.getGroups=function(t){var e=[];return this.groupList.forEach((function(n){e.push(t?n.getComponent():n)})),e},F.prototype.getChildGroups=function(t){var e=this,n=[];return t||(t=this),t.groupList.forEach((function(t){t.groupList.length?n=n.concat(e.getChildGroups(t)):n.push(t)})),n},F.prototype.wipe=function(){this.groupList.forEach((function(t){t.wipe()}))},F.prototype.pullGroupListData=function(t){var e=this,n=[];return t.forEach((function(t){var o={level:0,rowCount:0,headerContent:""},i=[];t.hasSubGroups?(i=e.pullGroupListData(t.groupList),o.level=t.level,o.rowCount=i.length-t.groupList.length,o.headerContent=t.generator(t.key,o.rowCount,t.rows,t),n.push(o),n=n.concat(i)):(o.level=t.level,o.headerContent=t.generator(t.key,t.rows.length,t.rows,t),o.rowCount=t.getRows().length,n.push(o),t.getRows().forEach((function(t){n.push(t.getData("data"))})))})),n},F.prototype.getGroupedData=function(){return this.pullGroupListData(this.groupList)},F.prototype.getRowGroup=function(t){var e=!1;return this.groupList.forEach((function(n){var o=n.getRowGroup(t);o&&(e=o)})),e},F.prototype.countGroups=function(){return this.groupList.length},F.prototype.generateGroups=function(t){var e=this,n=e.groups;e.groups={},e.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach((function(t){e.createGroup(t,0,n)})),t.forEach((function(t){e.assignRowToExistingGroup(t,n)}))):t.forEach((function(t){e.assignRowToGroup(t,n)}))},F.prototype.createGroup=function(t,e,n){var o,i=e+"_"+t;n=n||[],o=new D(this,!1,e,t,this.groupIDLookups[0].field,this.headerGenerator[0],n[i]),this.groups[i]=o,this.groupList.push(o)},F.prototype.assignRowToExistingGroup=function(t,e){var n=this.groupIDLookups[0].func(t.getData()),o="0_"+n;this.groups[o]&&this.groups[o].addRow(t)},F.prototype.assignRowToGroup=function(t,e){var n=this.groupIDLookups[0].func(t.getData()),o=!this.groups["0_"+n];return o&&this.createGroup(n,0,e),this.groups["0_"+n].addRow(t),!o},F.prototype.updateGroupRows=function(t){var e=this,n=[];if(e.groupList.forEach((function(t){n=n.concat(t.getHeadersAndRows())})),t){var o=e.table.rowManager.setDisplayRows(n,this.getDisplayIndex());!0!==o&&this.setDisplayIndex(o),e.table.rowManager.refreshActiveData("group",!0,!0)}return n},F.prototype.scrollHeaders=function(t){t+="px",this.groupList.forEach((function(e){e.scrollHeader(t)}))},F.prototype.removeGroup=function(t){var e,n=t.level+"_"+t.key;this.groups[n]&&(delete this.groups[n],e=this.groupList.indexOf(t),e>-1&&this.groupList.splice(e,1))},h.prototype.registerModule("groupRows",F);var A=function(t){this.table=t,this.history=[],this.index=-1};A.prototype.clear=function(){this.history=[],this.index=-1},A.prototype.action=function(t,e,n){this.history=this.history.slice(0,this.index+1),this.history.push({type:t,component:e,data:n}),this.index++},A.prototype.getHistoryUndoSize=function(){return this.index+1},A.prototype.getHistoryRedoSize=function(){return this.history.length-(this.index+1)},A.prototype.undo=function(){if(this.index>-1){var t=this.history[this.index];return this.undoers[t.type].call(this,t),this.index--,this.table.options.historyUndo.call(this.table,t.type,t.component.getComponent(),t.data),!0}return console.warn("History Undo Error - No more history to undo"),!1},A.prototype.redo=function(){if(this.history.length-1>this.index){this.index++;var t=this.history[this.index];return this.redoers[t.type].call(this,t),this.table.options.historyRedo.call(this.table,t.type,t.component.getComponent(),t.data),!0}return console.warn("History Redo Error - No more history to redo"),!1},A.prototype.undoers={cellEdit:function(t){t.component.setValueProcessData(t.data.oldValue)},rowAdd:function(t){t.component.deleteActual()},rowDelete:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e)},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.posFrom],!t.data.after),this.table.rowManager.redraw()}},A.prototype.redoers={cellEdit:function(t){t.component.setValueProcessData(t.data.newValue)},rowAdd:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e)},rowDelete:function(t){t.component.deleteActual()},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.posTo],t.data.after),this.table.rowManager.redraw()}},A.prototype._rebindRow=function(t,e){this.history.forEach((function(n){if(n.component instanceof l)n.component===t&&(n.component=e);else if(n.component instanceof u&&n.component.row===t){var o=n.component.column.getField();o&&(n.component=e.getCell(o))}}))},h.prototype.registerModule("history",A);var P=function(t){this.table=t,this.fieldIndex=[],this.hasIndex=!1};P.prototype.parseTable=function(){var t=this,e=t.table.element,n=t.table.options,o=(n.columns,e.getElementsByTagName("th")),i=e.getElementsByTagName("tbody")[0],r=[];t.hasIndex=!1,t.table.options.htmlImporting.call(this.table),i=i?i.getElementsByTagName("tr"):[],t._extractOptions(e,n),o.length?t._extractHeaders(o,i):t._generateBlankHeaders(o,i);for(var a=0;a<i.length;a++){var l=i[a],c=l.getElementsByTagName("td"),u={};t.hasIndex||(u[n.index]=a);for(var d=0;d<c.length;d++){var h=c[d];"undefined"!==typeof this.fieldIndex[d]&&(u[this.fieldIndex[d]]=h.innerHTML)}r.push(u)}var p=document.createElement("div"),f=e.attributes;for(var d in f)"object"==s(f[d])&&p.setAttribute(f[d].name,f[d].value);e.parentNode.replaceChild(p,e),n.data=r,t.table.options.htmlImported.call(this.table),this.table.element=p},P.prototype._extractOptions=function(t,e,n){var o=t.attributes,i=n?Object.assign([],n):Object.keys(e),r={};for(var a in i.forEach((function(t){r[t.toLowerCase()]=t})),o){var l,c=o[a];c&&"object"==("undefined"===typeof c?"undefined":s(c))&&c.name&&0===c.name.indexOf("tabulator-")&&(l=c.name.replace("tabulator-",""),"undefined"!==typeof r[l]&&(e[r[l]]=this._attribValue(c.value)))}},P.prototype._attribValue=function(t){return"true"===t||"false"!==t&&t},P.prototype._findCol=function(t){var e=this.table.options.columns.find((function(e){return e.title===t}));return e||!1},P.prototype._extractHeaders=function(t,e){for(var n=0;n<t.length;n++){var i,r=t[n],a=!1,s=this._findCol(r.textContent);s?a=!0:s={title:r.textContent.trim()},s.field||(s.field=r.textContent.trim().toLowerCase().replace(" ","_")),i=r.getAttribute("width"),i&&!s.width&&(s.width=i),r.attributes,this._extractOptions(r,s,o.prototype.defaultOptionList),this.fieldIndex[n]=s.field,s.field==this.table.options.index&&(this.hasIndex=!0),a||this.table.options.columns.push(s)}},P.prototype._generateBlankHeaders=function(t,e){for(var n=0;n<t.length;n++){var o=t[n],i={title:"",field:"col"+n};this.fieldIndex[n]=i.field;var r=o.getAttribute("width");r&&(i.width=r),this.table.options.columns.push(i)}},h.prototype.registerModule("htmlTableImport",P);var z=function(t){this.table=t,this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1};z.prototype.initialize=function(){var t=this.table.options.keybindings,e={};if(this.watchKeys={},this.pressedKeys=[],!1!==t){for(var n in this.bindings)e[n]=this.bindings[n];if(Object.keys(t).length)for(var o in t)e[o]=t[o];this.mapBindings(e),this.bindEvents()}},z.prototype.mapBindings=function(t){var e=this,n=this,o=function(o){e.actions[o]?t[o]&&("object"!==s(t[o])&&(t[o]=[t[o]]),t[o].forEach((function(t){n.mapBinding(o,t)}))):console.warn("Key Binding Error - no such action:",o)};for(var i in t)o(i)},z.prototype.mapBinding=function(t,e){var n=this,o={action:this.actions[t],keys:[],ctrl:!1,shift:!1,meta:!1},i=e.toString().toLowerCase().split(" ").join("").split("+");i.forEach((function(t){switch(t){case"ctrl":o.ctrl=!0;break;case"shift":o.shift=!0;break;case"meta":o.meta=!0;break;default:t=parseInt(t),o.keys.push(t),n.watchKeys[t]||(n.watchKeys[t]=[]),n.watchKeys[t].push(o)}}))},z.prototype.bindEvents=function(){var t=this;this.keyupBinding=function(e){var n=e.keyCode,o=t.watchKeys[n];o&&(t.pressedKeys.push(n),o.forEach((function(n){t.checkBinding(e,n)})))},this.keydownBinding=function(e){var n=e.keyCode,o=t.watchKeys[n];if(o){var i=t.pressedKeys.indexOf(n);i>-1&&t.pressedKeys.splice(i,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)},z.prototype.clearBindings=function(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)},z.prototype.checkBinding=function(t,e){var n=this,o=!0;return t.ctrlKey==e.ctrl&&t.shiftKey==e.shift&&t.metaKey==e.meta&&(e.keys.forEach((function(t){var e=n.pressedKeys.indexOf(t);-1==e&&(o=!1)})),o&&e.action.call(n,t),!0)},z.prototype.bindings={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},z.prototype.actions={keyBlock:function(t){t.stopPropagation(),t.preventDefault()},scrollPageUp:function(t){var e=this.table.rowManager,n=e.scrollTop-e.height;e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(n>=0?e.element.scrollTop=n:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(t){var e=this.table.rowManager,n=e.scrollTop+e.height,o=e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(n<=o?e.element.scrollTop=n:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e&&(t.preventDefault(),e.nav().prev()))},navNext:function(t){var e,n=!1,o=this.table.options.tabEndNewRow;this.table.modExists("edit")&&(n=this.table.modules.edit.currentCell,n&&(t.preventDefault(),e=n.nav(),e.next()||o&&(n.getElement().firstChild.blur(),o=!0===o?this.table.addRow({}):"function"==typeof o?this.table.addRow(o(n.row.getComponent())):this.table.addRow(Object.assign({},o)),o.then((function(){setTimeout((function(){e.next()}))})))))},navLeft:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e&&(t.preventDefault(),e.nav().left()))},navRight:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e&&(t.preventDefault(),e.nav().right()))},navUp:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e&&(t.preventDefault(),e.nav().up()))},navDown:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e&&(t.preventDefault(),e.nav().down()))},undo:function(t){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(t.preventDefault(),this.table.modules.history.undo()))},redo:function(t){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(t.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(t){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}},h.prototype.registerModule("keybindings",z);var N=function(t){this.table=t,this.menuEl=!1,this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1};N.prototype.initializeColumnHeader=function(t){var e,n=this;t.definition.headerContextMenu&&t.getElement().addEventListener("contextmenu",(function(e){var o="function"==typeof t.definition.headerContextMenu?t.definition.headerContextMenu(t.getComponent()):t.definition.headerContextMenu;e.preventDefault(),n.loadMenu(e,t,o)})),t.definition.headerMenu&&(e=document.createElement("span"),e.classList.add("tabulator-header-menu-button"),e.innerHTML="&vellip;",e.addEventListener("click",(function(e){var o="function"==typeof t.definition.headerMenu?t.definition.headerMenu(t.getComponent()):t.definition.headerMenu;e.stopPropagation(),e.preventDefault(),n.loadMenu(e,t,o)})),t.titleElement.insertBefore(e,t.titleElement.firstChild))},N.prototype.initializeCell=function(t){var e=this;t.getElement().addEventListener("contextmenu",(function(n){var o="function"==typeof t.column.definition.contextMenu?t.column.definition.contextMenu(t.getComponent()):t.column.definition.contextMenu;o&&n.stopImmediatePropagation(),e.loadMenu(n,t,o)}))},N.prototype.initializeRow=function(t){var e=this;t.getElement().addEventListener("contextmenu",(function(n){var o="function"==typeof e.table.options.rowContextMenu?e.table.options.rowContextMenu(t.getComponent()):e.table.options.rowContextMenu;e.loadMenu(n,t,o)}))},N.prototype.initializeGroup=function(t){var e=this;t.getElement().addEventListener("contextmenu",(function(n){var o="function"==typeof e.table.options.groupContextMenu?e.table.options.groupContextMenu(t.getComponent()):e.table.options.groupContextMenu;e.loadMenu(n,t,o)}))},N.prototype.loadMenu=function(t,e,n){var o=this,i=Math.max(document.body.offsetHeight,window.innerHeight);if(t.preventDefault(),n&&n.length){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout((function(){o.nestedMenuBlock=!1}),100);this.hideMenu(),this.menuEl=document.createElement("div"),this.menuEl.classList.add("tabulator-menu"),n.forEach((function(t){var n=document.createElement("div"),i=t.label,r=t.disabled;t.separator?n.classList.add("tabulator-menu-separator"):(n.classList.add("tabulator-menu-item"),"function"==typeof i&&(i=i(e.getComponent())),i instanceof Node?n.appendChild(i):n.innerHTML=i,"function"==typeof r&&(r=r(e.getComponent())),r?(n.classList.add("tabulator-menu-item-disabled"),n.addEventListener("click",(function(t){t.stopPropagation()}))):n.addEventListener("click",(function(n){o.hideMenu(),t.action(n,e.getComponent())}))),o.menuEl.appendChild(n)})),this.menuEl.style.top=t.pageY+"px",this.menuEl.style.left=t.pageX+"px",document.body.addEventListener("click",this.blurEvent),this.table.rowManager.element.addEventListener("scroll",this.blurEvent),setTimeout((function(){document.body.addEventListener("contextmenu",o.blurEvent)}),100),document.body.addEventListener("keydown",this.escEvent),document.body.appendChild(this.menuEl),t.pageX+this.menuEl.offsetWidth>=document.body.offsetWidth&&(this.menuEl.style.left="",this.menuEl.style.right=document.body.offsetWidth-t.pageX+"px"),t.pageY+this.menuEl.offsetHeight>=i&&(this.menuEl.style.top="",this.menuEl.style.bottom=i-t.pageY+"px")}},N.prototype.isOpen=function(){return!!this.menuEl.parentNode},N.prototype.escMenu=function(t){27==t.keyCode&&this.hideMenu()},N.prototype.hideMenu=function(){this.menuEl.parentNode&&this.menuEl.parentNode.removeChild(this.menuEl),this.escEvent&&document.body.removeEventListener("keydown",this.escEvent),this.blurEvent&&(document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent))},N.prototype.menus={},h.prototype.registerModule("menu",N);var H=function(t){this.table=t,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this)};H.prototype.createPlaceholderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.classList.add("tabulator-col-placeholder"),t},H.prototype.initializeColumn=function(t){var e,n=this,o={};t.modules.frozen||(e=t.getElement(),o.mousemove=function(o){t.parent===n.moving.parent&&((n.touchMove?o.touches[0].pageX:o.pageX)-h.prototype.helpers.elOffset(e).left+n.table.columnManager.element.scrollLeft>t.getWidth()/2?n.toCol===t&&n.toColAfter||(e.parentNode.insertBefore(n.placeholderElement,e.nextSibling),n.moveColumn(t,!0)):(n.toCol!==t||n.toColAfter)&&(e.parentNode.insertBefore(n.placeholderElement,e),n.moveColumn(t,!1)))}.bind(n),e.addEventListener("mousedown",(function(e){n.touchMove=!1,1===e.which&&(n.checkTimeout=setTimeout((function(){n.startMove(e,t)}),n.checkPeriod))})),e.addEventListener("mouseup",(function(t){1===t.which&&n.checkTimeout&&clearTimeout(n.checkTimeout)})),n.bindTouchEvents(t)),t.modules.moveColumn=o},H.prototype.bindTouchEvents=function(t){var e,n,o,i,r,a,s=this,l=t.getElement(),c=!1;l.addEventListener("touchstart",(function(l){s.checkTimeout=setTimeout((function(){s.touchMove=!0,t,e=t.nextColumn(),o=e?e.getWidth()/2:0,n=t.prevColumn(),i=n?n.getWidth()/2:0,r=0,a=0,c=!1,s.startMove(l,t)}),s.checkPeriod)}),{passive:!0}),l.addEventListener("touchmove",(function(l){var u,d;s.moving&&(s.moveHover(l),c||(c=l.touches[0].pageX),u=l.touches[0].pageX-c,u>0?e&&u-r>o&&(d=e,d!==t&&(c=l.touches[0].pageX,d.getElement().parentNode.insertBefore(s.placeholderElement,d.getElement().nextSibling),s.moveColumn(d,!0))):n&&-u-a>i&&(d=n,d!==t&&(c=l.touches[0].pageX,d.getElement().parentNode.insertBefore(s.placeholderElement,d.getElement()),s.moveColumn(d,!1))),d&&(d,e=d.nextColumn(),r=o,o=e?e.getWidth()/2:0,n=d.prevColumn(),a=i,i=n?n.getWidth()/2:0))}),{passive:!0}),l.addEventListener("touchend",(function(t){s.checkTimeout&&clearTimeout(s.checkTimeout),s.moving&&s.endMove(t)}))},H.prototype.startMove=function(t,e){var n=e.getElement();this.moving=e,this.startX=(this.touchMove?t.touches[0].pageX:t.pageX)-h.prototype.helpers.elOffset(n).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom="0",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(t)},H.prototype._bindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach((function(t){t.modules.moveColumn.mousemove&&t.getElement().addEventListener("mousemove",t.modules.moveColumn.mousemove)}))},H.prototype._unbindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach((function(t){t.modules.moveColumn.mousemove&&t.getElement().removeEventListener("mousemove",t.modules.moveColumn.mousemove)}))},H.prototype.moveColumn=function(t,e){var n=this.moving.getCells();this.toCol=t,this.toColAfter=e,e?t.getCells().forEach((function(t,e){var o=t.getElement();o.parentNode.insertBefore(n[e].getElement(),o.nextSibling)})):t.getCells().forEach((function(t,e){var o=t.getElement();o.parentNode.insertBefore(n[e].getElement(),o)}))},H.prototype.endMove=function(t){(1===t.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))},H.prototype.moveHover=function(t){var e,n=this,o=n.table.columnManager.getElement(),i=o.scrollLeft,r=(n.touchMove?t.touches[0].pageX:t.pageX)-h.prototype.helpers.elOffset(o).left+i;n.hoverElement.style.left=r-n.startX+"px",r-i<n.autoScrollMargin&&(n.autoScrollTimeout||(n.autoScrollTimeout=setTimeout((function(){e=Math.max(0,i-5),n.table.rowManager.getElement().scrollLeft=e,n.autoScrollTimeout=!1}),1))),i+o.clientWidth-r<n.autoScrollMargin&&(n.autoScrollTimeout||(n.autoScrollTimeout=setTimeout((function(){e=Math.min(o.clientWidth,i+5),n.table.rowManager.getElement().scrollLeft=e,n.autoScrollTimeout=!1}),1)))},h.prototype.registerModule("moveColumn",H);var O=function(t){this.table=t,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1};O.prototype.createPlaceholderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-row"),t.classList.add("tabulator-row-placeholder"),t},O.prototype.initialize=function(t){this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements},O.prototype.setHandle=function(t){this.hasHandle=t},O.prototype.initializeGroupHeader=function(t){var e=this,n={};n.mouseup=function(t){e.tableRowDrop(t,row)}.bind(e),n.mousemove=function(n){if(n.pageY-h.prototype.helpers.elOffset(t.element).top+e.table.rowManager.element.scrollTop>t.getHeight()/2){if(e.toRow!==t||!e.toRowAfter){var o=t.getElement();o.parentNode.insertBefore(e.placeholderElement,o.nextSibling),e.moveRow(t,!0)}}else if(e.toRow!==t||e.toRowAfter){o=t.getElement();o.previousSibling&&(o.parentNode.insertBefore(e.placeholderElement,o),e.moveRow(t,!1))}}.bind(e),t.modules.moveRow=n},O.prototype.initializeRow=function(t){var e,n=this,o={};o.mouseup=function(e){n.tableRowDrop(e,t)}.bind(n),o.mousemove=function(e){if(e.pageY-h.prototype.helpers.elOffset(t.element).top+n.table.rowManager.element.scrollTop>t.getHeight()/2){if(n.toRow!==t||!n.toRowAfter){var o=t.getElement();o.parentNode.insertBefore(n.placeholderElement,o.nextSibling),n.moveRow(t,!0)}}else if(n.toRow!==t||n.toRowAfter){o=t.getElement();o.parentNode.insertBefore(n.placeholderElement,o),n.moveRow(t,!1)}}.bind(n),this.hasHandle||(e=t.getElement(),e.addEventListener("mousedown",(function(e){1===e.which&&(n.checkTimeout=setTimeout((function(){n.startMove(e,t)}),n.checkPeriod))})),e.addEventListener("mouseup",(function(t){1===t.which&&n.checkTimeout&&clearTimeout(n.checkTimeout)})),this.bindTouchEvents(t,t.getElement())),t.modules.moveRow=o},O.prototype.initializeCell=function(t){var e=this,n=t.getElement();n.addEventListener("mousedown",(function(n){1===n.which&&(e.checkTimeout=setTimeout((function(){e.startMove(n,t.row)}),e.checkPeriod))})),n.addEventListener("mouseup",(function(t){1===t.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)})),this.bindTouchEvents(t.row,t.getElement())},O.prototype.bindTouchEvents=function(t,e){var n,o,i,r,a,s,l=this,c=!1;e.addEventListener("touchstart",(function(e){l.checkTimeout=setTimeout((function(){l.touchMove=!0,t,n=t.nextRow(),i=n?n.getHeight()/2:0,o=t.prevRow(),r=o?o.getHeight()/2:0,a=0,s=0,c=!1,l.startMove(e,t)}),l.checkPeriod)}),{passive:!0}),this.moving,this.toRow,this.toRowAfter,e.addEventListener("touchmove",(function(e){var u,d;l.moving&&(e.preventDefault(),l.moveHover(e),c||(c=e.touches[0].pageY),u=e.touches[0].pageY-c,u>0?n&&u-a>i&&(d=n,d!==t&&(c=e.touches[0].pageY,d.getElement().parentNode.insertBefore(l.placeholderElement,d.getElement().nextSibling),l.moveRow(d,!0))):o&&-u-s>r&&(d=o,d!==t&&(c=e.touches[0].pageY,d.getElement().parentNode.insertBefore(l.placeholderElement,d.getElement()),l.moveRow(d,!1))),d&&(d,n=d.nextRow(),a=i,i=n?n.getHeight()/2:0,o=d.prevRow(),s=r,r=o?o.getHeight()/2:0))})),e.addEventListener("touchend",(function(t){l.checkTimeout&&clearTimeout(l.checkTimeout),l.moving&&(l.endMove(t),l.touchMove=!1)}))},O.prototype._bindMouseMove=function(){var t=this;t.table.rowManager.getDisplayRows().forEach((function(t){"row"!==t.type&&"group"!==t.type||!t.modules.moveRow.mousemove||t.getElement().addEventListener("mousemove",t.modules.moveRow.mousemove)}))},O.prototype._unbindMouseMove=function(){var t=this;t.table.rowManager.getDisplayRows().forEach((function(t){"row"!==t.type&&"group"!==t.type||!t.modules.moveRow.mousemove||t.getElement().removeEventListener("mousemove",t.modules.moveRow.mousemove)}))},O.prototype.startMove=function(t,e){var n=e.getElement();this.setStartPosition(t,e),this.moving=e,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(e)):(n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n)),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(t)},O.prototype.setStartPosition=function(t,e){var n,o,i=this.touchMove?t.touches[0].pageX:t.pageX,r=this.touchMove?t.touches[0].pageY:t.pageY;n=e.getElement(),this.connection?(o=n.getBoundingClientRect(),this.startX=o.left-i+window.pageXOffset,this.startY=o.top-r+window.pageYOffset):this.startY=r-n.getBoundingClientRect().top},O.prototype.endMove=function(t){t&&1!==t.which&&!this.touchMove||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))},O.prototype.moveRow=function(t,e){this.toRow=t,this.toRowAfter=e},O.prototype.moveHover=function(t){this.connection?this.moveHoverConnections.call(this,t):this.moveHoverTable.call(this,t)},O.prototype.moveHoverTable=function(t){var e=this.table.rowManager.getElement(),n=e.scrollTop,o=(this.touchMove?t.touches[0].pageY:t.pageY)-e.getBoundingClientRect().top+n;this.hoverElement.style.top=o-this.startY+"px"},O.prototype.moveHoverConnections=function(t){this.hoverElement.style.left=this.startX+(this.touchMove?t.touches[0].pageX:t.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?t.touches[0].pageY:t.pageY)+"px"},O.prototype.elementRowDrop=function(t,e,n){this.table.options.movableRowsElementDrop&&this.table.options.movableRowsElementDrop(t,e,!!n&&n.getComponent())},O.prototype.connectToTables=function(t){var e,n=this;this.connectionSelectorsTables&&(e=this.table.modules.comms.getConnections(this.connectionSelectorsTables),this.table.options.movableRowsSendingStart.call(this.table,e),this.table.modules.comms.send(this.connectionSelectorsTables,"moveRow","connect",{row:t})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach((function(t){"string"===typeof t?n.connectionElements=n.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(t))):n.connectionElements.push(t)})),this.connectionElements.forEach((function(t){var e=function(e){n.elementRowDrop(e,t,n.moving)};t.addEventListener("mouseup",e),t.tabulatorElementDropEvent=e,t.classList.add("tabulator-movingrow-receiving")})))},O.prototype.disconnectFromTables=function(){var t;this.connectionSelectorsTables&&(t=this.table.modules.comms.getConnections(this.connectionSelectorsTables),this.table.options.movableRowsSendingStop.call(this.table,t),this.table.modules.comms.send(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach((function(t){t.classList.remove("tabulator-movingrow-receiving"),t.removeEventListener("mouseup",t.tabulatorElementDropEvent),delete t.tabulatorElementDropEvent}))},O.prototype.connect=function(t,e){var n=this;return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=t,this.connectedRow=e,this.table.element.classList.add("tabulator-movingrow-receiving"),n.table.rowManager.getDisplayRows().forEach((function(t){"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().addEventListener("mouseup",t.modules.moveRow.mouseup)})),n.tableRowDropEvent=n.tableRowDrop.bind(n),n.table.element.addEventListener("mouseup",n.tableRowDropEvent),this.table.options.movableRowsReceivingStart.call(this.table,e,t),!0)},O.prototype.disconnect=function(t){var e=this;t===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),e.table.rowManager.getDisplayRows().forEach((function(t){"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().removeEventListener("mouseup",t.modules.moveRow.mouseup)})),e.table.element.removeEventListener("mouseup",e.tableRowDropEvent),this.table.options.movableRowsReceivingStop.call(this.table,t)):console.warn("Move Row Error - trying to disconnect from non connected table")},O.prototype.dropComplete=function(t,e,n){var o=!1;if(n){switch(s(this.table.options.movableRowsSender)){case"string":o=this.senders[this.table.options.movableRowsSender];break;case"function":o=this.table.options.movableRowsSender;break}o?o.call(this,this.moving.getComponent(),e?e.getComponent():void 0,t):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.table.options.movableRowsSent.call(this.table,this.moving.getComponent(),e?e.getComponent():void 0,t)}else this.table.options.movableRowsSentFailed.call(this.table,this.moving.getComponent(),e?e.getComponent():void 0,t);this.endMove()},O.prototype.tableRowDrop=function(t,e){var n=!1,o=!1;switch(console.trace("drop"),t.stopImmediatePropagation(),s(this.table.options.movableRowsReceiver)){case"string":n=this.receivers[this.table.options.movableRowsReceiver];break;case"function":n=this.table.options.movableRowsReceiver;break}n?o=n.call(this,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),o?this.table.options.movableRowsReceived.call(this.table,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):this.table.options.movableRowsReceivedFailed.call(this.table,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable),this.table.modules.comms.send(this.connectedTable,"moveRow","dropcomplete",{row:e,success:o})},O.prototype.receivers={insert:function(t,e,n){return this.table.addRow(t.getData(),void 0,e),!0},add:function(t,e,n){return this.table.addRow(t.getData()),!0},update:function(t,e,n){return!!e&&(e.update(t.getData()),!0)},replace:function(t,e,n){return!!e&&(this.table.addRow(t.getData(),void 0,e),e.delete(),!0)}},O.prototype.senders={delete:function(t,e,n){t.delete()}},O.prototype.commsReceived=function(t,e,n){switch(e){case"connect":return this.connect(t,n.row);case"disconnect":return this.disconnect(t);case"dropcomplete":return this.dropComplete(t,n.row,n.success)}},h.prototype.registerModule("moveRow",O);var I=function(t){this.table=t,this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0};I.prototype.initializeColumn=function(t){var e=this,n=!1,o={};this.allowedTypes.forEach((function(i){var r,a="mutator"+(i.charAt(0).toUpperCase()+i.slice(1));t.definition[a]&&(r=e.lookupMutator(t.definition[a]),r&&(n=!0,o[a]={mutator:r,params:t.definition[a+"Params"]||{}}))})),n&&(t.modules.mutate=o)},I.prototype.lookupMutator=function(t){var e=!1;switch("undefined"===typeof t?"undefined":s(t)){case"string":this.mutators[t]?e=this.mutators[t]:console.warn("Mutator Error - No such mutator found, ignoring: ",t);break;case"function":e=t;break}return e},I.prototype.transformRow=function(t,e,n){var o,i=this,r="mutator"+(e.charAt(0).toUpperCase()+e.slice(1));return this.enabled&&i.table.columnManager.traverse((function(i){var a,s,l;i.modules.mutate&&(a=i.modules.mutate[r]||i.modules.mutate.mutator||!1,a&&(o=i.getFieldValue("undefined"!==typeof n?n:t),"data"!=e&&"undefined"===typeof o||(l=i.getComponent(),s="function"===typeof a.params?a.params(o,t,e,l):a.params,i.setFieldValue(t,a.mutator(o,t,e,s,l)))))})),t},I.prototype.transformCell=function(t,e){var n=t.column.modules.mutate.mutatorEdit||t.column.modules.mutate.mutator||!1,o={};return n?(o=Object.assign(o,t.row.getData()),t.column.setFieldValue(o,e),n.mutator(e,o,"edit",n.params,t.getComponent())):e},I.prototype.enable=function(){this.enabled=!0},I.prototype.disable=function(){this.enabled=!1},I.prototype.mutators={},h.prototype.registerModule("mutator",I);var V=function(t){this.table=t,this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.displayIndex=0,this.initialLoad=!0,this.pageSizes=[],this.dataReceivedNames={},this.dataSentNames={},this.createElements()};V.prototype.createElements=function(){var t;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),t=document.createElement("button"),t.classList.add("tabulator-page"),t.setAttribute("type","button"),t.setAttribute("role","button"),t.setAttribute("aria-label",""),t.setAttribute("title",""),this.firstBut=t.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=t.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=t.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=t.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))},V.prototype.generatePageSizeSelectList=function(){var t=this,e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){e=[];for(var n=1;n<5;n++)e.push(this.size*n);this.pageSizes=e}else e=this.pageSizes;while(this.pageSizeSelect.firstChild)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach((function(e){var n=document.createElement("option");n.value=e,!0===e?t.table.modules.localize.bind("pagination|all",(function(t){n.innerHTML=t})):n.innerHTML=e,t.pageSizeSelect.appendChild(n)})),this.pageSizeSelect.value=this.size}},V.prototype.initialize=function(t){var e,n,o,i=this;this.dataSentNames=Object.assign({},this.paginationDataSentNames),this.dataSentNames=Object.assign(this.dataSentNames,this.table.options.paginationDataSent),this.dataReceivedNames=Object.assign({},this.paginationDataReceivedNames),this.dataReceivedNames=Object.assign(this.dataReceivedNames,this.table.options.paginationDataReceived),i.table.modules.localize.bind("pagination|first",(function(t){i.firstBut.innerHTML=t})),i.table.modules.localize.bind("pagination|first_title",(function(t){i.firstBut.setAttribute("aria-label",t),i.firstBut.setAttribute("title",t)})),i.table.modules.localize.bind("pagination|prev",(function(t){i.prevBut.innerHTML=t})),i.table.modules.localize.bind("pagination|prev_title",(function(t){i.prevBut.setAttribute("aria-label",t),i.prevBut.setAttribute("title",t)})),i.table.modules.localize.bind("pagination|next",(function(t){i.nextBut.innerHTML=t})),i.table.modules.localize.bind("pagination|next_title",(function(t){i.nextBut.setAttribute("aria-label",t),i.nextBut.setAttribute("title",t)})),i.table.modules.localize.bind("pagination|last",(function(t){i.lastBut.innerHTML=t})),i.table.modules.localize.bind("pagination|last_title",(function(t){i.lastBut.setAttribute("aria-label",t),i.lastBut.setAttribute("title",t)})),i.firstBut.addEventListener("click",(function(){i.setPage(1)})),i.prevBut.addEventListener("click",(function(){i.previousPage()})),i.nextBut.addEventListener("click",(function(){i.nextPage().then((function(){})).catch((function(){}))})),i.lastBut.addEventListener("click",(function(){i.setPage(i.max)})),i.table.options.paginationElement&&(i.element=i.table.options.paginationElement),this.pageSizeSelect&&(e=document.createElement("label"),i.table.modules.localize.bind("pagination|page_size",(function(t){i.pageSizeSelect.setAttribute("aria-label",t),i.pageSizeSelect.setAttribute("title",t),e.innerHTML=t})),i.element.appendChild(e),i.element.appendChild(i.pageSizeSelect),i.pageSizeSelect.addEventListener("change",(function(t){i.setPageSize("true"==i.pageSizeSelect.value||i.pageSizeSelect.value),i.setPage(1).then((function(){})).catch((function(){}))}))),i.element.appendChild(i.firstBut),i.element.appendChild(i.prevBut),i.element.appendChild(i.pagesElement),i.element.appendChild(i.nextBut),i.element.appendChild(i.lastBut),i.table.options.paginationElement||t||i.table.footerManager.append(i.element,i),i.mode=i.table.options.pagination,i.table.options.paginationSize?i.size=i.table.options.paginationSize:(n=document.createElement("div"),n.classList.add("tabulator-row"),n.style.visibility=t,o=document.createElement("div"),o.classList.add("tabulator-cell"),o.innerHTML="Page Row Test",n.appendChild(o),i.table.rowManager.getTableElement().appendChild(n),i.size=Math.floor(i.table.rowManager.getElement().clientHeight/n.offsetHeight),i.table.rowManager.getTableElement().removeChild(n)),i.count=i.table.options.paginationButtonCount,i.generatePageSizeSelectList()},V.prototype.initializeProgressive=function(t){this.initialize(!0),this.mode="progressive_"+t,this.progressiveLoad=!0},V.prototype.setDisplayIndex=function(t){this.displayIndex=t},V.prototype.getDisplayIndex=function(){return this.displayIndex},V.prototype.setMaxRows=function(t){this.max=t?!0===this.size?1:Math.ceil(t/this.size):1,this.page>this.max&&(this.page=this.max)},V.prototype.reset=function(t,e){return("local"==this.mode||t)&&(this.page=1),e&&(this.initialLoad=!0),!0},V.prototype.setMaxPage=function(t){t=parseInt(t),this.max=t||1,this.page>this.max&&(this.page=this.max,this.trigger())},V.prototype.setPage=function(t){var e=this,n=this;switch(t){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return new Promise((function(o,i){t=parseInt(t),t>0&&t<=e.max?(e.page=t,e.trigger().then((function(){o()})).catch((function(){i()})),n.table.options.persistence&&n.table.modExists("persistence",!0)&&n.table.modules.persistence.config.page&&n.table.modules.persistence.save("page")):(console.warn("Pagination Error - Requested page is out of range of 1 - "+e.max+":",t),i())}))},V.prototype.setPageToRow=function(t){var e=this;return new Promise((function(n,o){var i=e.table.rowManager.getDisplayRows(e.displayIndex-1),r=i.indexOf(t);if(r>-1){var a=!0===e.size?1:Math.ceil((r+1)/e.size);e.setPage(a).then((function(){n()})).catch((function(){o()}))}else console.warn("Pagination Error - Requested row is not visible"),o()}))},V.prototype.setPageSize=function(t){!0!==t&&(t=parseInt(t)),t>0&&(this.size=t),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.page&&this.table.modules.persistence.save("page")},V.prototype._setPageButtons=function(){var t=this,e=Math.floor((this.count-1)/2),n=Math.ceil((this.count-1)/2),o=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),i=this.page<=n?Math.min(this.count,this.max):Math.min(this.page+n,this.max);while(t.pagesElement.firstChild)t.pagesElement.removeChild(t.pagesElement.firstChild);1==t.page?(t.firstBut.disabled=!0,t.prevBut.disabled=!0):(t.firstBut.disabled=!1,t.prevBut.disabled=!1),t.page==t.max?(t.lastBut.disabled=!0,t.nextBut.disabled=!0):(t.lastBut.disabled=!1,t.nextBut.disabled=!1);for(var r=o;r<=i;r++)r>0&&r<=t.max&&t.pagesElement.appendChild(t._generatePageButton(r));this.footerRedraw()},V.prototype._generatePageButton=function(t){var e=this,n=document.createElement("button");return n.classList.add("tabulator-page"),t==e.page&&n.classList.add("active"),n.setAttribute("type","button"),n.setAttribute("role","button"),e.table.modules.localize.bind("pagination|page_title",(function(e){n.setAttribute("aria-label",e+" "+t),n.setAttribute("title",e+" "+t)})),n.setAttribute("data-page",t),n.textContent=t,n.addEventListener("click",(function(n){e.setPage(t)})),n},V.prototype.previousPage=function(){var t=this;return new Promise((function(e,n){t.page>1?(t.page--,t.trigger().then((function(){e()})).catch((function(){n()})),t.table.options.persistence&&t.table.modExists("persistence",!0)&&t.table.modules.persistence.config.page&&t.table.modules.persistence.save("page")):(console.warn("Pagination Error - Previous page would be less than page 1:",0),n())}))},V.prototype.nextPage=function(){var t=this;return new Promise((function(e,n){t.page<t.max?(t.page++,t.trigger().then((function(){e()})).catch((function(){n()})),t.table.options.persistence&&t.table.modExists("persistence",!0)&&t.table.modules.persistence.config.page&&t.table.modules.persistence.save("page")):(t.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+t.max+":",t.max+1),n())}))},V.prototype.getPage=function(){return this.page},V.prototype.getPageMax=function(){return this.max},V.prototype.getPageSize=function(t){return this.size},V.prototype.getMode=function(){return this.mode},V.prototype.getRows=function(t){var e,n,o;if("local"==this.mode){e=[],!0===this.size?(n=0,o=t.length-1):(n=this.size*(this.page-1),o=n+parseInt(this.size)),this._setPageButtons();for(var i=n;i<o;i++)t[i]&&e.push(t[i]);return e}return this._setPageButtons(),t.slice(0)},V.prototype.trigger=function(){var t,e=this;return new Promise((function(n,o){switch(e.mode){case"local":t=e.table.rowManager.scrollLeft,e.table.rowManager.refreshActiveData("page"),e.table.rowManager.scrollHorizontal(t),e.table.options.pageLoaded.call(e.table,e.getPage()),n();break;case"remote":case"progressive_load":case"progressive_scroll":e.table.modules.ajax.blockActiveRequest(),e._getRemotePage().then((function(){n()})).catch((function(){o()}));break;default:console.warn("Pagination Error - no such pagination mode:",e.mode),o()}}))},V.prototype._getRemotePage=function(){var t,e,n=this,o=this;return new Promise((function(i,r){if(o.table.modExists("ajax",!0)||r(),t=h.prototype.helpers.deepClone(o.table.modules.ajax.getParams()||{}),e=o.table.modules.ajax.getParams(),e[n.dataSentNames.page]=o.page,n.size&&(e[n.dataSentNames.size]=n.size),n.table.options.ajaxSorting&&n.table.modExists("sort")){var a=o.table.modules.sort.getSort();a.forEach((function(t){delete t.column})),e[n.dataSentNames.sorters]=a}if(n.table.options.ajaxFiltering&&n.table.modExists("filter")){var s=o.table.modules.filter.getFilters(!0,!0);e[n.dataSentNames.filters]=s}o.table.modules.ajax.setParams(e),o.table.modules.ajax.sendRequest(n.progressiveLoad).then((function(t){o._parseRemoteData(t),i()})).catch((function(t){r()})),o.table.modules.ajax.setParams(t)}))},V.prototype._parseRemoteData=function(t){var e,n,o=this;if("undefined"===typeof t[this.dataReceivedNames.last_page]&&console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.last_page+"' property"),t[this.dataReceivedNames.data]){if(this.max=parseInt(t[this.dataReceivedNames.last_page])||1,this.progressiveLoad)switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(t[this.dataReceivedNames.data],!1,this.initialLoad&&1==this.page):this.table.rowManager.addRows(t[this.dataReceivedNames.data]),this.page<this.max&&setTimeout((function(){o.nextPage().then((function(){})).catch((function(){}))}),o.table.options.ajaxProgressiveLoadDelay);break;case"progressive_scroll":t=this.table.rowManager.getData().concat(t[this.dataReceivedNames.data]),this.table.rowManager.setData(t,!0,this.initialLoad&&1==this.page),n=this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight,o.table.rowManager.element.scrollHeight<=o.table.rowManager.element.clientHeight+n&&o.nextPage().then((function(){})).catch((function(){}));break}else e=this.table.rowManager.scrollLeft,this.table.rowManager.setData(t[this.dataReceivedNames.data],!1,this.initialLoad&&1==this.page),this.table.rowManager.scrollHorizontal(e),this.table.columnManager.scrollHorizontal(e),this.table.options.pageLoaded.call(this.table,this.getPage());this.initialLoad=!1}else console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.data+"' property")},V.prototype.footerRedraw=function(){var t=this.table.footerManager.element;Math.ceil(t.clientWidth)-t.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(t.clientWidth)-t.scrollWidth<0&&(this.pagesElement.style.display="none"))},V.prototype.paginationDataSentNames={page:"page",size:"size",sorters:"sorters",filters:"filters"},V.prototype.paginationDataReceivedNames={current_page:"current_page",last_page:"last_page",data:"data"},h.prototype.registerModule("page",V);var j=function(t){this.table=t,this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1};j.prototype.localStorageTest=function(){var t="_tabulator_test";try{return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(e){return!1}},j.prototype.initialize=function(){var t,e=this.table.options.persistenceMode,n=this.table.options.persistenceID;this.mode=!0!==e?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"===typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:this.readers[this.table.options.persistenceReaderFunc]?this.readFunc=this.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):this.readers[this.mode]?this.readFunc=this.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"===typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:this.readers[this.table.options.persistenceWriterFunc]?this.writeFunc=this.readers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):this.writers[this.mode]?this.writeFunc=this.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(n||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(t=this.retreiveData("page"),t&&("undefined"===typeof t.paginationSize||!0!==this.config.page&&!this.config.page.size||(this.table.options.paginationSize=t.paginationSize),"undefined"===typeof t.paginationInitialPage||!0!==this.config.page&&!this.config.page.page||(this.table.options.paginationInitialPage=t.paginationInitialPage))),this.config.group&&(t=this.retreiveData("group"),t&&("undefined"===typeof t.groupBy||!0!==this.config.group&&!this.config.group.groupBy||(this.table.options.groupBy=t.groupBy),"undefined"===typeof t.groupStartOpen||!0!==this.config.group&&!this.config.group.groupStartOpen||(this.table.options.groupStartOpen=t.groupStartOpen),"undefined"===typeof t.groupHeader||!0!==this.config.group&&!this.config.group.groupHeader||(this.table.options.groupHeader=t.groupHeader)))},j.prototype.initializeColumn=function(t){var e,n,o=this;this.config.columns&&(this.defWatcherBlock=!0,e=t.getDefinition(),n=!0===this.config.columns?Object.keys(e):this.config.columns,n.forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t),i=e[t];n&&Object.defineProperty(e,t,{set:function(t){i=t,o.defWatcherBlock||o.save("columns"),n.set&&n.set(t)},get:function(){return n.get&&n.get(),i}})})),this.defWatcherBlock=!1)},j.prototype.load=function(t,e){var n=this.retreiveData(t);return e&&(n=n?this.mergeDefinition(e,n):e),n},j.prototype.retreiveData=function(t){return!!this.readFunc&&this.readFunc(this.id,t)},j.prototype.mergeDefinition=function(t,e){var n=this,o=[];return e=e||[],e.forEach((function(e,i){var r,a=n._findColumn(t,e);a&&(!0===n.config.columns||void 0==n.config.columns?(r=Object.keys(a),r.push("width")):r=n.config.columns,r.forEach((function(t){"undefined"!==typeof e[t]&&(a[t]=e[t])})),a.columns&&(a.columns=n.mergeDefinition(a.columns,e.columns)),o.push(a))})),t.forEach((function(t,i){var r=n._findColumn(e,t);r||(o.length>i?o.splice(i,0,t):o.push(t))})),o},j.prototype._findColumn=function(t,e){var n=e.columns?"group":e.field?"field":"object";return t.find((function(t){switch(n){case"group":return t.title===e.title&&t.columns.length===e.columns.length;case"field":return t.field===e.field;case"object":return t===e}}))},j.prototype.save=function(t){var e={};switch(t){case"columns":e=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":e=this.table.modules.filter.getFilters();break;case"sort":e=this.validateSorters(this.table.modules.sort.getSort());break;case"group":e=this.getGroupConfig();break;case"page":e=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,t,e)},j.prototype.validateSorters=function(t){return t.forEach((function(t){t.column=t.field,delete t.field})),t},j.prototype.getGroupConfig=function(){return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(data.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(data.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(data.groupHeader=this.table.options.groupHeader)),data},j.prototype.getPageConfig=function(){var t={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(t.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(t.paginationInitialPage=this.table.modules.page.getPage())),t},j.prototype.parseColumns=function(t){var e=this,n=[];return t.forEach((function(t){var o,i={},r=t.getDefinition();t.isGroup?(i.title=r.title,i.columns=e.parseColumns(t.getColumns())):(i.field=t.getField(),!0===e.config.columns||void 0==e.config.columns?(o=Object.keys(r),o.push("width")):o=e.config.columns,o.forEach((function(e){switch(e){case"width":i.width=t.getWidth();break;case"visible":i.visible=t.visible;break;default:i[e]=r[e]}}))),n.push(i)})),n},j.prototype.readers={local:function(t,e){var n=localStorage.getItem(t+"-"+e);return!!n&&JSON.parse(n)},cookie:function(t,e){var n,o,i=document.cookie,r=t+"-"+e,a=i.indexOf(r+"=");return a>-1&&(i=i.substr(a),n=i.indexOf(";"),n>-1&&(i=i.substr(0,n)),o=i.replace(r+"=","")),!!o&&JSON.parse(o)}},j.prototype.writers={local:function(t,e,n){localStorage.setItem(t+"-"+e,JSON.stringify(n))},cookie:function(t,e,n){var o=new Date;o.setDate(o.getDate()+1e4),document.cookie=t+"-"+e+"="+JSON.stringify(n)+"; expires="+o.toUTCString()}},h.prototype.registerModule("persistence",j);var q=function(t){this.table=t,this.element=!1,this.manualBlock=!1};q.prototype.initialize=function(){window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))},q.prototype.replaceTable=function(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))},q.prototype.cleanup=function(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")},q.prototype.printFullscreen=function(t,e,n){var o,i,r=window.scrollX,a=window.scrollY,s=document.createElement("div"),l=document.createElement("div"),c=this.table.modules.export.genereateTable("undefined"!=typeof n?n:this.table.options.printConfig,"undefined"!=typeof e?e:this.table.options.printStyled,t,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(s.classList.add("tabulator-print-header"),o="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader,"string"==typeof o?s.innerHTML=o:s.appendChild(o),this.element.appendChild(s)),this.element.appendChild(c),this.table.options.printFooter&&(l.classList.add("tabulator-print-footer"),i="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter,"string"==typeof i?l.innerHTML=i:l.appendChild(i),this.element.appendChild(l)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,c),window.print(),this.cleanup(),window.scrollTo(r,a),this.manualBlock=!1},h.prototype.registerModule("print",q);var B=function(t){this.table=t,this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0};B.prototype.watchData=function(t){var e,n=this;this.currentVersion++,e=this.currentVersion,n.unwatchData(),n.data=t,n.origFuncs.push=t.push,Object.defineProperty(n.data,"push",{enumerable:!1,configurable:!0,value:function(){var o=Array.from(arguments);return n.blocked||e!==n.currentVersion||o.forEach((function(t){n.table.rowManager.addRowActual(t,!1)})),n.origFuncs.push.apply(t,arguments)}}),n.origFuncs.unshift=t.unshift,Object.defineProperty(n.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var o=Array.from(arguments);return n.blocked||e!==n.currentVersion||o.forEach((function(t){n.table.rowManager.addRowActual(t,!0)})),n.origFuncs.unshift.apply(t,arguments)}}),n.origFuncs.shift=t.shift,Object.defineProperty(n.data,"shift",{enumerable:!1,configurable:!0,value:function(){var o;return n.blocked||e!==n.currentVersion||n.data.length&&(o=n.table.rowManager.getRowFromDataObject(n.data[0]),o&&o.deleteActual()),n.origFuncs.shift.call(t)}}),n.origFuncs.pop=t.pop,Object.defineProperty(n.data,"pop",{enumerable:!1,configurable:!0,value:function(){var o;return n.blocked||e!==n.currentVersion||n.data.length&&(o=n.table.rowManager.getRowFromDataObject(n.data[n.data.length-1]),o&&o.deleteActual()),n.origFuncs.pop.call(t)}}),n.origFuncs.splice=t.splice,Object.defineProperty(n.data,"splice",{enumerable:!1,configurable:!0,value:function(){var o,i=Array.from(arguments),r=i[0]<0?t.length+i[0]:i[0],a=i[1],s=!!i[2]&&i.slice(2);if(!n.blocked&&e===n.currentVersion){if(s&&(o=!!t[r]&&n.table.rowManager.getRowFromDataObject(t[r]),o?s.forEach((function(t){n.table.rowManager.addRowActual(t,!0,o,!0)})):(s=s.slice().reverse(),s.forEach((function(t){n.table.rowManager.addRowActual(t,!0,!1,!0)})))),0!==a){var l=t.slice(r,"undefined"===typeof i[1]?i[1]:r+a);l.forEach((function(t,e){var o=n.table.rowManager.getRowFromDataObject(t);o&&o.deleteActual(e!==l.length-1)}))}(s||0!==a)&&n.table.rowManager.reRenderInPosition()}return n.origFuncs.splice.apply(t,arguments)}})},B.prototype.unwatchData=function(){if(!1!==this.data)for(var t in this.origFuncs)Object.defineProperty(this.data,t,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})},B.prototype.watchRow=function(t){var e=t.getData();for(var n in this.blocked=!0,e)this.watchKey(t,e,n);this.blocked=!1},B.prototype.watchKey=function(t,e,n){var o=this,i=Object.getOwnPropertyDescriptor(e,n),r=e[n],a=this.currentVersion;Object.defineProperty(e,n,{set:function(e){if(r=e,!o.blocked&&a===o.currentVersion){var s={};s[n]=e,t.updateData(s)}i.set&&i.set(e)},get:function(){return i.get&&i.get(),r}})},B.prototype.unwatchRow=function(t){var e=t.getData();for(var n in e)Object.defineProperty(e,n,{value:e[n]})},B.prototype.block=function(){this.blocked=!0},B.prototype.unblock=function(){this.blocked=!1},h.prototype.registerModule("reactiveData",B);var G=function(t){this.table=t,this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null};G.prototype.initializeColumn=function(t,e,n){var o=this,i=!1,r=this.table.options.resizableColumns;if("header"===t&&(i="textarea"==e.definition.formatter||e.definition.variableHeight,e.modules.resize={variableHeight:i}),!0===r||r==t){var a=document.createElement("div");a.className="tabulator-col-resize-handle";var s=document.createElement("div");s.className="tabulator-col-resize-handle prev",a.addEventListener("click",(function(t){t.stopPropagation()}));var l=function(t){var n=e.getLastColumn();n&&o._checkResizability(n)&&(o.startColumn=e,o._mouseDown(t,n,a))};a.addEventListener("mousedown",l),a.addEventListener("touchstart",l,{passive:!0}),a.addEventListener("dblclick",(function(t){var n=e.getLastColumn();n&&o._checkResizability(n)&&(t.stopPropagation(),n.reinitializeWidth(!0))})),s.addEventListener("click",(function(t){t.stopPropagation()}));var c=function(t){var n,i,r;n=e.getFirstColumn(),n&&(i=o.table.columnManager.findColumnIndex(n),r=i>0&&o.table.columnManager.getColumnByIndex(i-1),r&&o._checkResizability(r)&&(o.startColumn=e,o._mouseDown(t,r,s)))};s.addEventListener("mousedown",c),s.addEventListener("touchstart",c,{passive:!0}),s.addEventListener("dblclick",(function(t){var n,i,r;n=e.getFirstColumn(),n&&(i=o.table.columnManager.findColumnIndex(n),r=i>0&&o.table.columnManager.getColumnByIndex(i-1),r&&o._checkResizability(r)&&(t.stopPropagation(),r.reinitializeWidth(!0)))})),n.appendChild(a),n.appendChild(s)}},G.prototype._checkResizability=function(t){return"undefined"!=typeof t.definition.resizable?t.definition.resizable:this.table.options.resizableColumns},G.prototype._mouseDown=function(t,e,n){var o=this;function i(t){e.setWidth(o.startWidth+(("undefined"===typeof t.screenX?t.touches[0].screenX:t.screenX)-o.startX)),!o.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights()}function r(t){o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!1),o.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights(),document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",i),n.removeEventListener("touchmove",i),n.removeEventListener("touchend",r),o.table.element.classList.remove("tabulator-block-select"),o.table.options.persistence&&o.table.modExists("persistence",!0)&&o.table.modules.persistence.config.columns&&o.table.modules.persistence.save("columns"),o.table.options.columnResized.call(o.table,e.getComponent())}o.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!0),o.startX="undefined"===typeof t.screenX?t.touches[0].screenX:t.screenX,o.startWidth=e.getWidth(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",r),n.addEventListener("touchmove",i,{passive:!0}),n.addEventListener("touchend",r)},h.prototype.registerModule("resizeColumns",G);var W=function(t){this.table=t,this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null};W.prototype.initializeRow=function(t){var e=this,n=t.getElement(),o=document.createElement("div");o.className="tabulator-row-resize-handle";var i=document.createElement("div");i.className="tabulator-row-resize-handle prev",o.addEventListener("click",(function(t){t.stopPropagation()}));var r=function(n){e.startRow=t,e._mouseDown(n,t,o)};o.addEventListener("mousedown",r),o.addEventListener("touchstart",r,{passive:!0}),i.addEventListener("click",(function(t){t.stopPropagation()}));var a=function(n){var o=e.table.rowManager.prevDisplayRow(t);o&&(e.startRow=o,e._mouseDown(n,o,i))};i.addEventListener("mousedown",a),i.addEventListener("touchstart",a,{passive:!0}),n.appendChild(o),n.appendChild(i)},W.prototype._mouseDown=function(t,e,n){var o=this;function i(t){e.setHeight(o.startHeight+(("undefined"===typeof t.screenY?t.touches[0].screenY:t.screenY)-o.startY))}function r(t){document.body.removeEventListener("mouseup",i),document.body.removeEventListener("mousemove",i),n.removeEventListener("touchmove",i),n.removeEventListener("touchend",r),o.table.element.classList.remove("tabulator-block-select"),o.table.options.rowResized.call(this.table,e.getComponent())}o.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),o.startY="undefined"===typeof t.screenY?t.touches[0].screenY:t.screenY,o.startHeight=e.getHeight(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",r),n.addEventListener("touchmove",i,{passive:!0}),n.addEventListener("touchend",r)},h.prototype.registerModule("resizeRows",W);var U=function(t){this.table=t,this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1};U.prototype.initialize=function(t){var e,n=this,o=this.table;this.tableHeight=o.element.clientHeight,this.tableWidth=o.element.clientWidth,o.element.parentNode&&(this.containerHeight=o.element.parentNode.clientHeight,this.containerWidth=o.element.parentNode.clientWidth),"undefined"!==typeof ResizeObserver&&"virtual"===o.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver((function(t){if(!o.browserMobile||o.browserMobile&&!o.modules.edit.currentCell){var e=Math.floor(t[0].contentRect.height),i=Math.floor(t[0].contentRect.width);n.tableHeight==e&&n.tableWidth==i||(n.tableHeight=e,n.tableWidth=i,o.element.parentNode&&(n.containerHeight=o.element.parentNode.clientHeight,n.containerWidth=o.element.parentNode.clientWidth),o.redraw())}})),this.observer.observe(o.element),e=window.getComputedStyle(o.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(e.getPropertyValue("max-height")||e.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver((function(t){if(!o.browserMobile||o.browserMobile&&!o.modules.edit.currentCell){var e=Math.floor(t[0].contentRect.height),i=Math.floor(t[0].contentRect.width);n.containerHeight==e&&n.containerWidth==i||(n.containerHeight=e,n.containerWidth=i,n.tableHeight=o.element.clientHeight,n.tableWidth=o.element.clientWidth,o.redraw()),o.redraw()}})),this.containerObserver.observe(this.table.element.parentNode))):(this.binding=function(){(!o.browserMobile||o.browserMobile&&!o.modules.edit.currentCell)&&o.redraw()},window.addEventListener("resize",this.binding))},U.prototype.clearBindings=function(t){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)},h.prototype.registerModule("resizeTable",U);var $=function(t){this.table=t,this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1};$.prototype.initialize=function(){var t=this,e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((function(n,o){n.modules.responsive&&n.modules.responsive.order&&n.modules.responsive.visible&&(n.modules.responsive.index=o,e.push(n),n.visible||"collapse"!==t.mode||t.hiddenColumns.push(n))})),e=e.reverse(),e=e.sort((function(t,e){var n=e.modules.responsive.order-t.modules.responsive.order;return n||e.modules.responsive.index-t.modules.responsive.index})),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();var n=this.table.columnManager.columnsByIndex,o=Array.isArray(n),i=0;for(n=o?n:n[Symbol.iterator]();;){var r;if(o){if(i>=n.length)break;r=n[i++]}else{if(i=n.next(),i.done)break;r=i.value}var a=r;if("responsiveCollapse"==a.definition.formatter){this.collapseHandleColumn=a;break}}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())},$.prototype.initializeColumn=function(t){var e=t.getDefinition();t.modules.responsive={order:"undefined"===typeof e.responsive?1:e.responsive,visible:!1!==e.visible}},$.prototype.initializeRow=function(t){var e;"calc"!==t.type&&(e=document.createElement("div"),e.classList.add("tabulator-responsive-collapse"),t.modules.responsiveLayout={element:e,open:this.collapseStartOpen},this.collapseStartOpen||(e.style.display="none"))},$.prototype.layoutRow=function(t){var e=t.getElement();t.modules.responsiveLayout&&(e.appendChild(t.modules.responsiveLayout.element),this.generateCollapsedRowContent(t))},$.prototype.updateColumnVisibility=function(t,e){t.modules.responsive&&(t.modules.responsive.visible=e,this.initialize())},$.prototype.hideColumn=function(t){var e=this.hiddenColumns.length;t.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(t),this.generateCollapsedContent(),this.collapseHandleColumn&&!e&&this.collapseHandleColumn.show())},$.prototype.showColumn=function(t){var e;t.show(!1,!0),t.setWidth(t.getWidth()),"collapse"===this.mode&&(e=this.hiddenColumns.indexOf(t),e>-1&&this.hiddenColumns.splice(e,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())},$.prototype.update=function(){var t=this,e=!0;while(e){var n="fitColumns"==t.table.modules.layout.getMode()?t.table.columnManager.getFlexBaseWidth():t.table.columnManager.getWidth(),o=(t.table.options.headerVisible?t.table.columnManager.element.clientWidth:t.table.element.clientWidth)-n;if(o<0){var i=t.columns[t.index];i?(t.hideColumn(i),t.index++):e=!1}else{var r=t.columns[t.index-1];r&&o>0&&o>=r.getWidth()?(t.showColumn(r),t.index--):e=!1}t.table.rowManager.activeRowsCount||t.table.rowManager.renderEmptyScroll()}},$.prototype.generateCollapsedContent=function(){var t=this,e=this.table.rowManager.getDisplayRows();e.forEach((function(e){t.generateCollapsedRowContent(e)}))},$.prototype.generateCollapsedRowContent=function(t){var e,n;if(t.modules.responsiveLayout){e=t.modules.responsiveLayout.element;while(e.firstChild)e.removeChild(e.firstChild);n=this.collapseFormatter(this.generateCollapsedRowData(t)),n&&e.appendChild(n)}},$.prototype.generateCollapsedRowData=function(t){var e,n=this,o=t.getData(),i=[];return this.hiddenColumns.forEach((function(r){var a=r.getFieldValue(o);r.definition.title&&r.field&&(r.modules.format&&n.table.options.responsiveLayoutCollapseUseFormatters?(e={value:!1,data:{},getValue:function(){return a},getData:function(){return o},getElement:function(){return document.createElement("div")},getRow:function(){return t.getComponent()},getColumn:function(){return r.getComponent()}},i.push({title:r.definition.title,value:r.modules.format.formatter.call(n.table.modules.format,e,r.modules.format.params)})):i.push({title:r.definition.title,value:a}))})),i},$.prototype.formatCollapsedData=function(t){var e=document.createElement("table"),n="";return t.forEach((function(t){var e=document.createElement("div");t.value instanceof Node&&(e.appendChild(t.value),t.value=e.innerHTML),n+="<tr><td><strong>"+t.title+"</strong></td><td>"+t.value+"</td></tr>"})),e.innerHTML=n,Object.keys(t).length?e:""},h.prototype.registerModule("responsiveLayout",$);var X=function(t){this.table=t,this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null};X.prototype.clearSelectionData=function(t){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t||this._rowSelectionChanged()},X.prototype.initializeRow=function(t){var e=this,n=t.getElement(),o=function t(){setTimeout((function(){e.selecting=!1}),50),document.body.removeEventListener("mouseup",t)};t.modules.select={selected:!1},e.table.options.selectableCheck.call(this.table,t.getComponent())?(n.classList.add("tabulator-selectable"),n.classList.remove("tabulator-unselectable"),e.table.options.selectable&&"highlight"!=e.table.options.selectable&&("click"===e.table.options.selectableRangeMode?n.addEventListener("click",(function(n){if(n.shiftKey){e.table._clearSelection(),e.lastClickedRow=e.lastClickedRow||t;var o=e.table.rowManager.getDisplayRowIndex(e.lastClickedRow),i=e.table.rowManager.getDisplayRowIndex(t),r=o<=i?o:i,a=o>=i?o:i,s=e.table.rowManager.getDisplayRows().slice(0),l=s.splice(r,a-r+1);n.ctrlKey||n.metaKey?(l.forEach((function(n){n!==e.lastClickedRow&&(!0===e.table.options.selectable||e.isRowSelected(t)?e.toggleRow(n):e.selectedRows.length<e.table.options.selectable&&e.toggleRow(n))})),e.lastClickedRow=t):(e.deselectRows(void 0,!0),!0!==e.table.options.selectable&&l.length>e.table.options.selectable&&(l=l.slice(0,e.table.options.selectable)),e.selectRows(l)),e.table._clearSelection()}else n.ctrlKey||n.metaKey?(e.toggleRow(t),e.lastClickedRow=t):(e.deselectRows(void 0,!0),e.selectRows(t),e.lastClickedRow=t)})):(n.addEventListener("click",(function(n){e.table.modExists("edit")&&e.table.modules.edit.getCurrentCell()||e.table._clearSelection(),e.selecting||e.toggleRow(t)})),n.addEventListener("mousedown",(function(n){if(n.shiftKey)return e.table._clearSelection(),e.selecting=!0,e.selectPrev=[],document.body.addEventListener("mouseup",o),document.body.addEventListener("keyup",o),e.toggleRow(t),!1})),n.addEventListener("mouseenter",(function(n){e.selecting&&(e.table._clearSelection(),e.toggleRow(t),e.selectPrev[1]==t&&e.toggleRow(e.selectPrev[0]))})),n.addEventListener("mouseout",(function(n){e.selecting&&(e.table._clearSelection(),e.selectPrev.unshift(t))}))))):(n.classList.add("tabulator-unselectable"),n.classList.remove("tabulator-selectable"))},X.prototype.toggleRow=function(t){this.table.options.selectableCheck.call(this.table,t.getComponent())&&(t.modules.select&&t.modules.select.selected?this._deselectRow(t):this._selectRow(t))},X.prototype.selectRows=function(t){var e,n=this;switch("undefined"===typeof t?"undefined":s(t)){case"undefined":this.table.rowManager.rows.forEach((function(t){n._selectRow(t,!0,!0)})),this._rowSelectionChanged();break;case"string":e=this.table.rowManager.findRow(t),e?this._selectRow(e,!0,!0):this.table.rowManager.getRows(t).forEach((function(t){n._selectRow(t,!0,!0)})),this._rowSelectionChanged();break;default:Array.isArray(t)?(t.forEach((function(t){n._selectRow(t,!0,!0)})),this._rowSelectionChanged()):this._selectRow(t,!1,!0);break}},X.prototype._selectRow=function(t,e,n){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!n&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var o=this.table.rowManager.findRow(t);o?-1==this.selectedRows.indexOf(o)&&(o.modules.select||(o.modules.select={}),o.modules.select.selected=!0,o.modules.select.checkboxEl&&(o.modules.select.checkboxEl.checked=!0),o.getElement().classList.add("tabulator-selected"),this.selectedRows.push(o),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(o,!0),e||this.table.options.rowSelected.call(this.table,o.getComponent()),this._rowSelectionChanged(e)):e||console.warn("Selection Error - No such row found, ignoring selection:"+t)},X.prototype.isRowSelected=function(t){return-1!==this.selectedRows.indexOf(t)},X.prototype.deselectRows=function(t,e){var n,o=this;if("undefined"==typeof t){n=o.selectedRows.length;for(var i=0;i<n;i++)o._deselectRow(o.selectedRows[0],!0);o._rowSelectionChanged(e)}else Array.isArray(t)?(t.forEach((function(t){o._deselectRow(t,!0)})),o._rowSelectionChanged(e)):o._deselectRow(t,e)},X.prototype._deselectRow=function(t,e){var n,o=this,i=o.table.rowManager.findRow(t);i?(n=o.selectedRows.findIndex((function(t){return t==i})),n>-1&&(i.modules.select||(i.modules.select={}),i.modules.select.selected=!1,i.modules.select.checkboxEl&&(i.modules.select.checkboxEl.checked=!1),i.getElement().classList.remove("tabulator-selected"),o.selectedRows.splice(n,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(i,!1),e||o.table.options.rowDeselected.call(this.table,i.getComponent()),o._rowSelectionChanged(e))):e||console.warn("Deselection Error - No such row found, ignoring selection:"+t)},X.prototype.getSelectedData=function(){var t=[];return this.selectedRows.forEach((function(e){t.push(e.getData())})),t},X.prototype.getSelectedRows=function(){var t=[];return this.selectedRows.forEach((function(e){t.push(e.getComponent())})),t},X.prototype._rowSelectionChanged=function(t){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),t||this.table.options.rowSelectionChanged.call(this.table,this.getSelectedData(),this.getSelectedRows())},X.prototype.registerRowSelectCheckbox=function(t,e){t._row.modules.select||(t._row.modules.select={}),t._row.modules.select.checkboxEl=e},X.prototype.registerHeaderSelectCheckbox=function(t){this.headerCheckboxElement=t},X.prototype.childRowSelection=function(t,e){var n=this.table.modules.dataTree.getChildren(t);if(e){var o=n,i=Array.isArray(o),r=0;for(o=i?o:o[Symbol.iterator]();;){var a;if(i){if(r>=o.length)break;a=o[r++]}else{if(r=o.next(),r.done)break;a=r.value}var s=a;this._selectRow(s,!0)}}else{var l=n,c=Array.isArray(l),u=0;for(l=c?l:l[Symbol.iterator]();;){var d;if(c){if(u>=l.length)break;d=l[u++]}else{if(u=l.next(),u.done)break;d=u.value}var h=d;this._deselectRow(h,!0)}}},h.prototype.registerModule("selectRow",X);var Y=function(t){this.table=t,this.sortList=[],this.changed=!1};Y.prototype.initializeColumn=function(t,e){var n,o,i=this,r=!1;switch(s(t.definition.sorter)){case"string":i.sorters[t.definition.sorter]?r=i.sorters[t.definition.sorter]:console.warn("Sort Error - No such sorter found: ",t.definition.sorter);break;case"function":r=t.definition.sorter;break}t.modules.sort={sorter:r,dir:"none",params:t.definition.sorterParams||{},startingDir:t.definition.headerSortStartingDir||"asc",tristate:"undefined"!==typeof t.definition.headerSortTristate?t.definition.headerSortTristate:this.table.options.headerSortTristate},("undefined"===typeof t.definition.headerSort?!1!==this.table.options.headerSort:!1!==t.definition.headerSort)&&(n=t.getElement(),n.classList.add("tabulator-sortable"),o=document.createElement("div"),o.classList.add("tabulator-arrow"),e.appendChild(o),n.addEventListener("click",(function(e){var n="",o=[],r=!1;if(t.modules.sort){if(t.modules.sort.tristate)n="none"==t.modules.sort.dir?t.modules.sort.startingDir:t.modules.sort.dir==t.modules.sort.startingDir?"asc"==t.modules.sort.dir?"desc":"asc":"none";else switch(t.modules.sort.dir){case"asc":n="desc";break;case"desc":n="asc";break;default:n=t.modules.sort.startingDir}i.table.options.columnHeaderSortMulti&&(e.shiftKey||e.ctrlKey)?(o=i.getSort(),r=o.findIndex((function(e){return e.field===t.getField()})),r>-1?(o[r].dir=n,r!=o.length-1&&(r=o.splice(r,1)[0],"none"!=n&&o.push(r))):"none"!=n&&o.push({column:t,dir:n}),i.setSort(o)):"none"==n?i.clear():i.setSort(t,n),i.table.rowManager.sorterRefresh(!i.sortList.length)}})))},Y.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},Y.prototype.getSort=function(){var t=this,e=[];return t.sortList.forEach((function(t){t.column&&e.push({column:t.column.getComponent(),field:t.column.getField(),dir:t.dir})})),e},Y.prototype.setSort=function(t,e){var n=this,o=[];Array.isArray(t)||(t=[{column:t,dir:e}]),t.forEach((function(t){var e;e=n.table.columnManager.findColumn(t.column),e?(t.column=e,o.push(t),n.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",t.column)})),n.sortList=o,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.sort&&this.table.modules.persistence.save("sort")},Y.prototype.clear=function(){this.setSort([])},Y.prototype.findSorter=function(t){var e,n,o=this.table.rowManager.activeRows[0],i="string";if(o&&(o=o.getData(),e=t.getField(),e))switch(n=t.getFieldValue(o),"undefined"===typeof n?"undefined":s(n)){case"undefined":i="string";break;case"boolean":i="boolean";break;default:isNaN(n)||""===n?n.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(i="alphanum"):i="number";break}return this.sorters[i]},Y.prototype.sort=function(t){var e=this,n=this.table.options.sortOrderReverse?e.sortList.slice().reverse():e.sortList,o=[],i=[];e.table.options.dataSorting&&e.table.options.dataSorting.call(e.table,e.getSort()),e.clearColumnHeaders(),e.table.options.ajaxSorting?n.forEach((function(t,n){e.setColumnHeader(t.column,t.dir)})):(n.forEach((function(t,n){var i=t.column.modules.sort;t.column&&i&&(i.sorter||(i.sorter=e.findSorter(t.column)),t.params="function"===typeof i.params?i.params(t.column.getComponent(),t.dir):i.params,o.push(t)),e.setColumnHeader(t.column,t.dir)})),o.length&&e._sortItems(t,o)),e.table.options.dataSorted&&(t.forEach((function(t){i.push(t.getComponent())})),e.table.options.dataSorted.call(e.table,e.getSort(),i))},Y.prototype.clearColumnHeaders=function(){this.table.columnManager.getRealColumns().forEach((function(t){t.modules.sort&&(t.modules.sort.dir="none",t.getElement().setAttribute("aria-sort","none"))}))},Y.prototype.setColumnHeader=function(t,e){t.modules.sort.dir=e,t.getElement().setAttribute("aria-sort",e)},Y.prototype._sortItems=function(t,e){var n=this,o=e.length-1;t.sort((function(t,i){for(var r,a=o;a>=0;a--){var s=e[a];if(r=n._sortRow(t,i,s.column,s.dir,s.params),0!==r)break}return r}))},Y.prototype._sortRow=function(t,e,n,o,i){var r,a,s="asc"==o?t:e,l="asc"==o?e:t;return t=n.getFieldValue(s.getData()),e=n.getFieldValue(l.getData()),t="undefined"!==typeof t?t:"",e="undefined"!==typeof e?e:"",r=s.getComponent(),a=l.getComponent(),n.modules.sort.sorter.call(this,t,e,r,a,n.getComponent(),o,i)},Y.prototype.sorters={number:function(t,e,n,o,i,r,a){var s=a.alignEmptyValues,l=a.decimalSeparator||".",c=a.thousandSeparator||",",u=0;if(t=parseFloat(String(t).split(c).join("").split(l).join(".")),e=parseFloat(String(e).split(c).join("").split(l).join(".")),isNaN(t))u=isNaN(e)?0:-1;else{if(!isNaN(e))return t-e;u=1}return("top"===s&&"desc"===r||"bottom"===s&&"asc"===r)&&(u*=-1),u},string:function(t,e,n,o,i,r,a){var l,c=a.alignEmptyValues,u=0;if(t){if(e){switch(s(a.locale)){case"boolean":a.locale&&(l=this.table.modules.localize.getLocale());break;case"string":l=a.locale;break}return String(t).toLowerCase().localeCompare(String(e).toLowerCase(),l)}u=1}else u=e?-1:0;return("top"===c&&"desc"===r||"bottom"===c&&"asc"===r)&&(u*=-1),u},date:function(t,e,n,o,i,r,a){return a.format||(a.format="DD/MM/YYYY"),this.sorters.datetime.call(this,t,e,n,o,i,r,a)},time:function(t,e,n,o,i,r,a){return a.format||(a.format="HH:mm"),this.sorters.datetime.call(this,t,e,n,o,i,r,a)},datetime:function(t,e,n,o,i,r,a){var s=a.format||"DD/MM/YYYY HH:mm:ss",l=a.alignEmptyValues,c=0;if("undefined"!=typeof moment){if(t=moment(t,s),e=moment(e,s),t.isValid()){if(e.isValid())return t-e;c=1}else c=e.isValid()?-1:0;return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(c*=-1),c}console.error("Sort Error - 'datetime' sorter is dependant on moment.js")},boolean:function(t,e,n,o,i,r,a){var s=!0===t||"true"===t||"True"===t||1===t?1:0,l=!0===e||"true"===e||"True"===e||1===e?1:0;return s-l},array:function(t,e,n,o,i,r,a){var s=0,l=0,c=a.type||"length",u=a.alignEmptyValues,d=0;function h(t){switch(c){case"length":return t.length;case"sum":return t.reduce((function(t,e){return t+e}));case"max":return Math.max.apply(null,t);case"min":return Math.min.apply(null,t);case"avg":return t.reduce((function(t,e){return t+e}))/t.length}}if(Array.isArray(t)){if(Array.isArray(e))return s=t?h(t):0,l=e?h(e):0,s-l;u=1}else u=Array.isArray(e)?-1:0;return("top"===u&&"desc"===r||"bottom"===u&&"asc"===r)&&(d*=-1),d},exists:function(t,e,n,o,i,r,a){var s="undefined"==typeof t?0:1,l="undefined"==typeof e?0:1;return s-l},alphanum:function(t,e,n,o,i,r,a){var s,l,c,u,d,h=0,p=/(\d+)|(\D+)/g,f=/\d/,m=a.alignEmptyValues,g=0;if(t||0===t){if(e||0===e){if(isFinite(t)&&isFinite(e))return t-e;if(s=String(t).toLowerCase(),l=String(e).toLowerCase(),s===l)return 0;if(!f.test(s)||!f.test(l))return s>l?1:-1;s=s.match(p),l=l.match(p),d=s.length>l.length?l.length:s.length;while(h<d)if(c=s[h],u=l[h++],c!==u)return isFinite(c)&&isFinite(u)?("0"===c.charAt(0)&&(c="."+c),"0"===u.charAt(0)&&(u="."+u),c-u):c>u?1:-1;return s.length>l.length}g=1}else g=e||0===e?-1:0;return("top"===m&&"desc"===r||"bottom"===m&&"asc"===r)&&(g*=-1),g}},h.prototype.registerModule("sort",Y);var Q=function(t){this.table=t,this.invalidCells=[]};return Q.prototype.initializeColumn=function(t){var e,n=this,o=[];t.definition.validator&&(Array.isArray(t.definition.validator)?t.definition.validator.forEach((function(t){e=n._extractValidator(t),e&&o.push(e)})):(e=this._extractValidator(t.definition.validator),e&&o.push(e)),t.modules.validate=!!o.length&&o)},Q.prototype._extractValidator=function(t){var e,n,o;switch("undefined"===typeof t?"undefined":s(t)){case"string":return o=t.indexOf(":"),o>-1?(e=t.substring(0,o),n=t.substring(o+1)):e=t,this._buildValidator(e,n);case"function":return this._buildValidator(t);case"object":return this._buildValidator(t.type,t.parameters)}},Q.prototype._buildValidator=function(t,e){var n="function"==typeof t?t:this.validators[t];return n?{type:"function"==typeof t?"function":t,func:n,params:e}:(console.warn("Validator Setup Error - No matching validator found:",t),!1)},Q.prototype.validate=function(t,e,n){var o=this,i=[],r=this.invalidCells.indexOf(e);return t&&t.forEach((function(t){t.func.call(o,e.getComponent(),n,t.params)||i.push({type:t.type,parameters:t.params})})),i=!i.length||i,e.modules.validate||(e.modules.validate={}),!0===i?(e.modules.validate.invalid=!1,e.getElement().classList.remove("tabulator-validation-fail"),r>-1&&this.invalidCells.splice(r,1)):(e.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&e.getElement().classList.add("tabulator-validation-fail"),-1==r&&this.invalidCells.push(e)),i},Q.prototype.getInvalidCells=function(){var t=[];return this.invalidCells.forEach((function(e){t.push(e.getComponent())})),t},Q.prototype.clearValidation=function(t){var e;t.modules.validate&&t.modules.validate.invalid&&(t.element.classList.remove("tabulator-validation-fail"),t.modules.validate.invalid=!1,e=this.invalidCells.indexOf(t),e>-1&&this.invalidCells.splice(e,1))},Q.prototype.validators={integer:function(t,e,n){return""===e||null===e||"undefined"===typeof e||(e=Number(e),"number"===typeof e&&isFinite(e)&&Math.floor(e)===e)},float:function(t,e,n){return""===e||null===e||"undefined"===typeof e||(e=Number(e),"number"===typeof e&&isFinite(e)&&e%1!==0)},numeric:function(t,e,n){return""===e||null===e||"undefined"===typeof e||!isNaN(e)},string:function(t,e,n){return""===e||null===e||"undefined"===typeof e||isNaN(e)},max:function(t,e,n){return""===e||null===e||"undefined"===typeof e||parseFloat(e)<=n},min:function(t,e,n){return""===e||null===e||"undefined"===typeof e||parseFloat(e)>=n},starts:function(t,e,n){return""===e||null===e||"undefined"===typeof e||String(e).toLowerCase().startsWith(String(n).toLowerCase())},ends:function(t,e,n){return""===e||null===e||"undefined"===typeof e||String(e).toLowerCase().endsWith(String(n).toLowerCase())},minLength:function(t,e,n){return""===e||null===e||"undefined"===typeof e||String(e).length>=n},maxLength:function(t,e,n){return""===e||null===e||"undefined"===typeof e||String(e).length<=n},in:function(t,e,n){return""===e||null===e||"undefined"===typeof e||("string"==typeof n&&(n=n.split("|")),""===e||n.indexOf(e)>-1)},regex:function(t,e,n){if(""===e||null===e||"undefined"===typeof e)return!0;var o=new RegExp(n);return o.test(e)},unique:function(t,e,n){if(""===e||null===e||"undefined"===typeof e)return!0;var o=!0,i=t.getData(),r=t.getColumn()._getSelf();return this.table.rowManager.rows.forEach((function(t){var n=t.getData();n!==i&&e==r.getFieldValue(n)&&(o=!1)})),o},required:function(t,e,n){return""!==e&&null!==e&&"undefined"!==typeof e}},h.prototype.registerModule("validate",Q),h}))},"3a38":function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},"3aef":function(t,e,n){},"3ed4":function(t,e,n){},"40c3":function(t,n,o){var i=o("6b4c"),r=o("5168")("toStringTag"),a="Arguments"==i(function(){return arguments}()),s=function(t,n){try{return t[n]}catch(e){}};t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),r))?n:a?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},"41a0":function(t,e,n){"use strict";var o=n("2aeb"),i=n("4630"),r=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=o(a,{next:i(1,n)}),r(t,e+" Iterator")}},4588:function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},"45f2":function(t,e,n){var o=n("d9f6").f,i=n("07e3"),r=n("5168")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,r)&&o(t,r,{configurable:!0,value:e})}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"467f":function(t,e,n){"use strict";var o=n("2d83");t.exports=function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e(o("Request failed with status code "+n.status,n.config,null,n.request,n))}},"481b":function(t,e){t.exports={}},"4a59":function(t,e,n){var o=n("9b43"),i=n("1fa8"),r=n("33a4"),a=n("cb7c"),s=n("9def"),l=n("27ee"),c={},u={};e=t.exports=function(t,e,n,d,h){var p,f,m,g,v=h?function(){return t}:l(t),y=o(n,d,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(r(v)){for(p=s(t.length);p>b;b++)if(g=e?y(a(f=t[b])[0],f[1]):y(t[b]),g===c||g===u)return g}else for(m=v.call(t);!(f=m.next()).done;)if(g=i(m,y,f.value,e),g===c||g===u)return g};e.BREAK=c,e.RETURN=u},"4a7b":function(t,e,n){"use strict";var o=n("c532");t.exports=function(t,e){e=e||{};var n={},i=["url","method","params","data"],r=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];o.forEach(i,(function(t){"undefined"!==typeof e[t]&&(n[t]=e[t])})),o.forEach(r,(function(i){o.isObject(e[i])?n[i]=o.deepMerge(t[i],e[i]):"undefined"!==typeof e[i]?n[i]=e[i]:o.isObject(t[i])?n[i]=o.deepMerge(t[i]):"undefined"!==typeof t[i]&&(n[i]=t[i])})),o.forEach(a,(function(o){"undefined"!==typeof e[o]?n[o]=e[o]:"undefined"!==typeof t[o]&&(n[o]=t[o])}));var s=i.concat(r).concat(a),l=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return o.forEach(l,(function(o){"undefined"!==typeof e[o]?n[o]=e[o]:"undefined"!==typeof t[o]&&(n[o]=t[o])})),n}},"4bf8":function(t,e,n){var o=n("be13");t.exports=function(t){return Object(o(t))}},"4c2c":function(t,e,n){"use strict";var o=n("98f0"),i=n.n(o);i.a},"4e46":function(t,e,n){},"4ee1":function(t,n,o){var i=o("5168")("iterator"),r=!1;try{var a=[7][i]();a["return"]=function(){r=!0},Array.from(a,(function(){throw 2}))}catch(e){}t.exports=function(t,n){if(!n&&!r)return!1;var o=!1;try{var a=[7],s=a[i]();s.next=function(){return{done:o=!0}},a[i]=function(){return s},t(a)}catch(e){}return o}},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5147:function(t,n,o){var i=o("2b4c")("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[i]=!1,!"/./"[t](n)}catch(o){}}return!0}},5168:function(t,e,n){var o=n("dbdb")("wks"),i=n("62a0"),r=n("e53d").Symbol,a="function"==typeof r,s=t.exports=function(t){return o[t]||(o[t]=a&&r[t]||(a?r:i)("Symbol."+t))};s.store=o},5270:function(t,e,n){"use strict";var o=n("c532"),i=n("c401"),r=n("2e67"),a=n("2444");function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){s(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=o.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),o.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||a.adapter;return e(t).then((function(e){return s(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return r(e)||(s(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"53e2":function(t,e,n){var o=n("07e3"),i=n("241e"),r=n("5559")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),o(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"549b":function(t,e,n){"use strict";var o=n("d864"),i=n("63b6"),r=n("241e"),a=n("b0dc"),s=n("3702"),l=n("b447"),c=n("20fd"),u=n("7cd6");i(i.S+i.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,d,h=r(t),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(h);if(g&&(m=o(m,f>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(e=l(h.length),n=new p(e);e>v;v++)c(n,v,g?m(h[v],v):h[v]);else for(d=y.call(h),n=new p;!(i=d.next()).done;v++)c(n,v,g?a(d,m,[i.value,v],!0):i.value);return n.length=v,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"551c":function(t,n,o){"use strict";var i,r,a,s,l=o("2d00"),c=o("7726"),u=o("9b43"),d=o("23c6"),h=o("5ca1"),p=o("d3f4"),f=o("d8e8"),m=o("f605"),g=o("4a59"),v=o("ebd6"),y=o("1991").set,b=o("8079")(),w=o("a5b8"),C=o("9c80"),x=o("a25f"),E=o("bcaa"),_="Promise",M=c.TypeError,R=c.process,S=R&&R.versions,k=S&&S.v8||"",T=c[_],L="process"==d(R),D=function(){},F=r=w.f,A=!!function(){try{var t=T.resolve(1),n=(t.constructor={})[o("2b4c")("species")]=function(t){t(D,D)};return(L||"function"==typeof PromiseRejectionEvent)&&t.then(D)instanceof n&&0!==k.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),P=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},z=function(t,n){if(!t._n){t._n=!0;var o=t._c;b((function(){var i=t._v,r=1==t._s,a=0,s=function(n){var o,a,s,l=r?n.ok:n.fail,c=n.resolve,u=n.reject,d=n.domain;try{l?(r||(2==t._h&&O(t),t._h=1),!0===l?o=i:(d&&d.enter(),o=l(i),d&&(d.exit(),s=!0)),o===n.promise?u(M("Promise-chain cycle")):(a=P(o))?a.call(o,c,u):c(o)):u(i)}catch(e){d&&!s&&d.exit(),u(e)}};while(o.length>a)s(o[a++]);t._c=[],t._n=!1,n&&!t._h&&N(t)}))}},N=function(t){y.call(c,(function(){var e,n,o,i=t._v,r=H(t);if(r&&(e=C((function(){L?R.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(o=c.console)&&o.error&&o.error("Unhandled promise rejection",i)})),t._h=L||H(t)?2:1),t._a=void 0,r&&e.e)throw e.v}))},H=function(t){return 1!==t._h&&0===(t._a||t._c).length},O=function(t){y.call(c,(function(){var e;L?R.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},I=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),z(e,!0))},V=function(t){var n,o=this;if(!o._d){o._d=!0,o=o._w||o;try{if(o===t)throw M("Promise can't be resolved itself");(n=P(t))?b((function(){var i={_w:o,_d:!1};try{n.call(t,u(V,i,1),u(I,i,1))}catch(e){I.call(i,e)}})):(o._v=t,o._s=1,z(o,!1))}catch(e){I.call({_w:o,_d:!1},e)}}};A||(T=function(t){m(this,T,_,"_h"),f(t),i.call(this);try{t(u(V,this,1),u(I,this,1))}catch(e){I.call(this,e)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=o("dcbc")(T.prototype,{then:function(t,e){var n=F(v(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=L?R.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&z(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new i;this.promise=t,this.resolve=u(V,t,1),this.reject=u(I,t,1)},w.f=F=function(t){return t===T||t===s?new a(t):r(t)}),h(h.G+h.W+h.F*!A,{Promise:T}),o("7f20")(T,_),o("7a56")(_),s=o("8378")[_],h(h.S+h.F*!A,_,{reject:function(t){var e=F(this),n=e.reject;return n(t),e.promise}}),h(h.S+h.F*(l||!A),_,{resolve:function(t){return E(l&&this===s?T:this,t)}}),h(h.S+h.F*!(A&&o("5cc5")((function(t){T.all(t)["catch"](D)}))),_,{all:function(t){var e=this,n=F(e),o=n.resolve,i=n.reject,r=C((function(){var n=[],r=0,a=1;g(t,!1,(function(t){var s=r++,l=!1;n.push(void 0),a++,e.resolve(t).then((function(t){l||(l=!0,n[s]=t,--a||o(n))}),i)})),--a||o(n)}));return r.e&&i(r.v),n.promise},race:function(t){var e=this,n=F(e),o=n.reject,i=C((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,o)}))}));return i.e&&o(i.v),n.promise}})},5537:function(t,e,n){var o=n("8378"),i=n("7726"),r="__core-js_shared__",a=i[r]||(i[r]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(t,e,n){var o=n("dbdb")("keys"),i=n("62a0");t.exports=function(t){return o[t]||(o[t]=i(t))}},"55dd":function(t,e,n){"use strict";var o=n("5ca1"),i=n("d8e8"),r=n("4bf8"),a=n("79e5"),s=[].sort,l=[1,2,3];o(o.P+o.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(r(this)):s.call(r(this),i(t))}})},"584a":function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},"5af5":function(t,e,n){"use strict";var o=n("3ed4"),i=n.n(o);i.a},"5b4e":function(t,e,n){var o=n("36c3"),i=n("b447"),r=n("0fc9");t.exports=function(t){return function(e,n,a){var s,l=o(e),c=i(l.length),u=r(a,c);if(t&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},"5ca1":function(t,e,n){var o=n("7726"),i=n("8378"),r=n("32e9"),a=n("2aba"),s=n("9b43"),l="prototype",c=function(t,e,n){var u,d,h,p,f=t&c.F,m=t&c.G,g=t&c.S,v=t&c.P,y=t&c.B,b=m?o:g?o[e]||(o[e]={}):(o[e]||{})[l],w=m?i:i[e]||(i[e]={}),C=w[l]||(w[l]={});for(u in m&&(n=e),n)d=!f&&b&&void 0!==b[u],h=(d?b:n)[u],p=y&&d?s(h,o):v&&"function"==typeof h?s(Function.call,h):h,b&&a(b,u,h,t&c.U),w[u]!=h&&r(w,u,p),v&&C[u]!=h&&(C[u]=h)};o.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"5cc5":function(t,n,o){var i=o("2b4c")("iterator"),r=!1;try{var a=[7][i]();a["return"]=function(){r=!0},Array.from(a,(function(){throw 2}))}catch(e){}t.exports=function(t,n){if(!n&&!r)return!1;var o=!1;try{var a=[7],s=a[i]();s.next=function(){return{done:o=!0}},a[i]=function(){return s},t(a)}catch(e){}return o}},"5dbc":function(t,e,n){var o=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var r,a=e.constructor;return a!==n&&"function"==typeof a&&(r=a.prototype)!==n.prototype&&o(r)&&i&&i(t,r),t}},"5f65":function(t,e,n){},"613b":function(t,e,n){var o=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return o[t]||(o[t]=i(t))}},"626a":function(t,e,n){var o=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},"62a0":function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},"63b6":function(t,e,n){var o=n("e53d"),i=n("584a"),r=n("d864"),a=n("35e8"),s=n("07e3"),l="prototype",c=function(t,e,n){var u,d,h,p=t&c.F,f=t&c.G,m=t&c.S,g=t&c.P,v=t&c.B,y=t&c.W,b=f?i:i[e]||(i[e]={}),w=b[l],C=f?o:m?o[e]:(o[e]||{})[l];for(u in f&&(n=e),n)d=!p&&C&&void 0!==C[u],d&&s(b,u)||(h=d?C[u]:n[u],b[u]=f&&"function"!=typeof C[u]?n[u]:v&&d?r(h,o):y&&C[u]==h?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e[l]=t[l],e}(h):g&&"function"==typeof h?r(Function.call,h):h,g&&((b.virtual||(b.virtual={}))[u]=h,t&c.R&&w&&!w[u]&&a(w,u,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},6762:function(t,e,n){"use strict";var o=n("5ca1"),i=n("c366")(!0);o(o.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(t,e,n){var o=n("626a"),i=n("be13");t.exports=function(t){return o(i(t))}},"68db":function(t,e,n){},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var o=n("d3f4");t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"6b4c":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"6c1c":function(t,e,n){n("c367");for(var o=n("e53d"),i=n("35e8"),r=n("481b"),a=n("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=o[c],d=u&&u.prototype;d&&!d[a]&&i(d,a,c),r[c]=r.Array}},"71c1":function(t,e,n){var o=n("3a38"),i=n("25eb");t.exports=function(t){return function(e,n){var r,a,s=String(i(e)),l=o(n),c=s.length;return l<0||l>=c?t?"":void 0:(r=s.charCodeAt(l),r<55296||r>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):r:t?s.slice(l,l+2):a-56320+(r-55296<<10)+65536)}}},7514:function(t,e,n){"use strict";var o=n("5ca1"),i=n("0a49")(5),r="find",a=!0;r in[]&&Array(1)[r]((function(){a=!1})),o(o.P+o.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(r)},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"774e":function(t,e,n){t.exports=n("d2d5")},"77f1":function(t,e,n){var o=n("4588"),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")((function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a}))},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,n){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a56":function(t,e,n){"use strict";var o=n("7726"),i=n("86cc"),r=n("9e1e"),a=n("2b4c")("species");t.exports=function(t){var e=o[t];r&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},"7a77":function(t,e,n){"use strict";function o(t){this.message=t}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,t.exports=o},"7aac":function(t,e,n){"use strict";var o=n("c532");t.exports=o.isStandardBrowserEnv()?function(){return{write:function(t,e,n,i,r,a){var s=[];s.push(t+"="+encodeURIComponent(e)),o.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),o.isString(i)&&s.push("path="+i),o.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7ab1":function(t,e,n){},"7cd6":function(t,e,n){var o=n("40c3"),i=n("5168")("iterator"),r=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||r[o(t)]}},"7e81":function(t,e,n){"use strict";var o=n("68db"),i=n.n(o);i.a},"7e90":function(t,e,n){var o=n("d9f6"),i=n("e4ae"),r=n("c3a1");t.exports=n("8e60")?Object.defineProperties:function(t,e){i(t);var n,a=r(e),s=a.length,l=0;while(s>l)o.f(t,n=a[l++],e[n]);return t}},"7f20":function(t,e,n){var o=n("86cc").f,i=n("69a8"),r=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,r)&&o(t,r,{configurable:!0,value:e})}},"7f7f":function(t,n,o){var i=o("86cc").f,r=Function.prototype,a=/^\s*function ([^ (]*)/,s="name";s in r||o("9e1e")&&i(r,s,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},8079:function(t,n,o){var i=o("7726"),r=o("1991").set,a=i.MutationObserver||i.WebKitMutationObserver,s=i.process,l=i.Promise,c="process"==o("2d95")(s);t.exports=function(){var t,n,o,u=function(){var i,r;c&&(i=s.domain)&&i.exit();while(t){r=t.fn,t=t.next;try{r()}catch(e){throw t?o():n=void 0,e}}n=void 0,i&&i.enter()};if(c)o=function(){s.nextTick(u)};else if(!a||i.navigator&&i.navigator.standalone)if(l&&l.resolve){var d=l.resolve(void 0);o=function(){d.then(u)}}else o=function(){r.call(i,u)};else{var h=!0,p=document.createTextNode("");new a(u).observe(p,{characterData:!0}),o=function(){p.data=h=!h}}return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,o()),n=i}}},8378:function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},"83b9":function(t,e,n){"use strict";var o=n("d925"),i=n("e683");t.exports=function(t,e){return t&&!o(e)?i(t,e):e}},8436:function(t,e){t.exports=function(){}},"84f2":function(t,e){t.exports={}},"86cc":function(t,n,o){var i=o("cb7c"),r=o("c69a"),a=o("6a99"),s=Object.defineProperty;n.f=o("9e1e")?Object.defineProperty:function(t,n,o){if(i(t),n=a(n,!0),i(o),r)try{return s(t,n,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(t[n]=o.value),t}},"8b97":function(t,n,o){var i=o("d3f4"),r=o("cb7c"),a=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{i=o("9b43")(Function.call,o("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(t,e){return a(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:a}},"8df4":function(t,e,n){"use strict";var o=n("7a77");function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new o(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t,e=new i((function(e){t=e}));return{token:e,cancel:t}},t.exports=i},"8e60":function(t,e,n){t.exports=!n("294c")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"8f60":function(t,e,n){"use strict";var o=n("a159"),i=n("aebd"),r=n("45f2"),a={};n("35e8")(a,n("5168")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=o(a,{next:i(1,n)}),r(t,e+" Iterator")}},9003:function(t,e,n){var o=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==o(t)}},9093:function(t,e,n){var o=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},9138:function(t,e,n){t.exports=n("35e8")},9160:function(t,e,n){"use strict";var o=n("bcb1"),i=n.n(o);i.a},"95d5":function(t,e,n){var o=n("40c3"),i=n("5168")("iterator"),r=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||r.hasOwnProperty(o(e))}},"98f0":function(t,e,n){},"9aec":function(t,e,n){"use strict";var o=n("0e09"),i=n.n(o);i.a},"9b43":function(t,e,n){var o=n("d8e8");t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var o=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[o]&&n("32e9")(i,o,{}),t.exports=function(t){i[o][t]=!0}},"9c80":function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"9def":function(t,e,n){var o=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a159:function(t,e,n){var o=n("e4ae"),i=n("7e90"),r=n("1691"),a=n("5559")("IE_PROTO"),s=function(){},l="prototype",c=function(){var t,e=n("1ec9")("iframe"),o=r.length,i="<",a=">";e.style.display="none",n("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),c=t.F;while(o--)delete c[l][r[o]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[l]=o(t),n=new s,s[l]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},a25f:function(t,e,n){var o=n("7726"),i=o.navigator;t.exports=i&&i.userAgent||""},a5b8:function(t,e,n){"use strict";var o=n("d8e8");function i(t){var e,n;this.promise=new t((function(t,o){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=o})),this.resolve=o(e),this.reject=o(n)}t.exports.f=function(t){return new i(t)}},a745:function(t,e,n){t.exports=n("f410")},aa77:function(t,e,n){var o=n("5ca1"),i=n("be13"),r=n("79e5"),a=n("fdef"),s="["+a+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(t,e,n){var i={},s=r((function(){return!!a[t]()||l[t]()!=l})),c=i[t]=s?e(h):a[t];n&&(i[n]=c),o(o.P+o.F*s,"String",i)},h=d.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},aae3:function(t,e,n){var o=n("d3f4"),i=n("2d95"),r=n("2b4c")("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==i(t))}},ac6a:function(t,e,n){for(var o=n("cadf"),i=n("0d58"),r=n("2aba"),a=n("7726"),s=n("32e9"),l=n("84f2"),c=n("2b4c"),u=c("iterator"),d=c("toStringTag"),h=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(p),m=0;m<f.length;m++){var g,v=f[m],y=p[v],b=a[v],w=b&&b.prototype;if(w&&(w[u]||s(w,u,h),w[d]||s(w,d,v),l[v]=h,y))for(g in o)w[g]||r(w,g,o[g],!0)}},ad3d:function(t,n,o){"use strict";(function(t){o.d(n,"a",(function(){return E}));var i=o("ecee"),r="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function a(t,e){return e={exports:{}},t(e,e.exports),e.exports}var s=a((function(t){(function(e){var n=function(t,e,o){if(!c(e)||d(e)||h(e)||p(e)||l(e))return e;var i,r=0,a=0;if(u(e))for(i=[],a=e.length;r<a;r++)i.push(n(t,e[r],o));else for(var s in i={},e)Object.prototype.hasOwnProperty.call(e,s)&&(i[t(s,o)]=n(t,e[s],o));return i},o=function(t,e){e=e||{};var n=e.separator||"_",o=e.split||/(?=[A-Z])/;return t.split(o).join(n)},i=function(t){return f(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,(function(t,e){return e?e.toUpperCase():""})),t.substr(0,1).toLowerCase()+t.substr(1))},r=function(t){var e=i(t);return e.substr(0,1).toUpperCase()+e.substr(1)},a=function(t,e){return o(t,e).toLowerCase()},s=Object.prototype.toString,l=function(t){return"function"===typeof t},c=function(t){return t===Object(t)},u=function(t){return"[object Array]"==s.call(t)},d=function(t){return"[object Date]"==s.call(t)},h=function(t){return"[object RegExp]"==s.call(t)},p=function(t){return"[object Boolean]"==s.call(t)},f=function(t){return t-=0,t===t},m=function(t,e){var n=e&&"process"in e?e.process:e;return"function"!==typeof n?t:function(e,o){return n(e,t,o)}},g={camelize:i,decamelize:a,pascalize:r,depascalize:a,camelizeKeys:function(t,e){return n(m(i,e),t)},decamelizeKeys:function(t,e){return n(m(a,e),t,e)},pascalizeKeys:function(t,e){return n(m(r,e),t)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=g:e.humps=g})(r)})),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},d=function(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},h=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};function p(t){return t.split(";").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.indexOf(":"),o=s.camelize(e.slice(0,n)),i=e.slice(n+1).trim();return t[o]=i,t}),{})}function f(t){return t.split(/\s+/).reduce((function(t,e){return t[e]=!0,t}),{})}function m(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return Array.isArray(e)?t=t.concat(e):t.push(e),t}),[])}function g(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(e.children||[]).map(g.bind(null,t)),r=Object.keys(e.attributes||{}).reduce((function(t,n){var o=e.attributes[n];switch(n){case"class":t["class"]=f(o);break;case"style":t["style"]=p(o);break;default:t.attrs[n]=o}return t}),{class:{},style:{},attrs:{}}),a=o.class,s=void 0===a?{}:a,l=o.style,c=void 0===l?{}:l,h=o.attrs,v=void 0===h?{}:h,y=d(o,["class","style","attrs"]);return"string"===typeof e?e:t(e.tag,u({class:m(r.class,s),style:u({},r.style,c),attrs:u({},r.attrs,v)},y,{props:n}),i)}var v=!1;try{v=!0}catch(e){}function y(){var t;!v&&console&&"function"===typeof console.error&&(t=console).error.apply(t,arguments)}function b(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?c({},t,e):{}}function w(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip},c(e,"fa-"+t.size,null!==t.size),c(e,"fa-rotate-"+t.rotation,null!==t.rotation),c(e,"fa-pull-"+t.pull,null!==t.pull),c(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(n).map((function(t){return n[t]?t:null})).filter((function(t){return t}))}function C(t,e){var n=0===(t||"").length?[]:[t];return n.concat(e).join(" ")}function x(t){return null===t?null:"object"===("undefined"===typeof t?"undefined":l(t))&&t.prefix&&t.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"===typeof t?{prefix:"fas",iconName:t}:void 0}var E={name:"FontAwesomeIcon",functional:!0,props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:String,default:null,validator:function(t){return["horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1}},render:function(t,e){var n=e.props,o=n.icon,r=n.mask,a=n.symbol,s=n.title,l=x(o),c=b("classes",w(n)),d=b("transform","string"===typeof n.transform?i["c"].transform(n.transform):n.transform),h=b("mask",x(r)),p=Object(i["b"])(l,u({},c,d,h,{symbol:a,title:s}));if(!p)return y("Could not find one or more icon(s)",l,h);var f=p.abstract,m=g.bind(null,t);return m(f[0],{},e.data)}};Boolean,Boolean}).call(this,o("c8ba"))},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b0dc:function(t,n,o){var i=o("e4ae");t.exports=function(t,n,o,r){try{return r?n(i(o)[0],o[1]):n(o)}catch(e){var a=t["return"];throw void 0!==a&&i(a.call(t)),e}}},b447:function(t,e,n){var o=n("3a38"),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},b50d:function(t,n,o){"use strict";var i=o("c532"),r=o("467f"),a=o("30b5"),s=o("83b9"),l=o("c345"),c=o("3934"),u=o("2d83");t.exports=function(t){return new Promise((function(n,d){var h=t.data,p=t.headers;i.isFormData(h)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var m=t.auth.username||"",g=t.auth.password||"";p.Authorization="Basic "+btoa(m+":"+g)}var v=s(t.baseURL,t.url);if(f.open(t.method.toUpperCase(),a(v,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in f?l(f.getAllResponseHeaders()):null,o=t.responseType&&"text"!==t.responseType?f.response:f.responseText,i={data:o,status:f.status,statusText:f.statusText,headers:e,config:t,request:f};r(n,d,i),f=null}},f.onabort=function(){f&&(d(u("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){d(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),d(u(e,t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var y=o("7aac"),b=(t.withCredentials||c(v))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;b&&(p[t.xsrfHeaderName]=b)}if("setRequestHeader"in f&&i.forEach(p,(function(t,e){"undefined"===typeof h&&"content-type"===e.toLowerCase()?delete p[e]:f.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"===typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),d(t),f=null)})),void 0===h&&(h=null),f.send(h)}))}},b8e3:function(t,e){t.exports=!0},bc3a:function(t,e,n){t.exports=n("cee4")},bcaa:function(t,e,n){var o=n("cb7c"),i=n("d3f4"),r=n("a5b8");t.exports=function(t,e){if(o(t),i(e)&&e.constructor===t)return e;var n=r.f(t),a=n.resolve;return a(e),n.promise}},bcb1:function(t,e,n){},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c345:function(t,e,n){"use strict";var o=n("c532"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,r,a={};return t?(o.forEach(t.split("\n"),(function(t){if(r=t.indexOf(":"),e=o.trim(t.substr(0,r)).toLowerCase(),n=o.trim(t.substr(r+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},c366:function(t,e,n){var o=n("6821"),i=n("9def"),r=n("77f1");t.exports=function(t){return function(e,n,a){var s,l=o(e),c=i(l.length),u=r(a,c);if(t&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},c367:function(t,e,n){"use strict";var o=n("8436"),i=n("50ed"),r=n("481b"),a=n("36c3");t.exports=n("30f1")(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},c3a1:function(t,e,n){var o=n("e6f3"),i=n("1691");t.exports=Object.keys||function(t){return o(t,i)}},c401:function(t,e,n){"use strict";var o=n("c532");t.exports=function(t,e,n){return o.forEach(n,(function(n){t=n(t,e)})),t}},c532:function(t,e,n){"use strict";var o=n("1d2b"),i=Object.prototype.toString;function r(t){return"[object Array]"===i.call(t)}function a(t){return"undefined"===typeof t}function s(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function l(t){return"[object ArrayBuffer]"===i.call(t)}function c(t){return"undefined"!==typeof FormData&&t instanceof FormData}function u(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function d(t){return"string"===typeof t}function h(t){return"number"===typeof t}function p(t){return null!==t&&"object"===typeof t}function f(t){return"[object Date]"===i.call(t)}function m(t){return"[object File]"===i.call(t)}function g(t){return"[object Blob]"===i.call(t)}function v(t){return"[object Function]"===i.call(t)}function y(t){return p(t)&&v(t.pipe)}function b(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function w(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function C(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function x(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),r(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function E(){var t={};function e(e,n){"object"===typeof t[n]&&"object"===typeof e?t[n]=E(t[n],e):t[n]=e}for(var n=0,o=arguments.length;n<o;n++)x(arguments[n],e);return t}function _(){var t={};function e(e,n){"object"===typeof t[n]&&"object"===typeof e?t[n]=_(t[n],e):t[n]="object"===typeof e?_({},e):e}for(var n=0,o=arguments.length;n<o;n++)x(arguments[n],e);return t}function M(t,e,n){return x(e,(function(e,i){t[i]=n&&"function"===typeof e?o(e,n):e})),t}t.exports={isArray:r,isArrayBuffer:l,isBuffer:s,isFormData:c,isArrayBufferView:u,isString:d,isNumber:h,isObject:p,isUndefined:a,isDate:f,isFile:m,isBlob:g,isFunction:v,isStream:y,isURLSearchParams:b,isStandardBrowserEnv:C,forEach:x,merge:E,deepMerge:_,extend:M,trim:w}},c5f6:function(t,e,n){"use strict";var o=n("7726"),i=n("69a8"),r=n("2d95"),a=n("5dbc"),s=n("6a99"),l=n("79e5"),c=n("9093").f,u=n("11e9").f,d=n("86cc").f,h=n("aa77").trim,p="Number",f=o[p],m=f,g=f.prototype,v=r(n("2aeb")(g))==p,y="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():h(e,3);var n,o,i,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+e}for(var a,l=e.slice(2),c=0,u=l.length;c<u;c++)if(a=l.charCodeAt(c),a<48||a>i)return NaN;return parseInt(l,o)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(v?l((function(){g.valueOf.call(n)})):r(n)!=p)?a(new m(b(e)),n,f):b(e)};for(var w,C=n("9e1e")?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;C.length>x;x++)i(m,w=C[x])&&!i(f,w)&&d(f,w,u(m,w));f.prototype=g,g.constructor=f,n("2aba")(o,p,f)}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8af:function(t,e,n){"use strict";var o=n("c532");t.exports=function(t,e){o.forEach(t,(function(n,o){o!==e&&o.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[o])}))}},c8ba:function(t,n){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"===typeof window&&(o=window)}t.exports=o},c8bb:function(t,e,n){t.exports=n("54a1")},ca5a:function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},cadf:function(t,e,n){"use strict";var o=n("9c6c"),i=n("d53b"),r=n("84f2"),a=n("6821");t.exports=n("01f9")(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},cb7c:function(t,e,n){var o=n("d3f4");t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},cd1c:function(t,e,n){var o=n("e853");t.exports=function(t,e){return new(o(t))(e)}},cd62:function(t,e,n){},ce10:function(t,e,n){var o=n("69a8"),i=n("6821"),r=n("c366")(!1),a=n("613b")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,c=[];for(n in s)n!=a&&o(s,n)&&c.push(n);while(e.length>l)o(s,n=e[l++])&&(~r(c,n)||c.push(n));return c}},cee4:function(t,e,n){"use strict";var o=n("c532"),i=n("1d2b"),r=n("0a06"),a=n("4a7b"),s=n("2444");function l(t){var e=new r(t),n=i(r.prototype.request,e);return o.extend(n,r.prototype,e),o.extend(n,e),n}var c=l(s);c.Axios=r,c.create=function(t){return l(a(c.defaults,t))},c.Cancel=n("7a77"),c.CancelToken=n("8df4"),c.isCancel=n("2e67"),c.all=function(t){return Promise.all(t)},c.spread=n("0df6"),t.exports=c,t.exports.default=c},d2c8:function(t,e,n){var o=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(o(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d864:function(t,e,n){var o=n("79aa");t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d925:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},d9f6:function(t,n,o){var i=o("e4ae"),r=o("794b"),a=o("1bc3"),s=Object.defineProperty;n.f=o("8e60")?Object.defineProperty:function(t,n,o){if(i(t),n=a(n,!0),i(o),r)try{return s(t,n,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(t[n]=o.value),t}},dbdb:function(t,e,n){var o=n("584a"),i=n("e53d"),r="__core-js_shared__",a=i[r]||(i[r]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},dcbc:function(t,e,n){var o=n("2aba");t.exports=function(t,e,n){for(var i in e)o(t,i,e[i],n);return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e4ae:function(t,e,n){var o=n("f772");t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e683:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e6f3:function(t,e,n){var o=n("07e3"),i=n("36c3"),r=n("5b4e")(!1),a=n("5559")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,c=[];for(n in s)n!=a&&o(s,n)&&c.push(n);while(e.length>l)o(s,n=e[l++])&&(~r(c,n)||c.push(n));return c}},e853:function(t,e,n){var o=n("d3f4"),i=n("1169"),r=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),o(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},e951:function(t,e,n){"use strict";var o=n("cd62"),i=n.n(o);i.a},ebd6:function(t,e,n){var o=n("cb7c"),i=n("d8e8"),r=n("2b4c")("species");t.exports=function(t,e){var n,a=o(t).constructor;return void 0===a||void 0==(n=o(a)[r])?e:i(n)}},ecee:function(t,n,o){"use strict";(function(t){function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){l(t,e,n[e])}))}return t}function u(t,e){return p(t)||m(t,e)||v()}function d(t){return h(t)||f(t)||g()}function h(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function p(t){if(Array.isArray(t))return t}function f(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function m(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done);o=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){i=!0,r=l}finally{try{o||null==s["return"]||s["return"]()}finally{if(i)throw r}}return n}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}o.d(n,"b",(function(){return ce})),o.d(n,"a",(function(){return G})),o.d(n,"d",(function(){return ue})),o.d(n,"c",(function(){return le}));var y=function(){},b={},w={},C={mark:y,measure:y};try{"undefined"!==typeof window&&(b=window),"undefined"!==typeof document&&(w=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(C=performance)}catch(e){}var x=b.navigator||{},E=x.userAgent,_=void 0===E?"":E,M=b,R=w,S=C,k=(M.document,!!R.documentElement&&!!R.head&&"function"===typeof R.addEventListener&&"function"===typeof R.createElement),T=~_.indexOf("MSIE")||~_.indexOf("Trident/"),L="___FONT_AWESOME___",D=16,F="fa",A="svg-inline--fa",P="data-fa-i2svg",z=(function(){try{}catch(e){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),N=z.concat([11,12,13,14,15,16,17,18,19,20]),H={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},O=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",H.GROUP,H.SWAP_OPACITY,H.PRIMARY,H.SECONDARY].concat(z.map((function(t){return"".concat(t,"x")}))).concat(N.map((function(t){return"w-".concat(t)}))),M.FontAwesomeConfig||{});function I(t){var e=R.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function V(t){return""===t||"false"!==t&&("true"===t||t)}if(R&&"function"===typeof R.querySelector){var j=[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];j.forEach((function(t){var e=u(t,2),n=e[0],o=e[1],i=V(I(n));void 0!==i&&null!==i&&(O[o]=i)}))}var q={familyPrefix:F,replacementClass:A,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},B=c({},q,O);B.autoReplaceSvg||(B.observeMutations=!1);var G=c({},B);M.FontAwesomeConfig=G;var W=M||{};W[L]||(W[L]={}),W[L].styles||(W[L].styles={}),W[L].hooks||(W[L].hooks={}),W[L].shims||(W[L].shims=[]);var U=W[L],$=[],X=function t(){R.removeEventListener("DOMContentLoaded",t),Y=1,$.map((function(t){return t()}))},Y=!1;k&&(Y=(R.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(R.readyState),Y||R.addEventListener("DOMContentLoaded",X));var Q,J="pending",K="settled",Z="fulfilled",tt="rejected",et=function(){},nt="undefined"!==typeof t&&"undefined"!==typeof t.process&&"function"===typeof t.process.emit,ot="undefined"===typeof setImmediate?setTimeout:setImmediate,it=[];function rt(){for(var t=0;t<it.length;t++)it[t][0](it[t][1]);it=[],Q=!1}function at(t,e){it.push([t,e]),Q||(Q=!0,ot(rt,0))}function st(t,n){function o(t){ut(n,t)}function i(t){ht(n,t)}try{t(o,i)}catch(e){i(e)}}function lt(t){var n=t.owner,o=n._state,i=n._data,r=t[o],a=t.then;if("function"===typeof r){o=Z;try{i=r(i)}catch(e){ht(a,e)}}ct(a,i)||(o===Z&&ut(a,i),o===tt&&ht(a,i))}function ct(t,n){var o;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"===typeof n||"object"===i(n))){var r=n.then;if("function"===typeof r)return r.call(n,(function(e){o||(o=!0,n===e?dt(t,e):ut(t,e))}),(function(e){o||(o=!0,ht(t,e))})),!0}}catch(e){return o||ht(t,e),!0}return!1}function ut(t,e){t!==e&&ct(t,e)||dt(t,e)}function dt(t,e){t._state===J&&(t._state=K,t._data=e,at(ft,t))}function ht(t,e){t._state===J&&(t._state=K,t._data=e,at(mt,t))}function pt(t){t._then=t._then.forEach(lt)}function ft(t){t._state=Z,pt(t)}function mt(e){e._state=tt,pt(e),!e._handled&&nt&&t.process.emit("unhandledRejection",e._data,e)}function gt(e){t.process.emit("rejectionHandled",e)}function vt(t){if("function"!==typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof vt===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],st(t,this)}vt.prototype={constructor:vt,_state:J,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(et),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===tt&&nt&&at(gt,this)),this._state===Z||this._state===tt?at(lt,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},vt.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new vt((function(e,n){var o=[],i=0;function r(t){return i++,function(n){o[t]=n,--i||e(o)}}for(var a,s=0;s<t.length;s++)a=t[s],a&&"function"===typeof a.then?a.then(r(s),n):o[s]=a;i||e(o)}))},vt.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new vt((function(e,n){for(var o,i=0;i<t.length;i++)o=t[i],o&&"function"===typeof o.then?o.then(e,n):e(o)}))},vt.resolve=function(t){return t&&"object"===i(t)&&t.constructor===vt?t:new vt((function(e){e(t)}))},vt.reject=function(t){return new vt((function(e,n){n(t)}))};var yt=D,bt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function wt(t){if(t&&k){var e=R.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=R.head.childNodes,o=null,i=n.length-1;i>-1;i--){var r=n[i],a=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(o=r)}return R.head.insertBefore(e,o),t}}var Ct="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function xt(){var t=12,e="";while(t-- >0)e+=Ct[62*Math.random()|0];return e}function Et(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _t(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(Et(t[n]),'" ')}),"").trim()}function Mt(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,": ").concat(t[n],";")}),"")}function Rt(t){return t.size!==bt.size||t.x!==bt.x||t.y!==bt.y||t.rotate!==bt.rotate||t.flipX||t.flipY}function St(t){var e=t.transform,n=t.containerWidth,o=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(r," ").concat(a," ").concat(s)},c={transform:"translate(".concat(o/2*-1," -256)")};return{outer:i,inner:l,path:c}}function kt(t){var e=t.transform,n=t.width,o=void 0===n?D:n,i=t.height,r=void 0===i?D:i,a=t.startCentered,s=void 0!==a&&a,l="";return l+=s&&T?"translate(".concat(e.x/yt-o/2,"em, ").concat(e.y/yt-r/2,"em) "):s?"translate(calc(-50% + ".concat(e.x/yt,"em), calc(-50% + ").concat(e.y/yt,"em)) "):"translate(".concat(e.x/yt,"em, ").concat(e.y/yt,"em) "),l+="scale(".concat(e.size/yt*(e.flipX?-1:1),", ").concat(e.size/yt*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var Tt={x:0,y:0,width:"100%",height:"100%"};function Lt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Dt(t){return"g"===t.tag?t.children:[t]}function Ft(t){var e=t.children,n=t.attributes,o=t.main,i=t.mask,r=t.maskId,a=t.transform,s=o.width,l=o.icon,u=i.width,d=i.icon,h=St({transform:a,containerWidth:u,iconWidth:s}),p={tag:"rect",attributes:c({},Tt,{fill:"white"})},f=l.children?{children:l.children.map(Lt)}:{},m={tag:"g",attributes:c({},h.inner),children:[Lt(c({tag:l.tag,attributes:c({},l.attributes,h.path)},f))]},g={tag:"g",attributes:c({},h.outer),children:[m]},v="mask-".concat(r||xt()),y="clip-".concat(r||xt()),b={tag:"mask",attributes:c({},Tt,{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,g]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:Dt(d)},b]};return e.push(w,{tag:"rect",attributes:c({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(v,")")},Tt)}),{children:e,attributes:n}}function At(t){var e=t.children,n=t.attributes,o=t.main,i=t.transform,r=t.styles,a=Mt(r);if(a.length>0&&(n["style"]=a),Rt(i)){var s=St({transform:i,containerWidth:o.width,iconWidth:o.width});e.push({tag:"g",attributes:c({},s.outer),children:[{tag:"g",attributes:c({},s.inner),children:[{tag:o.icon.tag,children:o.icon.children,attributes:c({},o.icon.attributes,s.path)}]}]})}else e.push(o.icon);return{children:e,attributes:n}}function Pt(t){var e=t.children,n=t.main,o=t.mask,i=t.attributes,r=t.styles,a=t.transform;if(Rt(a)&&n.found&&!o.found){var s=n.width,l=n.height,u={x:s/l/2,y:.5};i["style"]=Mt(c({},r,{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function zt(t){var e=t.prefix,n=t.iconName,o=t.children,i=t.attributes,r=t.symbol,a=!0===r?"".concat(e,"-").concat(G.familyPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:c({},i,{id:a}),children:o}]}]}function Nt(t){var e=t.icons,n=e.main,o=e.mask,i=t.prefix,r=t.iconName,a=t.transform,s=t.symbol,l=t.title,u=t.maskId,d=t.titleId,h=t.extra,p=t.watchable,f=void 0!==p&&p,m=o.found?o:n,g=m.width,v=m.height,y="fa-w-".concat(Math.ceil(g/v*16)),b=[G.replacementClass,r?"".concat(G.familyPrefix,"-").concat(r):"",y].filter((function(t){return-1===h.classes.indexOf(t)})).concat(h.classes).join(" "),w={children:[],attributes:c({},h.attributes,{"data-prefix":i,"data-icon":r,class:b,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})};f&&(w.attributes[P]=""),l&&w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(d||xt())},children:[l]});var C=c({},w,{prefix:i,iconName:r,main:n,mask:o,maskId:u,transform:a,symbol:s,styles:h.styles}),x=o.found&&n.found?Ft(C):At(C),E=x.children,_=x.attributes;return C.children=E,C.attributes=_,s?zt(C):Pt(C)}function Ht(t){var e=t.content,n=t.width,o=t.height,i=t.transform,r=t.title,a=t.extra,s=t.watchable,l=void 0!==s&&s,u=c({},a.attributes,r?{title:r}:{},{class:a.classes.join(" ")});l&&(u[P]="");var d=c({},a.styles);Rt(i)&&(d["transform"]=kt({transform:i,startCentered:!0,width:n,height:o}),d["-webkit-transform"]=d["transform"]);var h=Mt(d);h.length>0&&(u["style"]=h);var p=[];return p.push({tag:"span",attributes:u,children:[e]}),r&&p.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),p}var Ot=function(){},It=(G.measurePerformance&&S&&S.mark&&S.measure,function(t,e){return function(n,o,i,r){return t.call(e,n,o,i,r)}}),Vt=function(t,e,n,o){var i,r,a,s=Object.keys(t),l=s.length,c=void 0!==o?It(e,o):e;for(void 0===n?(i=1,a=t[s[0]]):(i=0,a=n);i<l;i++)r=s[i],a=c(a,t[r],r,t);return a};function jt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.skipHooks,i=void 0!==o&&o,r=Object.keys(e).reduce((function(t,n){var o=e[n],i=!!o.icon;return i?t[o.iconName]=o.icon:t[n]=o,t}),{});"function"!==typeof U.hooks.addPack||i?U.styles[t]=c({},U.styles[t]||{},r):U.hooks.addPack(t,r),"fas"===t&&jt("fa",e)}var qt=U.styles,Bt=U.shims,Gt=function(){var t=function(t){return Vt(qt,(function(e,n,o){return e[o]=Vt(n,t,{}),e}),{})};t((function(t,e,n){return e[3]&&(t[e[3]]=n),t})),t((function(t,e,n){var o=e[2];return t[n]=n,o.forEach((function(e){t[e]=n})),t}));var e="far"in qt;Vt(Bt,(function(t,n){var o=n[0],i=n[1],r=n[2];return"far"!==i||e||(i="fas"),t[o]={prefix:i,iconName:r},t}),{})};Gt();U.styles;function Wt(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function Ut(t){var e=t.tag,n=t.attributes,o=void 0===n?{}:n,i=t.children,r=void 0===i?[]:i;return"string"===typeof t?Et(t):"<".concat(e," ").concat(_t(o),">").concat(r.map(Ut).join(""),"</").concat(e,">")}var $t=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce((function(t,e){var n=e.toLowerCase().split("-"),o=n[0],i=n.slice(1).join("-");if(o&&"h"===i)return t.flipX=!0,t;if(o&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(o){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i;break}return t}),e):e};function Xt(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}Xt.prototype=Object.create(Error.prototype),Xt.prototype.constructor=Xt;var Yt={fill:"currentColor"},Qt={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Jt=(c({},Yt,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),c({},Qt,{attributeName:"opacity"}));c({},Yt,{cx:"256",cy:"364",r:"28"}),c({},Qt,{attributeName:"r",values:"28;14;28;28;14;28;"}),c({},Jt,{values:"1;0;1;1;0;1;"}),c({},Yt,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),c({},Jt,{values:"1;0;0;0;0;1;"}),c({},Yt,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),c({},Jt,{values:"0;0;1;1;0;0;"}),U.styles;function Kt(t){var e=t[0],n=t[1],o=t.slice(4),i=u(o,1),r=i[0],a=null;return a=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(G.familyPrefix,"-").concat(H.GROUP)},children:[{tag:"path",attributes:{class:"".concat(G.familyPrefix,"-").concat(H.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(G.familyPrefix,"-").concat(H.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:a}}U.styles;var Zt='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';function te(){var t=F,e=A,n=G.familyPrefix,o=G.replacementClass,i=Zt;if(n!==t||o!==e){var r=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),s=new RegExp("\\.".concat(e),"g");i=i.replace(r,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(o))}return i}var ee=function(){function t(){r(this,t),this.definitions={}}return s(t,[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(e){t.definitions[e]=c({},t.definitions[e]||{},i[e]),jt(e,i[e]),Gt()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((function(e){var o=n[e],i=o.prefix,r=o.iconName,a=o.icon;t[i]||(t[i]={}),t[i][r]=a})),t}}]),t}();function ne(){G.autoAddCss&&!se&&(wt(te()),se=!0)}function oe(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(t){return Ut(t)}))}}),Object.defineProperty(t,"node",{get:function(){if(k){var e=R.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function ie(t){var e=t.prefix,n=void 0===e?"fa":e,o=t.iconName;if(o)return Wt(ae.definitions,n,o)||Wt(U.styles,n,o)}function re(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(e||{}).icon?e:ie(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:ie(i||{})),t(o,c({},n,{mask:i}))}}var ae=new ee,se=!1,le={transform:function(t){return $t(t)}},ce=re((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,o=void 0===n?bt:n,i=e.symbol,r=void 0!==i&&i,a=e.mask,s=void 0===a?null:a,l=e.maskId,u=void 0===l?null:l,d=e.title,h=void 0===d?null:d,p=e.titleId,f=void 0===p?null:p,m=e.classes,g=void 0===m?[]:m,v=e.attributes,y=void 0===v?{}:v,b=e.styles,w=void 0===b?{}:b;if(t){var C=t.prefix,x=t.iconName,E=t.icon;return oe(c({type:"icon"},t),(function(){return ne(),G.autoA11y&&(h?y["aria-labelledby"]="".concat(G.replacementClass,"-title-").concat(f||xt()):(y["aria-hidden"]="true",y["focusable"]="false")),Nt({icons:{main:Kt(E),mask:s?Kt(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:C,iconName:x,transform:c({},bt,o),symbol:r,title:h,maskId:u,titleId:f,extra:{attributes:y,styles:w,classes:g}})}))}})),ue=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,o=void 0===n?bt:n,i=e.title,r=void 0===i?null:i,a=e.classes,s=void 0===a?[]:a,l=e.attributes,u=void 0===l?{}:l,h=e.styles,p=void 0===h?{}:h;return oe({type:"text",content:t},(function(){return ne(),Ht({content:t,transform:c({},bt,o),title:r,extra:{attributes:u,styles:p,classes:["".concat(G.familyPrefix,"-layers-text")].concat(d(s))}})}))}}).call(this,o("c8ba"))},f1d7:function(t,e,n){"use strict";var o=n("3aef"),i=n.n(o);i.a},f28c:function(t,n){var o,i,r=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(o===setTimeout)return setTimeout(t,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}function c(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(function(){try{o="function"===typeof setTimeout?setTimeout:a}catch(e){o=a}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(e){i=s}})();var u,d=[],h=!1,p=-1;function f(){h&&u&&(h=!1,u.length?d=u.concat(d):p=-1,d.length&&m())}function m(){if(!h){var t=l(f);h=!0;var e=d.length;while(e){u=d,d=[];while(++p<e)u&&u[p].run();p=-1,e=d.length}u=null,h=!1,c(t)}}function g(t,e){this.fun=t,this.array=e}function v(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new g(t,e)),1!==d.length||h||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f605:function(t,e){t.exports=function(t,e,n,o){if(!(t instanceof e)||void 0!==o&&o in t)throw TypeError(n+": incorrect invocation!");return t}},f6b4:function(t,e,n){"use strict";var o=n("c532");function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){o.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(o){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(o.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,n){var o=n("7726").document;t.exports=o&&o.documentElement},fb15:function(t,e,n){"use strict";var o;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(o=window.document.currentScript)&&(o=o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=o[1]));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bravoviz"}},[n("info",{attrs:{region:t.region},on:{goto_region:t.redirectToRegion}}),n("div",{staticClass:"parent-menu"},[n("div",{staticStyle:{display:"inline-block"}},[n("button",{staticClass:"parent-menu-button",on:{click:function(e){t.showMenuDropDown=!t.showMenuDropDown}}},[t._v("\n        Panels "),n("font-awesome-icon",{staticStyle:{"background-color":"transparent",display:"inline-block","vertical-align":"middle"},attrs:{icon:t.panelsIcon}})],1),t.showMenuDropDown?n("div",{staticClass:"parent-menu-dropdown"},[n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showSummaries=!t.showSummaries,t.showMenuDropDown=!t.showMenuDropDown}}},[n("div",{style:t.showSummaries?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" Summary")])]),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showDepth=!t.showDepth,t.showMenuDropDown=!t.showMenuDropDown}}},[n("div",{style:t.showDepth?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" Avg. Depth")])]),t.gene_view?t._e():n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showGenes=!t.showGenes,t.showMenuDropDown=!t.showMenuDropDown}}},[n("div",{style:t.showGenes?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" Genes")])]),t.gene_view?n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showGene=!t.showGene,t.showMenuDropDown=!t.showMenuDropDown}}},[n("div",{style:t.showGene?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" Transcripts")])]):t._e(),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showSNV=!t.showSNV,t.showMenuDropDown=!t.showMenuDropDown}}},[n("div",{style:t.showSNV?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" Variants Count")])])]):t._e()]),n("div",{staticStyle:{display:"inline-block"}},[n("button",{staticClass:"parent-menu-button",on:{click:function(e){t.showTableMenuDropDown=!t.showTableMenuDropDown}}},[t._v("\n        Columns "),n("font-awesome-icon",{staticStyle:{"background-color":"transparent",display:"inline-block","vertical-align":"middle"},attrs:{icon:t.columnsIcon}})],1),t.showTableMenuDropDown?n("div",{staticClass:"parent-menu-dropdown"},[n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showColumnVariantID=!t.showColumnVariantID,t.showTableMenuDropDown=!t.showTableMenuDropDown}}},[n("div",{style:t.showColumnVariantID?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" Variant ID")])]),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showColumnRsID=!t.showColumnRsID,t.showTableMenuDropDown=!t.showTableMenuDropDown}}},[n("div",{style:t.showColumnRsID?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" rsID")])]),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showColumnConsequence=!t.showColumnConsequence,t.showTableMenuDropDown=!t.showTableMenuDropDown}}},[n("div",{style:t.showColumnConsequence?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" Consequence")])]),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showColumnAnnotation=!t.showColumnAnnotation,t.showTableMenuDropDown=!t.showTableMenuDropDown}}},[n("div",{style:t.showColumnAnnotation?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" Annotation")])]),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showColumnLOFTEE=!t.showColumnLOFTEE,t.showTableMenuDropDown=!t.showTableMenuDropDown}}},[n("div",{style:t.showColumnLOFTEE?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" LOFTEE")])]),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showColumnQuality=!t.showColumnQuality,t.showTableMenuDropDown=!t.showTableMenuDropDown}}},[n("div",{style:t.showColumnQuality?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" Quality")])]),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showColumnCADD=!t.showColumnCADD,t.showTableMenuDropDown=!t.showTableMenuDropDown}}},[n("div",{style:t.showColumnCADD?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" CADD")])]),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showColumnNAlleles=!t.showColumnNAlleles,t.showTableMenuDropDown=!t.showTableMenuDropDown}}},[n("div",{style:t.showColumnNAlleles?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" N Alleles")])]),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showColumnHet=!t.showColumnHet,t.showTableMenuDropDown=!t.showTableMenuDropDown}}},[n("div",{style:t.showColumnHet?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" Het")])]),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showColumHomAlt=!t.showColumHomAlt,t.showTableMenuDropDown=!t.showTableMenuDropDown}}},[n("div",{style:t.showColumHomAlt?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" HomAlt")])]),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showColumnFrequency=!t.showColumnFrequency,t.showTableMenuDropDown=!t.showTableMenuDropDown}}},[n("div",{style:t.showColumnFrequency?"display: inline;":"display: inline; visibility: hidden;"},[t._v("✔")]),t._v(" Frequency (%)")])])]):t._e()]),n("div",{staticStyle:{display:"inline-block"}},[t.gene_view?n("button",{staticClass:"parent-menu-button",on:{click:function(e){return t.toggleIntrons()}}},[t.showIntrons?n("div",[t._v("Introns "),n("font-awesome-icon",{staticStyle:{"background-color":"transparent",display:"inline-block","vertical-align":"middle"},attrs:{icon:t.showIntronsIcon}})],1):n("div",[t._v("Introns "),n("font-awesome-icon",{staticStyle:{"background-color":"transparent",display:"inline-block","vertical-align":"middle"},attrs:{icon:t.hideIntronsIcon}})],1)]):t._e()]),n("div",{staticClass:"d-none d-sm-inline",staticStyle:{display:"inline-block"}},[n("button",{staticClass:"parent-menu-button",attrs:{type:"button"},on:{click:function(e){t.download++}}},[t._v("CSV\n        "),n("font-awesome-icon",{staticStyle:{"background-color":"transparent",display:"inline-block","vertical-align":"middle"},attrs:{icon:t.downloadIcon}})],1)])]),n("div",{staticStyle:{position:"relative","min-height":"20px"}},[t.showSummaries?n("summaries",{attrs:{api:t.api,region:t.region,filters:t.activeFilters},on:{close:function(e){t.showSummaries=!1}}}):t._e(),t.showDepth?n("depth",{attrs:{api:t.api,region:t.region,dimensions:t.dimensions,hoveredVariant:t.hoveredVariant},on:{close:function(e){t.showDepth=!1}}}):t._e(),t.showGenes&&!t.gene_view?n("genes",{attrs:{api:t.api,region:t.region,dimensions:t.dimensions,hoveredVariant:t.hoveredVariant},on:{close:function(e){t.showGenes=!1},click:t.genesClick}}):t._e(),t.showGene&&t.gene_view?n("gene",{attrs:{region:t.region,dimensions:t.dimensions,hoveredVariant:t.hoveredVariant},on:{close:function(e){t.showGene=!1}}}):t._e(),t.showSNV?n("snv",{attrs:{api:t.api,region:t.region,dimensions:t.dimensions,filters:t.activeFilters,visibleVariants:t.visibleVariants,hoveredVariant:t.hoveredVariant},on:{close:function(e){t.showSNV=!1}}}):t._e(),n("coordinates",{attrs:{region:t.region,dimensions:t.dimensions}}),n("snvfilter",{ref:"filter",attrs:{suggestions:t.filterSuggestions,filters:t.activeFilters},on:{filter:t.onFilterChange}}),n("snvtable",{ref:"snvtable",attrs:{region:t.region,api:t.api,filters:t.activeFilters,paginationSize:t.paginationSize,download:t.download,showColumnVariantID:t.showColumnVariantID,showColumnRsID:t.showColumnRsID,showColumnConsequence:t.showColumnConsequence,showColumnAnnotation:t.showColumnAnnotation,showColumnLOFTEE:t.showColumnLOFTEE,showColumnQuality:t.showColumnQuality,showColumnCADD:t.showColumnCADD,showColumnNAlleles:t.showColumnNAlleles,showColumnHet:t.showColumnHet,showColumHomAlt:t.showColumHomAlt,showColumnFrequency:t.showColumnFrequency},on:{suggestions:t.onFilterSuggestionsChange,scroll:t.variantsScroll,hover:t.variantHover}})],1)],1)},r=[],a=(n("7514"),n("ac6a"),n("55dd"),n("c5f6"),n("bc3a")),s=n.n(a),l=n("ad3d"),c={prefix:"fas",iconName:"angle-left",icon:[256,512,[],"f104","M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"]},u={prefix:"fas",iconName:"angle-right",icon:[256,512,[],"f105","M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"]},d={prefix:"fas",iconName:"columns",icon:[512,512,[],"f0db","M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"]},h={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"]},p={prefix:"fas",iconName:"eye",icon:[576,512,[],"f06e","M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"]},f={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"]},m={prefix:"fas",iconName:"minus-square",icon:[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"]},g={prefix:"fas",iconName:"plus-square",icon:[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"]},v={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},y={prefix:"fas",iconName:"window-restore",icon:[512,512,[],"f2d2","M512 48v288c0 26.5-21.5 48-48 48h-48V176c0-44.1-35.9-80-80-80H128V48c0-26.5 21.5-48 48-48h288c26.5 0 48 21.5 48 48zM384 176v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48h288c26.5 0 48 21.5 48 48zm-68 28c0-6.6-5.4-12-12-12H76c-6.6 0-12 5.4-12 12v52h252v-52z"]},b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child-component"})},w=[],C=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},x=function(t){return 1===t.length&&(t=E(t)),{left:function(e,n,o,i){null==o&&(o=0),null==i&&(i=e.length);while(o<i){var r=o+i>>>1;t(e[r],n)<0?o=r+1:i=r}return o},right:function(e,n,o,i){null==o&&(o=0),null==i&&(i=e.length);while(o<i){var r=o+i>>>1;t(e[r],n)>0?i=r:o=r+1}return o}}};function E(t){return function(e,n){return C(t(e),n)}}var _=x(C),M=_.right,R=(_.left,M);var S=Array.prototype,k=(S.slice,S.map,Math.sqrt(50)),T=Math.sqrt(10),L=Math.sqrt(2),D=function(t,e,n){var o,i,r,a,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((o=e<t)&&(i=t,t=e,e=i),0===(a=F(t,e,n))||!isFinite(a))return[];if(a>0){t=Math.ceil(t/a),e=Math.floor(e/a),r=new Array(i=Math.ceil(e-t+1));while(++s<i)r[s]=(t+s)*a}else{t=Math.floor(t*a),e=Math.ceil(e*a),r=new Array(i=Math.ceil(t-e+1));while(++s<i)r[s]=(t-s)/a}return o&&r.reverse(),r};function F(t,e,n){var o=(e-t)/Math.max(0,n),i=Math.floor(Math.log(o)/Math.LN10),r=o/Math.pow(10,i);return i>=0?(r>=k?10:r>=T?5:r>=L?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(r>=k?10:r>=T?5:r>=L?2:1)}function A(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),r=o/i;return r>=k?i*=10:r>=T?i*=5:r>=L&&(i*=2),e<t?-i:i}var P=function(t,e){var n,o,i=t.length,r=-1;if(null==e){while(++r<i)if(null!=(n=t[r])&&n>=n){o=n;while(++r<i)null!=(n=t[r])&&n>o&&(o=n)}}else while(++r<i)if(null!=(n=e(t[r],r,t))&&n>=n){o=n;while(++r<i)null!=(n=e(t[r],r,t))&&n>o&&(o=n)}return o};var z=Array.prototype.slice,N=function(t){return t},H=1,O=2,I=3,V=4,j=1e-6;function q(t){return"translate("+(t+.5)+",0)"}function B(t){return"translate(0,"+(t+.5)+")"}function G(t){return function(e){return+t(e)}}function W(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function U(){return!this.__axis}function X(t,e){var n=[],o=null,i=null,r=6,a=6,s=3,l=t===H||t===V?-1:1,c=t===V||t===O?"x":"y",u=t===H||t===I?q:B;function d(d){var h=null==o?e.ticks?e.ticks.apply(e,n):e.domain():o,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):N:i,f=Math.max(r,0)+s,m=e.range(),g=+m[0]+.5,v=+m[m.length-1]+.5,y=(e.bandwidth?W:G)(e.copy()),b=d.selection?d.selection():d,w=b.selectAll(".domain").data([null]),C=b.selectAll(".tick").data(h,e).order(),x=C.exit(),E=C.enter().append("g").attr("class","tick"),_=C.select("line"),M=C.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(E),_=_.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",l*r)),M=M.merge(E.append("text").attr("fill","currentColor").attr(c,l*f).attr("dy",t===H?"0em":t===I?"0.71em":"0.32em")),d!==b&&(w=w.transition(d),C=C.transition(d),_=_.transition(d),M=M.transition(d),x=x.transition(d).attr("opacity",j).attr("transform",(function(t){return isFinite(t=y(t))?u(t):this.getAttribute("transform")})),E.attr("opacity",j).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:y(t))}))),x.remove(),w.attr("d",t===V||t==O?a?"M"+l*a+","+g+"H0.5V"+v+"H"+l*a:"M0.5,"+g+"V"+v:a?"M"+g+","+l*a+"V0.5H"+v+"V"+l*a:"M"+g+",0.5H"+v),C.attr("opacity",1).attr("transform",(function(t){return u(y(t))})),_.attr(c+"2",l*r),M.attr(c,l*f).text(p),b.filter(U).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===O?"start":t===V?"end":"middle"),b.each((function(){this.__axis=y}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return n=z.call(arguments),d},d.tickArguments=function(t){return arguments.length?(n=null==t?[]:z.call(t),d):n.slice()},d.tickValues=function(t){return arguments.length?(o=null==t?null:z.call(t),d):o&&o.slice()},d.tickFormat=function(t){return arguments.length?(i=t,d):i},d.tickSize=function(t){return arguments.length?(r=a=+t,d):r},d.tickSizeInner=function(t){return arguments.length?(r=+t,d):r},d.tickSizeOuter=function(t){return arguments.length?(a=+t,d):a},d.tickPadding=function(t){return arguments.length?(s=+t,d):s},d}function Y(t){return X(I,t)}function Q(t){return X(V,t)}var J={value:function(){}};function K(){for(var t,e=0,n=arguments.length,o={};e<n;++e){if(!(t=arguments[e]+"")||t in o||/[\s.]/.test(t))throw new Error("illegal type: "+t);o[t]=[]}return new Z(o)}function Z(t){this._=t}function tt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",o=t.indexOf(".");if(o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function et(t,e){for(var n,o=0,i=t.length;o<i;++o)if((n=t[o]).name===e)return n.value}function nt(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=J,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=n&&t.push({name:e,value:n}),t}Z.prototype=K.prototype={constructor:Z,on:function(t,e){var n,o=this._,i=tt(t+"",o),r=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++r<a)if(n=(t=i[r]).type)o[n]=nt(o[n],t.name,e);else if(null==e)for(n in o)o[n]=nt(o[n],t.name,null);return this}while(++r<a)if((n=(t=i[r]).type)&&(n=et(o[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Z(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,o,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,n=o.length;r<n;++r)o[r].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};var ot=K,it="http://www.w3.org/1999/xhtml",rt={svg:"http://www.w3.org/2000/svg",xhtml:it,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),rt.hasOwnProperty(e)?{space:rt[e],local:t}:t};function st(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===it&&e.documentElement.namespaceURI===it?e.createElement(t):e.createElementNS(n,t)}}function lt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ct=function(t){var e=at(t);return(e.local?lt:st)(e)};function ut(){}var dt=function(t){return null==t?ut:function(){return this.querySelector(t)}},ht=function(t){"function"!==typeof t&&(t=dt(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a,s=e[i],l=s.length,c=o[i]=new Array(l),u=0;u<l;++u)(r=s[u])&&(a=t.call(r,r.__data__,u,s))&&("__data__"in r&&(a.__data__=r.__data__),c[u]=a);return new We(o,this._parents)};function pt(){return[]}var ft=function(t){return null==t?pt:function(){return this.querySelectorAll(t)}},mt=function(t){"function"!==typeof t&&(t=ft(t));for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var a,s=e[r],l=s.length,c=0;c<l;++c)(a=s[c])&&(o.push(t.call(a,a.__data__,c,s)),i.push(a));return new We(o,i)},gt=function(t){return function(){return this.matches(t)}},vt=function(t){"function"!==typeof t&&(t=gt(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a=e[i],s=a.length,l=o[i]=[],c=0;c<s;++c)(r=a[c])&&t.call(r,r.__data__,c,a)&&l.push(r);return new We(o,this._parents)},yt=function(t){return new Array(t.length)},bt=function(){return new We(this._enter||this._groups.map(yt),this._parents)};function wt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}wt.prototype={constructor:wt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ct=function(t){return function(){return t}},xt="$";function Et(t,e,n,o,i,r){for(var a,s=0,l=e.length,c=r.length;s<c;++s)(a=e[s])?(a.__data__=r[s],o[s]=a):n[s]=new wt(t,r[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function _t(t,e,n,o,i,r,a){var s,l,c,u={},d=e.length,h=r.length,p=new Array(d);for(s=0;s<d;++s)(l=e[s])&&(p[s]=c=xt+a.call(l,l.__data__,s,e),c in u?i[s]=l:u[c]=l);for(s=0;s<h;++s)c=xt+a.call(t,r[s],s,r),(l=u[c])?(o[s]=l,l.__data__=r[s],u[c]=null):n[s]=new wt(t,r[s]);for(s=0;s<d;++s)(l=e[s])&&u[p[s]]===l&&(i[s]=l)}var Mt=function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each((function(t){p[++c]=t})),p;var n=e?_t:Et,o=this._parents,i=this._groups;"function"!==typeof t&&(t=Ct(t));for(var r=i.length,a=new Array(r),s=new Array(r),l=new Array(r),c=0;c<r;++c){var u=o[c],d=i[c],h=d.length,p=t.call(u,u&&u.__data__,c,o),f=p.length,m=s[c]=new Array(f),g=a[c]=new Array(f),v=l[c]=new Array(h);n(u,d,m,g,v,p,e);for(var y,b,w=0,C=0;w<f;++w)if(y=m[w]){w>=C&&(C=w+1);while(!(b=g[C])&&++C<f);y._next=b||null}}return a=new We(a,o),a._enter=s,a._exit=l,a},Rt=function(){return new We(this._exit||this._groups.map(yt),this._parents)},St=function(t,e,n){var o=this.enter(),i=this,r=this.exit();return o="function"===typeof t?t(o):o.append(t+""),null!=e&&(i=e(i)),null==n?r.remove():n(r),o&&i?o.merge(i).order():i},kt=function(t){for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),a=new Array(o),s=0;s<r;++s)for(var l,c=e[s],u=n[s],d=c.length,h=a[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<o;++s)a[s]=e[s];return new We(a,this._parents)},Tt=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o,i=t[e],r=i.length-1,a=i[r];--r>=0;)(o=i[r])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this},Lt=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Dt);for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a,s=n[r],l=s.length,c=i[r]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new We(i,this._parents).order()};function Dt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Ft=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},At=function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},Pt=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null},zt=function(){var t=0;return this.each((function(){++t})),t},Nt=function(){return!this.node()},Ht=function(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i,r=e[n],a=0,s=r.length;a<s;++a)(i=r[a])&&t.call(i,i.__data__,a,r);return this};function Ot(t){return function(){this.removeAttribute(t)}}function It(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vt(t,e){return function(){this.setAttribute(t,e)}}function jt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function qt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Bt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Gt=function(t,e){var n=at(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==e?n.local?It:Ot:"function"===typeof e?n.local?Bt:qt:n.local?jt:Vt)(n,e))},Wt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Ut(t){return function(){this.style.removeProperty(t)}}function $t(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Xt(t,e,n){return function(){var o=e.apply(this,arguments);null==o?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}var Yt=function(t,e,n){return arguments.length>1?this.each((null==e?Ut:"function"===typeof e?Xt:$t)(t,e,null==n?"":n)):Qt(this.node(),t)};function Qt(t,e){return t.style.getPropertyValue(e)||Wt(t).getComputedStyle(t,null).getPropertyValue(e)}function Jt(t){return function(){delete this[t]}}function Kt(t,e){return function(){this[t]=e}}function Zt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}var te=function(t,e){return arguments.length>1?this.each((null==e?Jt:"function"===typeof e?Zt:Kt)(t,e)):this.node()[t]};function ee(t){return t.trim().split(/^|\s+/)}function ne(t){return t.classList||new oe(t)}function oe(t){this._node=t,this._names=ee(t.getAttribute("class")||"")}function ie(t,e){var n=ne(t),o=-1,i=e.length;while(++o<i)n.add(e[o])}function re(t,e){var n=ne(t),o=-1,i=e.length;while(++o<i)n.remove(e[o])}function ae(t){return function(){ie(this,t)}}function se(t){return function(){re(this,t)}}function le(t,e){return function(){(e.apply(this,arguments)?ie:re)(this,t)}}oe.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ce=function(t,e){var n=ee(t+"");if(arguments.length<2){var o=ne(this.node()),i=-1,r=n.length;while(++i<r)if(!o.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?le:e?ae:se)(n,e))};function ue(){this.textContent=""}function de(t){return function(){this.textContent=t}}function he(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}var pe=function(t){return arguments.length?this.each(null==t?ue:("function"===typeof t?he:de)(t)):this.node().textContent};function fe(){this.innerHTML=""}function me(t){return function(){this.innerHTML=t}}function ge(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}var ve=function(t){return arguments.length?this.each(null==t?fe:("function"===typeof t?ge:me)(t)):this.node().innerHTML};function ye(){this.nextSibling&&this.parentNode.appendChild(this)}var be=function(){return this.each(ye)};function we(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Ce=function(){return this.each(we)},xe=function(t){var e="function"===typeof t?t:ct(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))};function Ee(){return null}var _e=function(t,e){var n="function"===typeof t?t:ct(t),o=null==e?Ee:"function"===typeof e?e:dt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))};function Me(){var t=this.parentNode;t&&t.removeChild(this)}var Re=function(){return this.each(Me)};function Se(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function ke(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Te=function(t){return this.select(t?ke:Se)},Le=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},De={},Fe=null;if("undefined"!==typeof document){var Ae=document.documentElement;"onmouseenter"in Ae||(De={mouseenter:"mouseover",mouseleave:"mouseout"})}function Pe(t,e,n){return t=ze(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ze(t,e,n){return function(o){var i=Fe;Fe=o;try{t.call(this,this.__data__,e,n)}finally{Fe=i}}}function Ne(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function He(t){return function(){var e=this.__on;if(e){for(var n,o=0,i=-1,r=e.length;o<r;++o)n=e[o],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Oe(t,e,n){var o=De.hasOwnProperty(t.type)?Pe:ze;return function(i,r,a){var s,l=this.__on,c=o(e,r,a);if(l)for(var u=0,d=l.length;u<d;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}var Ie=function(t,e,n){var o,i,r=Ne(t+""),a=r.length;if(!(arguments.length<2)){for(s=e?Oe:He,null==n&&(n=!1),o=0;o<a;++o)this.each(s(r[o],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(o=0,l=s[c];o<a;++o)if((i=r[o]).type===l.type&&i.name===l.name)return l.value};function Ve(t,e,n){var o=Wt(t),i=o.CustomEvent;"function"===typeof i?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function je(t,e){return function(){return Ve(this,t,e)}}function qe(t,e){return function(){return Ve(this,t,e.apply(this,arguments))}}var Be=function(t,e){return this.each(("function"===typeof e?qe:je)(t,e))},Ge=[null];function We(t,e){this._groups=t,this._parents=e}function Ue(){return new We([[document.documentElement]],Ge)}We.prototype=Ue.prototype={constructor:We,select:ht,selectAll:mt,filter:vt,data:Mt,enter:bt,exit:Rt,join:St,merge:kt,order:Tt,sort:Lt,call:Ft,nodes:At,node:Pt,size:zt,empty:Nt,each:Ht,attr:Gt,style:Yt,property:te,classed:ce,text:pe,html:ve,raise:be,lower:Ce,append:xe,insert:_e,remove:Re,clone:Te,datum:Le,on:Ie,dispatch:Be};var $e=Ue,Xe=function(t){return"string"===typeof t?new We([[document.querySelector(t)]],[document.documentElement]):new We([[t]],Ge)},Ye=0;function Qe(){return new Je}function Je(){this._="@"+(++Ye).toString(36)}Je.prototype=Qe.prototype={constructor:Je,get:function(t){var e=this._;while(!(e in t))if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Ke=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Ze(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function tn(){}var en=.7,nn=1/en,on="\\s*([+-]?\\d+)\\s*",rn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",an="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sn=/^#([0-9a-f]{3})$/,ln=/^#([0-9a-f]{6})$/,cn=new RegExp("^rgb\\("+[on,on,on]+"\\)$"),un=new RegExp("^rgb\\("+[an,an,an]+"\\)$"),dn=new RegExp("^rgba\\("+[on,on,on,rn]+"\\)$"),hn=new RegExp("^rgba\\("+[an,an,an,rn]+"\\)$"),pn=new RegExp("^hsl\\("+[rn,an,an]+"\\)$"),fn=new RegExp("^hsla\\("+[rn,an,an,rn]+"\\)$"),mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function gn(t){var e;return t=(t+"").trim().toLowerCase(),(e=sn.exec(t))?(e=parseInt(e[1],16),new Cn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=ln.exec(t))?vn(parseInt(e[1],16)):(e=cn.exec(t))?new Cn(e[1],e[2],e[3],1):(e=un.exec(t))?new Cn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=dn.exec(t))?yn(e[1],e[2],e[3],e[4]):(e=hn.exec(t))?yn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=pn.exec(t))?En(e[1],e[2]/100,e[3]/100,1):(e=fn.exec(t))?En(e[1],e[2]/100,e[3]/100,e[4]):mn.hasOwnProperty(t)?vn(mn[t]):"transparent"===t?new Cn(NaN,NaN,NaN,0):null}function vn(t){return new Cn(t>>16&255,t>>8&255,255&t,1)}function yn(t,e,n,o){return o<=0&&(t=e=n=NaN),new Cn(t,e,n,o)}function bn(t){return t instanceof tn||(t=gn(t)),t?(t=t.rgb(),new Cn(t.r,t.g,t.b,t.opacity)):new Cn}function wn(t,e,n,o){return 1===arguments.length?bn(t):new Cn(t,e,n,null==o?1:o)}function Cn(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}function xn(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function En(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rn(t,e,n,o)}function _n(t){if(t instanceof Rn)return new Rn(t.h,t.s,t.l,t.opacity);if(t instanceof tn||(t=gn(t)),!t)return new Rn;if(t instanceof Rn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),a=NaN,s=r-i,l=(r+i)/2;return s?(a=e===r?(n-o)/s+6*(n<o):n===r?(o-e)/s+2:(e-n)/s+4,s/=l<.5?r+i:2-r-i,a*=60):s=l>0&&l<1?0:a,new Rn(a,s,l,t.opacity)}function Mn(t,e,n,o){return 1===arguments.length?_n(t):new Rn(t,e,n,null==o?1:o)}function Rn(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}function Sn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Ke(tn,gn,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Ke(Cn,wn,Ze(tn,{brighter:function(t){return t=null==t?nn:Math.pow(nn,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?en:Math.pow(en,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+xn(this.r)+xn(this.g)+xn(this.b)},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Ke(Rn,Mn,Ze(tn,{brighter:function(t){return t=null==t?nn:Math.pow(nn,t),new Rn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?en:Math.pow(en,t),new Rn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new Cn(Sn(t>=240?t-240:t+120,i,o),Sn(t,i,o),Sn(t<120?t+240:t-120,i,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var kn=Math.PI/180,Tn=180/Math.PI,Ln=18,Dn=.96422,Fn=1,An=.82521,Pn=4/29,zn=6/29,Nn=3*zn*zn,Hn=zn*zn*zn;function On(t){if(t instanceof Vn)return new Vn(t.l,t.a,t.b,t.opacity);if(t instanceof $n){if(isNaN(t.h))return new Vn(t.l,0,0,t.opacity);var e=t.h*kn;return new Vn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Cn||(t=bn(t));var n,o,i=Gn(t.r),r=Gn(t.g),a=Gn(t.b),s=jn((.2225045*i+.7168786*r+.0606169*a)/Fn);return i===r&&r===a?n=o=s:(n=jn((.4360747*i+.3850649*r+.1430804*a)/Dn),o=jn((.0139322*i+.0971045*r+.7141733*a)/An)),new Vn(116*s-16,500*(n-s),200*(s-o),t.opacity)}function In(t,e,n,o){return 1===arguments.length?On(t):new Vn(t,e,n,null==o?1:o)}function Vn(t,e,n,o){this.l=+t,this.a=+e,this.b=+n,this.opacity=+o}function jn(t){return t>Hn?Math.pow(t,1/3):t/Nn+Pn}function qn(t){return t>zn?t*t*t:Nn*(t-Pn)}function Bn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Gn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Wn(t){if(t instanceof $n)return new $n(t.h,t.c,t.l,t.opacity);if(t instanceof Vn||(t=On(t)),0===t.a&&0===t.b)return new $n(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Tn;return new $n(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Un(t,e,n,o){return 1===arguments.length?Wn(t):new $n(t,e,n,null==o?1:o)}function $n(t,e,n,o){this.h=+t,this.c=+e,this.l=+n,this.opacity=+o}Ke(Vn,In,Ze(tn,{brighter:function(t){return new Vn(this.l+Ln*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Vn(this.l-Ln*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Dn*qn(e),t=Fn*qn(t),n=An*qn(n),new Cn(Bn(3.1338561*e-1.6168667*t-.4906146*n),Bn(-.9787684*e+1.9161415*t+.033454*n),Bn(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ke($n,Un,Ze(tn,{brighter:function(t){return new $n(this.h,this.c,this.l+Ln*(null==t?1:t),this.opacity)},darker:function(t){return new $n(this.h,this.c,this.l-Ln*(null==t?1:t),this.opacity)},rgb:function(){return On(this).rgb()}}));var Xn=-.14861,Yn=1.78277,Qn=-.29227,Jn=-.90649,Kn=1.97294,Zn=Kn*Jn,to=Kn*Yn,eo=Yn*Qn-Jn*Xn;function no(t){if(t instanceof io)return new io(t.h,t.s,t.l,t.opacity);t instanceof Cn||(t=bn(t));var e=t.r/255,n=t.g/255,o=t.b/255,i=(eo*o+Zn*e-to*n)/(eo+Zn-to),r=o-i,a=(Kn*(n-i)-Qn*r)/Jn,s=Math.sqrt(a*a+r*r)/(Kn*i*(1-i)),l=s?Math.atan2(a,r)*Tn-120:NaN;return new io(l<0?l+360:l,s,i,t.opacity)}function oo(t,e,n,o){return 1===arguments.length?no(t):new io(t,e,n,null==o?1:o)}function io(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}function ro(t,e,n,o,i){var r=t*t,a=r*t;return((1-3*t+3*r-a)*e+(4-6*r+3*a)*n+(1+3*t+3*r-3*a)*o+a*i)/6}Ke(io,oo,Ze(tn,{brighter:function(t){return t=null==t?nn:Math.pow(nn,t),new io(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?en:Math.pow(en,t),new io(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*kn,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),o=Math.cos(t),i=Math.sin(t);return new Cn(255*(e+n*(Xn*o+Yn*i)),255*(e+n*(Qn*o+Jn*i)),255*(e+n*(Kn*o)),this.opacity)}}));var ao=function(t){var e=t.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[o],r=t[o+1],a=o>0?t[o-1]:2*i-r,s=o<e-1?t[o+2]:2*r-i;return ro((n-o/e)*e,a,i,r,s)}},so=function(t){var e=t.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*e),i=t[(o+e-1)%e],r=t[o%e],a=t[(o+1)%e],s=t[(o+2)%e];return ro((n-o/e)*e,i,r,a,s)}},lo=function(t){return function(){return t}};function co(t,e){return function(n){return t+n*e}}function uo(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function ho(t,e){var n=e-t;return n?co(t,n>180||n<-180?n-360*Math.round(n/360):n):lo(isNaN(t)?e:t)}function po(t){return 1===(t=+t)?fo:function(e,n){return n-e?uo(e,n,t):lo(isNaN(e)?n:e)}}function fo(t,e){var n=e-t;return n?co(t,n):lo(isNaN(t)?e:t)}var mo=function t(e){var n=po(e);function o(t,e){var o=n((t=wn(t)).r,(e=wn(e)).r),i=n(t.g,e.g),r=n(t.b,e.b),a=fo(t.opacity,e.opacity);return function(e){return t.r=o(e),t.g=i(e),t.b=r(e),t.opacity=a(e),t+""}}return o.gamma=t,o}(1);function go(t){return function(e){var n,o,i=e.length,r=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)o=wn(e[n]),r[n]=o.r||0,a[n]=o.g||0,s[n]=o.b||0;return r=t(r),a=t(a),s=t(s),o.opacity=1,function(t){return o.r=r(t),o.g=a(t),o.b=s(t),o+""}}}go(ao),go(so);var vo=function(t,e){var n,o=e?e.length:0,i=t?Math.min(o,t.length):0,r=new Array(i),a=new Array(o);for(n=0;n<i;++n)r[n]=Lo(t[n],e[n]);for(;n<o;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=r[n](t);return a}},yo=function(t,e){var n=new Date;return t=+t,e-=t,function(o){return n.setTime(t+e*o),n}},bo=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},wo=function(t,e){var n,o={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?o[n]=Lo(t[n],e[n]):i[n]=e[n];return function(t){for(n in o)i[n]=o[n](t);return i}},Co=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xo=new RegExp(Co.source,"g");function Eo(t){return function(){return t}}function _o(t){return function(e){return t(e)+""}}var Mo,Ro,So,ko,To=function(t,e){var n,o,i,r=Co.lastIndex=xo.lastIndex=0,a=-1,s=[],l=[];t+="",e+="";while((n=Co.exec(t))&&(o=xo.exec(e)))(i=o.index)>r&&(i=e.slice(r,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,l.push({i:a,x:bo(n,o)})),r=xo.lastIndex;return r<e.length&&(i=e.slice(r),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?_o(l[0].x):Eo(e):(e=l.length,function(t){for(var n,o=0;o<e;++o)s[(n=l[o]).i]=n.x(t);return s.join("")})},Lo=function(t,e){var n,o=typeof e;return null==e||"boolean"===o?lo(e):("number"===o?bo:"string"===o?(n=gn(e))?(e=n,mo):To:e instanceof gn?mo:e instanceof Date?yo:Array.isArray(e)?vo:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?wo:bo)(t,e)},Do=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},Fo=180/Math.PI,Ao={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Po=function(t,e,n,o,i,r){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*o)&&(n-=t*l,o-=e*l),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,l/=s),t*o<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Fo,skewX:Math.atan(l)*Fo,scaleX:a,scaleY:s}};function zo(t){return"none"===t?Ao:(Mo||(Mo=document.createElement("DIV"),Ro=document.documentElement,So=document.defaultView),Mo.style.transform=t,t=So.getComputedStyle(Ro.appendChild(Mo),null).getPropertyValue("transform"),Ro.removeChild(Mo),t=t.slice(7,-1).split(","),Po(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function No(t){return null==t?Ao:(ko||(ko=document.createElementNS("http://www.w3.org/2000/svg","g")),ko.setAttribute("transform",t),(t=ko.transform.baseVal.consolidate())?(t=t.matrix,Po(t.a,t.b,t.c,t.d,t.e,t.f)):Ao)}function Ho(t,e,n,o){function i(t){return t.length?t.pop()+" ":""}function r(t,o,i,r,a,s){if(t!==i||o!==r){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:bo(t,i)},{i:l-2,x:bo(o,r)})}else(i||r)&&a.push("translate("+i+e+r+n)}function a(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(i(n)+"rotate(",null,o)-2,x:bo(t,e)})):e&&n.push(i(n)+"rotate("+e+o)}function s(t,e,n,r){t!==e?r.push({i:n.push(i(n)+"skewX(",null,o)-2,x:bo(t,e)}):e&&n.push(i(n)+"skewX("+e+o)}function l(t,e,n,o,r,a){if(t!==n||e!==o){var s=r.push(i(r)+"scale(",null,",",null,")");a.push({i:s-4,x:bo(t,n)},{i:s-2,x:bo(e,o)})}else 1===n&&1===o||r.push(i(r)+"scale("+n+","+o+")")}return function(e,n){var o=[],i=[];return e=t(e),n=t(n),r(e.translateX,e.translateY,n.translateX,n.translateY,o,i),a(e.rotate,n.rotate,o,i),s(e.skewX,n.skewX,o,i),l(e.scaleX,e.scaleY,n.scaleX,n.scaleY,o,i),e=n=null,function(t){var e,n=-1,r=i.length;while(++n<r)o[(e=i[n]).i]=e.x(t);return o.join("")}}}var Oo=Ho(zo,"px, ","px)","deg)"),Io=Ho(No,", ",")",")");Math.SQRT2;function Vo(t){return function(e,n){var o=t((e=Mn(e)).h,(n=Mn(n)).h),i=fo(e.s,n.s),r=fo(e.l,n.l),a=fo(e.opacity,n.opacity);return function(t){return e.h=o(t),e.s=i(t),e.l=r(t),e.opacity=a(t),e+""}}}Vo(ho),Vo(fo);function jo(t){return function(e,n){var o=t((e=Un(e)).h,(n=Un(n)).h),i=fo(e.c,n.c),r=fo(e.l,n.l),a=fo(e.opacity,n.opacity);return function(t){return e.h=o(t),e.c=i(t),e.l=r(t),e.opacity=a(t),e+""}}}jo(ho),jo(fo);function qo(t){return function e(n){function o(e,o){var i=t((e=oo(e)).h,(o=oo(o)).h),r=fo(e.s,o.s),a=fo(e.l,o.l),s=fo(e.opacity,o.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,o.gamma=e,o}(1)}qo(ho),qo(fo);var Bo,Go,Wo=0,Uo=0,$o=0,Xo=1e3,Yo=0,Qo=0,Jo=0,Ko="object"===typeof performance&&performance.now?performance:Date,Zo="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ti(){return Qo||(Zo(ei),Qo=Ko.now()+Jo)}function ei(){Qo=0}function ni(){this._call=this._time=this._next=null}function oi(t,e,n){var o=new ni;return o.restart(t,e,n),o}function ii(){ti(),++Wo;var t,e=Bo;while(e)(t=Qo-e._time)>=0&&e._call.call(null,t),e=e._next;--Wo}function ri(){Qo=(Yo=Ko.now())+Jo,Wo=Uo=0;try{ii()}finally{Wo=0,si(),Qo=0}}function ai(){var t=Ko.now(),e=t-Yo;e>Xo&&(Jo-=e,Yo=t)}function si(){var t,e,n=Bo,o=1/0;while(n)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Bo=e);Go=t,li(o)}function li(t){if(!Wo){Uo&&(Uo=clearTimeout(Uo));var e=t-Qo;e>24?(t<1/0&&(Uo=setTimeout(ri,t-Ko.now()-Jo)),$o&&($o=clearInterval($o))):($o||(Yo=Ko.now(),$o=setInterval(ai,Xo)),Wo=1,Zo(ri))}}ni.prototype=oi.prototype={constructor:ni,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?ti():+n)+(null==e?0:+e),this._next||Go===this||(Go?Go._next=this:Bo=this,Go=this),this._call=t,this._time=n,li()},stop:function(){this._call&&(this._call=null,this._time=1/0,li())}};var ci=function(t,e,n){var o=new ni;return e=null==e?0:+e,o.restart((function(n){o.stop(),t(n+e)}),e,n),o},ui=ot("start","end","cancel","interrupt"),di=[],hi=0,pi=1,fi=2,mi=3,gi=4,vi=5,yi=6,bi=function(t,e,n,o,i,r){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Ei(t,n,{name:e,index:o,group:i,on:ui,tween:di,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:hi})};function wi(t,e){var n=xi(t,e);if(n.state>hi)throw new Error("too late; already scheduled");return n}function Ci(t,e){var n=xi(t,e);if(n.state>mi)throw new Error("too late; already running");return n}function xi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ei(t,e,n){var o,i=t.__transition;function r(t){n.state=pi,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(r){var c,u,d,h;if(n.state!==pi)return l();for(c in i)if(h=i[c],h.name===n.name){if(h.state===mi)return ci(a);h.state===gi?(h.state=yi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=yi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(ci((function(){n.state===mi&&(n.state=gi,n.timer.restart(s,n.delay,n.time),s(r))})),n.state=fi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===fi){for(n.state=mi,o=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(o[++u]=h);o.length=u+1}}function s(e){var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=vi,1),r=-1,a=o.length;while(++r<a)o[r].call(t,i);n.state===vi&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var o in n.state=yi,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=oi(r,0,n.time)}var _i=function(t,e){var n,o,i,r=t.__transition,a=!0;if(r){for(i in e=null==e?null:e+"",r)(n=r[i]).name===e?(o=n.state>fi&&n.state<vi,n.state=yi,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[i]):a=!1;a&&delete t.__transition}},Mi=function(t){return this.each((function(){_i(this,t)}))};function Ri(t,e){var n,o;return function(){var i=Ci(this,t),r=i.tween;if(r!==n){o=n=r;for(var a=0,s=o.length;a<s;++a)if(o[a].name===e){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function Si(t,e,n){var o,i;if("function"!==typeof n)throw new Error;return function(){var r=Ci(this,t),a=r.tween;if(a!==o){i=(o=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}r.tween=i}}var ki=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o,i=xi(this.node(),n).tween,r=0,a=i.length;r<a;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((null==e?Ri:Si)(n,t,e))};function Ti(t,e,n){var o=t._id;return t.each((function(){var t=Ci(this,o);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return xi(t,o).value[e]}}var Li=function(t,e){var n;return("number"===typeof e?bo:e instanceof gn?mo:(n=gn(e))?(e=n,mo):To)(t,e)};function Di(t){return function(){this.removeAttribute(t)}}function Fi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ai(t,e,n){var o,i,r=n+"";return function(){var a=this.getAttribute(t);return a===r?null:a===o?i:i=e(o=a,n)}}function Pi(t,e,n){var o,i,r=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===r?null:a===o?i:i=e(o=a,n)}}function zi(t,e,n){var o,i,r;return function(){var a,s,l=n(this);if(null!=l)return a=this.getAttribute(t),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=e(o=a,l));this.removeAttribute(t)}}function Ni(t,e,n){var o,i,r;return function(){var a,s,l=n(this);if(null!=l)return a=this.getAttributeNS(t.space,t.local),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=e(o=a,l));this.removeAttributeNS(t.space,t.local)}}var Hi=function(t,e){var n=at(t),o="transform"===n?Io:Li;return this.attrTween(t,"function"===typeof e?(n.local?Ni:zi)(n,o,Ti(this,"attr."+t,e)):null==e?(n.local?Fi:Di)(n):(n.local?Pi:Ai)(n,o,e))};function Oi(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ii(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Vi(t,e){var n,o;function i(){var i=e.apply(this,arguments);return i!==o&&(n=(o=i)&&Ii(t,i)),n}return i._value=e,i}function ji(t,e){var n,o;function i(){var i=e.apply(this,arguments);return i!==o&&(n=(o=i)&&Oi(t,i)),n}return i._value=e,i}var qi=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var o=at(t);return this.tween(n,(o.local?Vi:ji)(o,e))};function Bi(t,e){return function(){wi(this,t).delay=+e.apply(this,arguments)}}function Gi(t,e){return e=+e,function(){wi(this,t).delay=e}}var Wi=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Bi:Gi)(e,t)):xi(this.node(),e).delay};function Ui(t,e){return function(){Ci(this,t).duration=+e.apply(this,arguments)}}function $i(t,e){return e=+e,function(){Ci(this,t).duration=e}}var Xi=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Ui:$i)(e,t)):xi(this.node(),e).duration};function Yi(t,e){if("function"!==typeof e)throw new Error;return function(){Ci(this,t).ease=e}}var Qi=function(t){var e=this._id;return arguments.length?this.each(Yi(e,t)):xi(this.node(),e).ease},Ji=function(t){"function"!==typeof t&&(t=gt(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a=e[i],s=a.length,l=o[i]=[],c=0;c<s;++c)(r=a[c])&&t.call(r,r.__data__,c,a)&&l.push(r);return new Rr(o,this._parents,this._name,this._id)},Ki=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),a=new Array(o),s=0;s<r;++s)for(var l,c=e[s],u=n[s],d=c.length,h=a[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<o;++s)a[s]=e[s];return new Rr(a,this._parents,this._name,this._id)};function Zi(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function tr(t,e,n){var o,i,r=Zi(e)?wi:Ci;return function(){var a=r(this,t),s=a.on;s!==o&&(i=(o=s).copy()).on(e,n),a.on=i}}var er=function(t,e){var n=this._id;return arguments.length<2?xi(this.node(),n).on.on(t):this.each(tr(n,t,e))};function nr(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}var or=function(){return this.on("end.remove",nr(this._id))},ir=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=dt(t));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var s,l,c=o[a],u=c.length,d=r[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=t.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,bi(d[h],e,n,h,d,xi(s,n)));return new Rr(r,this._parents,e,n)},rr=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=ft(t));for(var o=this._groups,i=o.length,r=[],a=[],s=0;s<i;++s)for(var l,c=o[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=t.call(l,l.__data__,d,c),f=xi(l,n),m=0,g=p.length;m<g;++m)(h=p[m])&&bi(h,e,n,m,p,f);r.push(p),a.push(l)}return new Rr(r,a,e,n)},ar=$e.prototype.constructor,sr=function(){return new ar(this._groups,this._parents)};function lr(t,e){var n,o,i;return function(){var r=Qt(this,t),a=(this.style.removeProperty(t),Qt(this,t));return r===a?null:r===n&&a===o?i:i=e(n=r,o=a)}}function cr(t){return function(){this.style.removeProperty(t)}}function ur(t,e,n){var o,i,r=n+"";return function(){var a=Qt(this,t);return a===r?null:a===o?i:i=e(o=a,n)}}function dr(t,e,n){var o,i,r;return function(){var a=Qt(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=Qt(this,t)),a===l?null:a===o&&l===i?r:(i=l,r=e(o=a,s))}}function hr(t,e){var n,o,i,r,a="style."+e,s="end."+a;return function(){var l=Ci(this,t),c=l.on,u=null==l.value[a]?r||(r=cr(e)):void 0;c===n&&i===u||(o=(n=c).copy()).on(s,i=u),l.on=o}}var pr=function(t,e,n){var o="transform"===(t+="")?Oo:Li;return null==e?this.styleTween(t,lr(t,o)).on("end.style."+t,cr(t)):"function"===typeof e?this.styleTween(t,dr(t,o,Ti(this,"style."+t,e))).each(hr(this._id,t)):this.styleTween(t,ur(t,o,e),n).on("end.style."+t,null)};function fr(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function mr(t,e,n){var o,i;function r(){var r=e.apply(this,arguments);return r!==i&&(o=(i=r)&&fr(t,r,n)),o}return r._value=e,r}var gr=function(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==e)return this.tween(o,null);if("function"!==typeof e)throw new Error;return this.tween(o,mr(t,e,null==n?"":n))};function vr(t){return function(){this.textContent=t}}function yr(t){return function(){var e=t(this);this.textContent=null==e?"":e}}var br=function(t){return this.tween("text","function"===typeof t?yr(Ti(this,"text",t)):vr(null==t?"":t+""))};function wr(t){return function(e){this.textContent=t.call(this,e)}}function Cr(t){var e,n;function o(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&wr(o)),e}return o._value=t,o}var xr=function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,Cr(t))},Er=function(){for(var t=this._name,e=this._id,n=kr(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a,s=o[r],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=xi(a,e);bi(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Rr(o,this._parents,t,n)},_r=function(){var t,e,n=this,o=n._id,i=n.size();return new Promise((function(r,a){var s={value:a},l={value:function(){0===--i&&r()}};n.each((function(){var n=Ci(this,o),i=n.on;i!==t&&(e=(t=i).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))},Mr=0;function Rr(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Sr(t){return $e().transition(t)}function kr(){return++Mr}var Tr=$e.prototype;function Lr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Rr.prototype=Sr.prototype={constructor:Rr,select:ir,selectAll:rr,filter:Ji,merge:Ki,selection:sr,transition:Er,call:Tr.call,nodes:Tr.nodes,node:Tr.node,size:Tr.size,empty:Tr.empty,each:Tr.each,on:er,attr:Hi,attrTween:qi,style:pr,styleTween:gr,text:br,textTween:xr,remove:or,tween:ki,delay:Wi,duration:Xi,ease:Qi,end:_r};var Dr={time:null,delay:0,duration:250,ease:Lr};function Fr(t,e){var n;while(!(n=t.__transition)||!(n=n[e]))if(!(t=t.parentNode))return Dr.time=ti(),Dr;return n}var Ar=function(t){var e,n;t instanceof Rr?(e=t._id,t=t._name):(e=kr(),(n=Dr).time=ti(),t=null==t?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a,s=o[r],l=s.length,c=0;c<l;++c)(a=s[c])&&bi(a,t,e,c,s,n||Fr(a,e));return new Rr(o,this._parents,t,e)};$e.prototype.interrupt=Mi,$e.prototype.transition=Ar;function Pr(t){return[+t[0],+t[1]]}function zr(t){return[Pr(t[0]),Pr(t[1])]}["w","e"].map(Nr),["n","s"].map(Nr),["n","w","e","s","nw","ne","sw","se"].map(Nr);function Nr(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Hr=Math.PI,Or=2*Hr,Ir=1e-6,Vr=Or-Ir;function jr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function qr(){return new jr}jr.prototype=qr.prototype={constructor:jr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,o){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+o)},bezierCurveTo:function(t,e,n,o,i,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +o+","+(this._x1=+i)+","+(this._y1=+r)},arcTo:function(t,e,n,o,i){t=+t,e=+e,n=+n,o=+o,i=+i;var r=this._x1,a=this._y1,s=n-t,l=o-e,c=r-t,u=a-e,d=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>Ir)if(Math.abs(u*s-l*c)>Ir&&i){var h=n-r,p=o-a,f=s*s+l*l,m=h*h+p*p,g=Math.sqrt(f),v=Math.sqrt(d),y=i*Math.tan((Hr-Math.acos((f+d-m)/(2*g*v)))/2),b=y/v,w=y/g;Math.abs(b-1)>Ir&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>c*p)+","+(this._x1=t+w*s)+","+(this._y1=e+w*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,o,i,r){t=+t,e=+e,n=+n,r=!!r;var a=n*Math.cos(o),s=n*Math.sin(o),l=t+a,c=e+s,u=1^r,d=r?o-i:i-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Ir||Math.abs(this._y1-c)>Ir)&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%Or+Or),d>Vr?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>Ir&&(this._+="A"+n+","+n+",0,"+ +(d>=Hr)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,o){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +o+"h"+-n+"Z"},toString:function(){return this._}};var Br=qr;var Gr="$";function Wr(){}function Ur(t,e){var n=new Wr;if(t instanceof Wr)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var o,i=-1,r=t.length;if(null==e)while(++i<r)n.set(i,t[i]);else while(++i<r)n.set(e(o=t[i],i,t),o)}else if(t)for(var a in t)n.set(a,t[a]);return n}Wr.prototype=Ur.prototype={constructor:Wr,has:function(t){return Gr+t in this},get:function(t){return this[Gr+t]},set:function(t,e){return this[Gr+t]=e,this},remove:function(t){var e=Gr+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Gr&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Gr&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Gr&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Gr&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Gr&&++t;return t},empty:function(){for(var t in this)if(t[0]===Gr)return!1;return!0},each:function(t){for(var e in this)e[0]===Gr&&t(this[e],e.slice(1),this)}};var $r=Ur;function Xr(){}var Yr=$r.prototype;function Qr(t,e){var n=new Xr;if(t instanceof Xr)t.each((function(t){n.add(t)}));else if(t){var o=-1,i=t.length;if(null==e)while(++o<i)n.add(t[o]);else while(++o<i)n.add(e(t[o],o,t))}return n}Xr.prototype=Qr.prototype={constructor:Xr,has:Yr.has,add:function(t){return t+="",this[Gr+t]=t,this},remove:Yr.remove,clear:Yr.clear,values:Yr.keys,size:Yr.size,empty:Yr.empty,each:Yr.each};var Jr=Array.prototype;Jr.slice;var Kr=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Zr(this.cover(e,n),e,n,t)};function Zr(t,e,n,o){if(isNaN(e)||isNaN(n))return t;var i,r,a,s,l,c,u,d,h,p=t._root,f={data:o},m=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!p)return t._root=f,t;while(p.length)if((c=e>=(r=(m+v)/2))?m=r:v=r,(u=n>=(a=(g+y)/2))?g=a:y=a,i=p,!(p=p[d=u<<1|c]))return i[d]=f,t;if(s=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===s&&n===l)return f.next=p,i?i[d]=f:t._root=f,t;do{i=i?i[d]=new Array(4):t._root=new Array(4),(c=e>=(r=(m+v)/2))?m=r:v=r,(u=n>=(a=(g+y)/2))?g=a:y=a}while((d=u<<1|c)===(h=(l>=a)<<1|s>=r));return i[h]=p,i[d]=f,t}function ta(t){var e,n,o,i,r=t.length,a=new Array(r),s=new Array(r),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(o=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=o,s[n]=i,o<l&&(l=o),o>u&&(u=o),i<c&&(c=i),i>d&&(d=i));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<r;++n)Zr(this,a[n],s[n],t[n]);return this}var ea=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,o=this._y0,i=this._x1,r=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,r=(o=Math.floor(e))+1;else{var a,s,l=i-n,c=this._root;while(n>t||t>=i||o>e||e>=r)switch(s=(e<o)<<1|t<n,a=new Array(4),a[s]=c,c=a,l*=2,s){case 0:i=n+l,r=o+l;break;case 1:n=i-l,r=o+l;break;case 2:i=n+l,o=r-l;break;case 3:n=i-l,o=r-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=o,this._x1=i,this._y1=r,this},na=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},oa=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ia=function(t,e,n,o,i){this.node=t,this.x0=e,this.y0=n,this.x1=o,this.y1=i},ra=function(t,e,n){var o,i,r,a,s,l,c,u=this._x0,d=this._y0,h=this._x1,p=this._y1,f=[],m=this._root;m&&f.push(new ia(m,u,d,h,p)),null==n?n=1/0:(u=t-n,d=e-n,h=t+n,p=e+n,n*=n);while(l=f.pop())if(!(!(m=l.node)||(i=l.x0)>h||(r=l.y0)>p||(a=l.x1)<u||(s=l.y1)<d))if(m.length){var g=(i+a)/2,v=(r+s)/2;f.push(new ia(m[3],g,v,a,s),new ia(m[2],i,v,g,s),new ia(m[1],g,r,a,v),new ia(m[0],i,r,g,v)),(c=(e>=v)<<1|t>=g)&&(l=f[f.length-1],f[f.length-1]=f[f.length-1-c],f[f.length-1-c]=l)}else{var y=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),w=y*y+b*b;if(w<n){var C=Math.sqrt(n=w);u=t-C,d=e-C,h=t+C,p=e+C,o=m.data}}return o},aa=function(t){if(isNaN(r=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,o,i,r,a,s,l,c,u,d,h,p=this._root,f=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!p)return this;if(p.length)while(1){if((c=r>=(s=(f+g)/2))?f=s:g=s,(u=a>=(l=(m+v)/2))?m=l:v=l,e=p,!(p=p[d=u<<1|c]))return this;if(!p.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(n=e,h=d)}while(p.data!==t)if(o=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,o?(i?o.next=i:delete o.next,this):e?(i?e[d]=i:delete e[d],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=i,this)};function sa(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}var la=function(){return this._root},ca=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},ua=function(t){var e,n,o,i,r,a,s=[],l=this._root;l&&s.push(new ia(l,this._x0,this._y0,this._x1,this._y1));while(e=s.pop())if(!t(l=e.node,o=e.x0,i=e.y0,r=e.x1,a=e.y1)&&l.length){var c=(o+r)/2,u=(i+a)/2;(n=l[3])&&s.push(new ia(n,c,u,r,a)),(n=l[2])&&s.push(new ia(n,o,u,c,a)),(n=l[1])&&s.push(new ia(n,c,i,r,u)),(n=l[0])&&s.push(new ia(n,o,i,c,u))}return this},da=function(t){var e,n=[],o=[];this._root&&n.push(new ia(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var i=e.node;if(i.length){var r,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,d=(s+c)/2;(r=i[0])&&n.push(new ia(r,a,s,u,d)),(r=i[1])&&n.push(new ia(r,u,s,l,d)),(r=i[2])&&n.push(new ia(r,a,d,u,c)),(r=i[3])&&n.push(new ia(r,u,d,l,c))}o.push(e)}while(e=o.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this};function ha(t){return t[0]}var pa=function(t){return arguments.length?(this._x=t,this):this._x};function fa(t){return t[1]}var ma=function(t){return arguments.length?(this._y=t,this):this._y};function ga(t,e,n){var o=new va(null==e?ha:e,null==n?fa:n,NaN,NaN,NaN,NaN);return null==t?o:o.addAll(t)}function va(t,e,n,o,i,r){this._x=t,this._y=e,this._x0=n,this._y0=o,this._x1=i,this._y1=r,this._root=void 0}function ya(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}var ba=ga.prototype=va.prototype;ba.copy=function(){var t,e,n=new va(this._x,this._y,this._x0,this._y0,this._x1,this._y1),o=this._root;if(!o)return n;if(!o.length)return n._root=ya(o),n;t=[{source:o,target:n._root=new Array(4)}];while(o=t.pop())for(var i=0;i<4;++i)(e=o.source[i])&&(e.length?t.push({source:e,target:o.target[i]=new Array(4)}):o.target[i]=ya(e));return n},ba.add=Kr,ba.addAll=ta,ba.cover=ea,ba.data=na,ba.extent=oa,ba.find=ra,ba.remove=aa,ba.removeAll=sa,ba.root=la,ba.size=ca,ba.visit=ua,ba.visitAfter=da,ba.x=pa,ba.y=ma;Math.PI,Math.sqrt(5);var wa=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]},Ca=function(t){return t=wa(Math.abs(t)),t?t[1]:NaN},xa=function(t,e){return function(n,o){var i=n.length,r=[],a=0,s=t[0],l=0;while(i>0&&s>0){if(l+s+1>o&&(s=Math.max(1,o-l)),r.push(n.substring(i-=s,i+s)),(l+=s+1)>o)break;s=t[a=(a+1)%t.length]}return r.reverse().join(e)}},Ea=function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}},_a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ma(t){return new Ra(t)}function Ra(t){if(!(e=_a.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}Ma.prototype=Ra.prototype,Ra.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Sa,ka,Ta,La,Da=function(t){t:for(var e,n=t.length,o=1,i=-1;o<n;++o)switch(t[o]){case".":i=e=o;break;case"0":0===i&&(i=o),e=o;break;default:if(i>0){if(!+t[o])break t;i=0}break}return i>0?t.slice(0,i)+t.slice(e+1):t},Fa=function(t,e){var n=wa(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Sa=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=o.length;return r===a?o:r>a?o+new Array(r-a+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+wa(t,Math.max(0,e+r-1))[0]},Aa=function(t,e){var n=wa(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")},Pa={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Aa(100*t,e)},r:Aa,s:Fa,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},za=function(t){return t},Na=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Ha=function(t){var e=t.grouping&&t.thousands?xa(t.grouping,t.thousands):za,n=t.currency,o=t.decimal,i=t.numerals?Ea(t.numerals):za,r=t.percent||"%";function a(t){t=Ma(t);var a=t.fill,s=t.align,l=t.sign,c=t.symbol,u=t.zero,d=t.width,h=t.comma,p=t.precision,f=t.trim,m=t.type;"n"===m?(h=!0,m="g"):Pa[m]||(null==p&&(p=12),f=!0,m="g"),(u||"0"===a&&"="===s)&&(u=!0,a="0",s="=");var g="$"===c?n[0]:"#"===c&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===c?n[1]:/[%p]/.test(m)?r:"",y=Pa[m],b=/[defgprs%]/.test(m);function w(t){var n,r,c,w=g,C=v;if("c"===m)C=y(t)+C,t="";else{t=+t;var x=t<0;if(t=y(Math.abs(t),p),f&&(t=Da(t)),x&&0===+t&&(x=!1),w=(x?"("===l?l:"-":"-"===l||"("===l?"":l)+w,C=("s"===m?Na[8+Sa/3]:"")+C+(x&&"("===l?")":""),b){n=-1,r=t.length;while(++n<r)if(c=t.charCodeAt(n),48>c||c>57){C=(46===c?o+t.slice(n+1):t.slice(n))+C,t=t.slice(0,n);break}}}h&&!u&&(t=e(t,1/0));var E=w.length+t.length+C.length,_=E<d?new Array(d-E+1).join(a):"";switch(h&&u&&(t=e(_+t,_.length?d-C.length:1/0),_=""),s){case"<":t=w+t+C+_;break;case"=":t=w+_+t+C;break;case"^":t=_.slice(0,E=_.length>>1)+w+t+C+_.slice(E);break;default:t=_+w+t+C;break}return i(t)}return p=null==p?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),w.toString=function(){return t+""},w}function s(t,e){var n=a((t=Ma(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(Ca(e)/3))),i=Math.pow(10,-o),r=Na[8+o/3];return function(t){return n(i*t)+r}}return{format:a,formatPrefix:s}};function Oa(t){return ka=Ha(t),Ta=ka.format,La=ka.formatPrefix,ka}Oa({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Ia=function(t){return Math.max(0,-Ca(Math.abs(t)))},Va=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ca(e)/3)))-Ca(Math.abs(t)))},ja=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ca(e)-Ca(t))+1},qa=function(){return Math.random()},Ba=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(qa),function t(e){function n(t,n){var o,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var r;if(null!=o)r=o,o=null;else do{o=2*e()-1,r=2*e()-1,i=o*o+r*r}while(!i||i>1);return t+n*r*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(qa)),Ga=(function t(e){function n(){var t=Ba.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(qa),function t(e){function n(t){return function(){for(var n=0,o=0;o<t;++o)n+=e();return n}}return n.source=t,n}(qa));(function t(e){function n(t){var n=Ga.source(e)(t);return function(){return n()/t}}return n.source=t,n})(qa),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(qa);function Wa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var Ua=Array.prototype,$a=Ua.map,Xa=Ua.slice;var Ya=function(t){return function(){return t}},Qa=function(t){return+t},Ja=[0,1];function Ka(t){return t}function Za(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ya(isNaN(e)?NaN:.5)}function ts(t){var e,n=t[0],o=t[t.length-1];return n>o&&(e=n,n=o,o=e),function(t){return Math.max(n,Math.min(o,t))}}function es(t,e,n){var o=t[0],i=t[1],r=e[0],a=e[1];return i<o?(o=Za(i,o),r=n(a,r)):(o=Za(o,i),r=n(r,a)),function(t){return r(o(t))}}function ns(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),a=-1;t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++a<o)i[a]=Za(t[a],t[a+1]),r[a]=n(e[a],e[a+1]);return function(e){var n=R(t,e,1,o)-1;return r[n](i[n](e))}}function os(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function is(){var t,e,n,o,i,r,a=Ja,s=Ja,l=Lo,c=Ka;function u(){return o=Math.min(a.length,s.length)>2?ns:es,i=r=null,d}function d(e){return isNaN(e=+e)?n:(i||(i=o(a.map(t),s,l)))(t(c(e)))}return d.invert=function(n){return c(e((r||(r=o(s,a.map(t),bo)))(n)))},d.domain=function(t){return arguments.length?(a=$a.call(t,Qa),c===Ka||(c=ts(a)),u()):a.slice()},d.range=function(t){return arguments.length?(s=Xa.call(t),u()):s.slice()},d.rangeRound=function(t){return s=Xa.call(t),l=Do,u()},d.clamp=function(t){return arguments.length?(c=t?ts(a):Ka,d):c!==Ka},d.interpolate=function(t){return arguments.length?(l=t,u()):l},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,o){return t=n,e=o,u()}}function rs(t,e){return is()(t,e)}var as=function(t,e,n,o){var i,r=A(t,e,n);switch(o=Ma(null==o?",f":o),o.type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=o.precision||isNaN(i=Va(r,a))||(o.precision=i),La(o,a);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(i=ja(r,Math.max(Math.abs(t),Math.abs(e))))||(o.precision=i-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(i=Ia(r))||(o.precision=i-2*("%"===o.type));break}return Ta(o)};function ss(t){var e=t.domain;return t.ticks=function(t){var n=e();return D(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var o=e();return as(o[0],o[o.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var o,i=e(),r=0,a=i.length-1,s=i[r],l=i[a];return l<s&&(o=s,s=l,l=o,o=r,r=a,a=o),o=F(s,l,n),o>0?(s=Math.floor(s/o)*o,l=Math.ceil(l/o)*o,o=F(s,l,n)):o<0&&(s=Math.ceil(s*o)/o,l=Math.floor(l*o)/o,o=F(s,l,n)),o>0?(i[r]=Math.floor(s/o)*o,i[a]=Math.ceil(l/o)*o,e(i)):o<0&&(i[r]=Math.ceil(s*o)/o,i[a]=Math.floor(l*o)/o,e(i)),t},t}function ls(){var t=rs(Ka,Ka);return t.copy=function(){return os(t,ls())},Wa.apply(t,arguments),ss(t)}var cs=new Date,us=new Date;function ds(t,e,n,o){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,o,r){var a,s=[];if(n=i.ceil(n),r=null==r?1:Math.floor(r),!(n<o)||!(r>0))return s;do{s.push(a=new Date(+n)),e(n,r),t(n)}while(a<n&&n<o);return s},i.filter=function(n){return ds((function(e){if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),(function(t,o){if(t>=t)if(o<0)while(++o<=0)while(e(t,-1),!n(t));else while(--o>=0)while(e(t,1),!n(t));}))},n&&(i.count=function(e,o){return cs.setTime(+e),us.setTime(+o),t(cs),t(us),Math.floor(n(cs,us))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(o?function(e){return o(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var hs=ds((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));hs.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ds((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):hs:null};hs.range;var ps=1e3,fs=6e4,ms=36e5,gs=864e5,vs=6048e5,ys=ds((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*ps)}),(function(t,e){return(e-t)/ps}),(function(t){return t.getUTCSeconds()})),bs=(ys.range,ds((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ps)}),(function(t,e){t.setTime(+t+e*fs)}),(function(t,e){return(e-t)/fs}),(function(t){return t.getMinutes()}))),ws=(bs.range,ds((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ps-t.getMinutes()*fs)}),(function(t,e){t.setTime(+t+e*ms)}),(function(t,e){return(e-t)/ms}),(function(t){return t.getHours()}))),Cs=(ws.range,ds((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fs)/gs}),(function(t){return t.getDate()-1}))),xs=Cs;Cs.range;function Es(t){return ds((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fs)/vs}))}var _s=Es(0),Ms=Es(1),Rs=Es(2),Ss=Es(3),ks=Es(4),Ts=Es(5),Ls=Es(6),Ds=(_s.range,Ms.range,Rs.range,Ss.range,ks.range,Ts.range,Ls.range,ds((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Fs=(Ds.range,ds((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));Fs.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ds((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var As=Fs,Ps=(Fs.range,ds((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*fs)}),(function(t,e){return(e-t)/fs}),(function(t){return t.getUTCMinutes()}))),zs=(Ps.range,ds((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*ms)}),(function(t,e){return(e-t)/ms}),(function(t){return t.getUTCHours()}))),Ns=(zs.range,ds((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/gs}),(function(t){return t.getUTCDate()-1}))),Hs=Ns;Ns.range;function Os(t){return ds((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/vs}))}var Is=Os(0),Vs=Os(1),js=Os(2),qs=Os(3),Bs=Os(4),Gs=Os(5),Ws=Os(6),Us=(Is.range,Vs.range,js.range,qs.range,Bs.range,Gs.range,Ws.range,ds((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),$s=(Us.range,ds((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));$s.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ds((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Xs=$s;$s.range;function Ys(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Qs(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Js(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Ks(t){var e=t.dateTime,n=t.date,o=t.time,i=t.periods,r=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=ll(i),u=cl(i),d=ll(r),h=cl(r),p=ll(a),f=cl(a),m=ll(s),g=cl(s),v=ll(l),y=cl(l),b={a:A,A:P,b:z,B:N,c:null,d:Tl,e:Tl,f:Pl,H:Ll,I:Dl,j:Fl,L:Al,m:zl,M:Nl,p:H,Q:uc,s:dc,S:Hl,u:Ol,U:Il,V:Vl,w:jl,W:ql,x:null,X:null,y:Bl,Y:Gl,Z:Wl,"%":cc},w={a:O,A:I,b:V,B:j,c:null,d:Ul,e:Ul,f:Jl,H:$l,I:Xl,j:Yl,L:Ql,m:Kl,M:Zl,p:q,Q:uc,s:dc,S:tc,u:ec,U:nc,V:oc,w:ic,W:rc,x:null,X:null,y:ac,Y:sc,Z:lc,"%":cc},C={a:R,A:S,b:k,B:T,c:L,d:bl,e:bl,f:Ml,H:Cl,I:Cl,j:wl,L:_l,m:yl,M:xl,p:M,Q:Sl,s:kl,S:El,u:dl,U:hl,V:pl,w:ul,W:fl,x:D,X:F,y:gl,Y:ml,Z:vl,"%":Rl};function x(t,e){return function(n){var o,i,r,a=[],s=-1,l=0,c=t.length;n instanceof Date||(n=new Date(+n));while(++s<c)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=nl[o=t.charAt(++s)])?o=t.charAt(++s):i="e"===o?" ":"0",(r=e[o])&&(o=r(n,i)),a.push(o),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function E(t,e){return function(n){var o,i,r=Js(1900),a=_(r,t,n+="",0);if(a!=n.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||r.V>53)return null;"w"in r||(r.w=1),"Z"in r?(o=Qs(Js(r.y)),i=o.getUTCDay(),o=i>4||0===i?Vs.ceil(o):Vs(o),o=Hs.offset(o,7*(r.V-1)),r.y=o.getUTCFullYear(),r.m=o.getUTCMonth(),r.d=o.getUTCDate()+(r.w+6)%7):(o=e(Js(r.y)),i=o.getDay(),o=i>4||0===i?Ms.ceil(o):Ms(o),o=xs.offset(o,7*(r.V-1)),r.y=o.getFullYear(),r.m=o.getMonth(),r.d=o.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),i="Z"in r?Qs(Js(r.y)).getUTCDay():e(Js(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(i+5)%7:r.w+7*r.U-(i+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Qs(r)):e(r)}}function _(t,e,n,o){var i,r,a=0,s=e.length,l=n.length;while(a<s){if(o>=l)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),r=C[i in nl?e.charAt(a++):i],!r||(o=r(t,n,o))<0)return-1}else if(i!=n.charCodeAt(o++))return-1}return o}function M(t,e,n){var o=c.exec(e.slice(n));return o?(t.p=u[o[0].toLowerCase()],n+o[0].length):-1}function R(t,e,n){var o=p.exec(e.slice(n));return o?(t.w=f[o[0].toLowerCase()],n+o[0].length):-1}function S(t,e,n){var o=d.exec(e.slice(n));return o?(t.w=h[o[0].toLowerCase()],n+o[0].length):-1}function k(t,e,n){var o=v.exec(e.slice(n));return o?(t.m=y[o[0].toLowerCase()],n+o[0].length):-1}function T(t,e,n){var o=m.exec(e.slice(n));return o?(t.m=g[o[0].toLowerCase()],n+o[0].length):-1}function L(t,n,o){return _(t,e,n,o)}function D(t,e,o){return _(t,n,e,o)}function F(t,e,n){return _(t,o,e,n)}function A(t){return a[t.getDay()]}function P(t){return r[t.getDay()]}function z(t){return l[t.getMonth()]}function N(t){return s[t.getMonth()]}function H(t){return i[+(t.getHours()>=12)]}function O(t){return a[t.getUTCDay()]}function I(t){return r[t.getUTCDay()]}function V(t){return l[t.getUTCMonth()]}function j(t){return s[t.getUTCMonth()]}function q(t){return i[+(t.getUTCHours()>=12)]}return(b.x=x(n,b),b.X=x(o,b),b.c=x(e,b),w.x=x(n,w),w.X=x(o,w),w.c=x(e,w),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",Ys);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t,Qs);return e.toString=function(){return t},e}})}var Zs,tl,el,nl={"-":"",_:" ",0:"0"},ol=/^\s*\d+/,il=/^%/,rl=/[\\^$*+?|[\]().{}]/g;function al(t,e,n){var o=t<0?"-":"",i=(o?-t:t)+"",r=i.length;return o+(r<n?new Array(n-r+1).join(e)+i:i)}function sl(t){return t.replace(rl,"\\$&")}function ll(t){return new RegExp("^(?:"+t.map(sl).join("|")+")","i")}function cl(t){var e={},n=-1,o=t.length;while(++n<o)e[t[n].toLowerCase()]=n;return e}function ul(t,e,n){var o=ol.exec(e.slice(n,n+1));return o?(t.w=+o[0],n+o[0].length):-1}function dl(t,e,n){var o=ol.exec(e.slice(n,n+1));return o?(t.u=+o[0],n+o[0].length):-1}function hl(t,e,n){var o=ol.exec(e.slice(n,n+2));return o?(t.U=+o[0],n+o[0].length):-1}function pl(t,e,n){var o=ol.exec(e.slice(n,n+2));return o?(t.V=+o[0],n+o[0].length):-1}function fl(t,e,n){var o=ol.exec(e.slice(n,n+2));return o?(t.W=+o[0],n+o[0].length):-1}function ml(t,e,n){var o=ol.exec(e.slice(n,n+4));return o?(t.y=+o[0],n+o[0].length):-1}function gl(t,e,n){var o=ol.exec(e.slice(n,n+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function vl(t,e,n){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function yl(t,e,n){var o=ol.exec(e.slice(n,n+2));return o?(t.m=o[0]-1,n+o[0].length):-1}function bl(t,e,n){var o=ol.exec(e.slice(n,n+2));return o?(t.d=+o[0],n+o[0].length):-1}function wl(t,e,n){var o=ol.exec(e.slice(n,n+3));return o?(t.m=0,t.d=+o[0],n+o[0].length):-1}function Cl(t,e,n){var o=ol.exec(e.slice(n,n+2));return o?(t.H=+o[0],n+o[0].length):-1}function xl(t,e,n){var o=ol.exec(e.slice(n,n+2));return o?(t.M=+o[0],n+o[0].length):-1}function El(t,e,n){var o=ol.exec(e.slice(n,n+2));return o?(t.S=+o[0],n+o[0].length):-1}function _l(t,e,n){var o=ol.exec(e.slice(n,n+3));return o?(t.L=+o[0],n+o[0].length):-1}function Ml(t,e,n){var o=ol.exec(e.slice(n,n+6));return o?(t.L=Math.floor(o[0]/1e3),n+o[0].length):-1}function Rl(t,e,n){var o=il.exec(e.slice(n,n+1));return o?n+o[0].length:-1}function Sl(t,e,n){var o=ol.exec(e.slice(n));return o?(t.Q=+o[0],n+o[0].length):-1}function kl(t,e,n){var o=ol.exec(e.slice(n));return o?(t.Q=1e3*+o[0],n+o[0].length):-1}function Tl(t,e){return al(t.getDate(),e,2)}function Ll(t,e){return al(t.getHours(),e,2)}function Dl(t,e){return al(t.getHours()%12||12,e,2)}function Fl(t,e){return al(1+xs.count(As(t),t),e,3)}function Al(t,e){return al(t.getMilliseconds(),e,3)}function Pl(t,e){return Al(t,e)+"000"}function zl(t,e){return al(t.getMonth()+1,e,2)}function Nl(t,e){return al(t.getMinutes(),e,2)}function Hl(t,e){return al(t.getSeconds(),e,2)}function Ol(t){var e=t.getDay();return 0===e?7:e}function Il(t,e){return al(_s.count(As(t),t),e,2)}function Vl(t,e){var n=t.getDay();return t=n>=4||0===n?ks(t):ks.ceil(t),al(ks.count(As(t),t)+(4===As(t).getDay()),e,2)}function jl(t){return t.getDay()}function ql(t,e){return al(Ms.count(As(t),t),e,2)}function Bl(t,e){return al(t.getFullYear()%100,e,2)}function Gl(t,e){return al(t.getFullYear()%1e4,e,4)}function Wl(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+al(e/60|0,"0",2)+al(e%60,"0",2)}function Ul(t,e){return al(t.getUTCDate(),e,2)}function $l(t,e){return al(t.getUTCHours(),e,2)}function Xl(t,e){return al(t.getUTCHours()%12||12,e,2)}function Yl(t,e){return al(1+Hs.count(Xs(t),t),e,3)}function Ql(t,e){return al(t.getUTCMilliseconds(),e,3)}function Jl(t,e){return Ql(t,e)+"000"}function Kl(t,e){return al(t.getUTCMonth()+1,e,2)}function Zl(t,e){return al(t.getUTCMinutes(),e,2)}function tc(t,e){return al(t.getUTCSeconds(),e,2)}function ec(t){var e=t.getUTCDay();return 0===e?7:e}function nc(t,e){return al(Is.count(Xs(t),t),e,2)}function oc(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Bs(t):Bs.ceil(t),al(Bs.count(Xs(t),t)+(4===Xs(t).getUTCDay()),e,2)}function ic(t){return t.getUTCDay()}function rc(t,e){return al(Vs.count(Xs(t),t),e,2)}function ac(t,e){return al(t.getUTCFullYear()%100,e,2)}function sc(t,e){return al(t.getUTCFullYear()%1e4,e,4)}function lc(){return"+0000"}function cc(){return"%"}function uc(t){return+t}function dc(t){return Math.floor(+t/1e3)}function hc(t){return Zs=Ks(t),Zs.format,Zs.parse,tl=Zs.utcFormat,el=Zs.utcParse,Zs}hc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var pc="%Y-%m-%dT%H:%M:%S.%LZ";function fc(t){return t.toISOString()}Date.prototype.toISOString||tl(pc);function mc(t){var e=new Date(t);return isNaN(e)?null:e}+new Date("2000-01-01T00:00:00.000Z")||el(pc);var gc=function(t){return function(){return t}};function vc(t){this._context=t}vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};var yc=function(t){return new vc(t)};function bc(t){return t[0]}function wc(t){return t[1]}var Cc=function(){var t=bc,e=wc,n=gc(!0),o=null,i=yc,r=null;function a(a){var s,l,c,u=a.length,d=!1;for(null==o&&(r=i(c=Br())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(l,s,a),+e(l,s,a));if(c)return r=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"===typeof e?e:gc(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:gc(+t),a):e},a.defined=function(t){return arguments.length?(n="function"===typeof t?t:gc(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=o&&(r=i(o)),a):i},a.context=function(t){return arguments.length?(null==t?o=r=null:r=i(o=t),a):o},a},xc=function(){var t=bc,e=null,n=gc(0),o=wc,i=gc(!0),r=null,a=yc,s=null;function l(l){var c,u,d,h,p,f=l.length,m=!1,g=new Array(f),v=new Array(f);for(null==r&&(s=a(p=Br())),c=0;c<=f;++c){if(!(c<f&&i(h=l[c],c,l))===m)if(m=!m)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=c-1;d>=u;--d)s.point(g[d],v[d]);s.lineEnd(),s.areaEnd()}m&&(g[c]=+t(h,c,l),v[c]=+n(h,c,l),s.point(e?+e(h,c,l):g[c],o?+o(h,c,l):v[c]))}if(p)return s=null,p+""||null}function c(){return Cc().defined(i).curve(a).context(r)}return l.x=function(n){return arguments.length?(t="function"===typeof n?n:gc(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"===typeof e?e:gc(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"===typeof t?t:gc(+t),l):e},l.y=function(t){return arguments.length?(n="function"===typeof t?t:gc(+t),o=null,l):n},l.y0=function(t){return arguments.length?(n="function"===typeof t?t:gc(+t),l):n},l.y1=function(t){return arguments.length?(o=null==t?null:"function"===typeof t?t:gc(+t),l):o},l.lineX0=l.lineY0=function(){return c().x(t).y(n)},l.lineY1=function(){return c().x(t).y(o)},l.lineX1=function(){return c().x(e).y(n)},l.defined=function(t){return arguments.length?(i="function"===typeof t?t:gc(!!t),l):i},l.curve=function(t){return arguments.length?(a=t,null!=r&&(s=a(r)),l):a},l.context=function(t){return arguments.length?(null==t?r=s=null:s=a(r=t),l):r},l},Ec=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,Math.PI),_c=2*Ec;var Mc={draw:function(t,e){var n=Math.sqrt(e/Ec);t.moveTo(n,0),t.arc(0,0,n,0,_c)}},Rc=(Math.sqrt(1/3),Math.sin(Ec/10)/Math.sin(7*Ec/10)),Sc=(Math.sin(_c/10),Math.cos(_c/10),Math.sqrt(3)),kc={draw:function(t,e){var n=-Math.sqrt(e/(3*Sc));t.moveTo(0,2*n),t.lineTo(-Sc*n,-n),t.lineTo(Sc*n,-n),t.closePath()}},Tc=(Math.sqrt(3),Math.sqrt(12),function(){var t=gc(Mc),e=gc(64),n=null;function o(){var o;if(n||(n=o=Br()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return o.type=function(e){return arguments.length?(t="function"===typeof e?e:gc(e),o):t},o.size=function(t){return arguments.length?(e="function"===typeof t?t:gc(+t),o):e},o.context=function(t){return arguments.length?(n=null==t?null:t,o):n},o});function Lc(t,e){this._context=t,this._t=e}Lc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}this._x=t,this._y=e}};function Dc(t){return new Lc(t,1)}function Fc(){this._=null}function Ac(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Pc(t,e){var n=e,o=e.R,i=n.U;i?i.L===n?i.L=o:i.R=o:t._=o,o.U=i,n.U=o,n.R=o.L,n.R&&(n.R.U=n),o.L=n}function zc(t,e){var n=e,o=e.L,i=n.U;i?i.L===n?i.L=o:i.R=o:t._=o,o.U=i,n.U=o,n.L=o.R,n.L&&(n.L.U=n),o.R=n}function Nc(t){while(t.L)t=t.L;return t}Fc.prototype={constructor:Fc,insert:function(t,e){var n,o,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){t=t.R;while(t.L)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Nc(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);e.L=e.R=null,e.U=n,e.C=!0,t=e;while(n&&n.C)o=n.U,n===o.L?(i=o.R,i&&i.C?(n.C=i.C=!1,o.C=!0,t=o):(t===n.R&&(Pc(this,n),t=n,n=t.U),n.C=!1,o.C=!0,zc(this,o))):(i=o.L,i&&i.C?(n.C=i.C=!1,o.C=!0,t=o):(t===n.L&&(zc(this,n),t=n,n=t.U),n.C=!1,o.C=!0,Pc(this,o))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,o,i=t.U,r=t.L,a=t.R;if(n=r?a?Nc(a):r:a,i?i.L===t?i.L=n:i.R=n:this._=n,r&&a?(o=n.C,n.C=t.C,n.L=r,r.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(o=t.C,t=n),t&&(t.U=i),!o)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,Pc(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,zc(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Pc(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,zc(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Pc(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,zc(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Hc=Fc;function Oc(t,e,n,o){var i=[null,null],r=hu.push(i)-1;return i.left=t,i.right=e,n&&Vc(i,t,e,n),o&&Vc(i,e,t,o),uu[t.index].halfedges.push(r),uu[e.index].halfedges.push(r),i}function Ic(t,e,n){var o=[e,n];return o.left=t,o}function Vc(t,e,n,o){t[0]||t[1]?t.left===n?t[1]=o:t[0]=o:(t[0]=o,t.left=e,t.right=n)}function jc(t,e,n,o,i){var r,a=t[0],s=t[1],l=a[0],c=a[1],u=s[0],d=s[1],h=0,p=1,f=u-l,m=d-c;if(r=e-l,f||!(r>0)){if(r/=f,f<0){if(r<h)return;r<p&&(p=r)}else if(f>0){if(r>p)return;r>h&&(h=r)}if(r=o-l,f||!(r<0)){if(r/=f,f<0){if(r>p)return;r>h&&(h=r)}else if(f>0){if(r<h)return;r<p&&(p=r)}if(r=n-c,m||!(r>0)){if(r/=m,m<0){if(r<h)return;r<p&&(p=r)}else if(m>0){if(r>p)return;r>h&&(h=r)}if(r=i-c,m||!(r<0)){if(r/=m,m<0){if(r>p)return;r>h&&(h=r)}else if(m>0){if(r<h)return;r<p&&(p=r)}return!(h>0||p<1)||(h>0&&(t[0]=[l+h*f,c+h*m]),p<1&&(t[1]=[l+p*f,c+p*m]),!0)}}}}}function qc(t,e,n,o,i){var r=t[1];if(r)return!0;var a,s,l=t[0],c=t.left,u=t.right,d=c[0],h=c[1],p=u[0],f=u[1],m=(d+p)/2,g=(h+f)/2;if(f===h){if(m<e||m>=o)return;if(d>p){if(l){if(l[1]>=i)return}else l=[m,n];r=[m,i]}else{if(l){if(l[1]<n)return}else l=[m,i];r=[m,n]}}else if(a=(d-p)/(f-h),s=g-a*m,a<-1||a>1)if(d>p){if(l){if(l[1]>=i)return}else l=[(n-s)/a,n];r=[(i-s)/a,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/a,i];r=[(n-s)/a,n]}else if(h<f){if(l){if(l[0]>=o)return}else l=[e,a*e+s];r=[o,a*o+s]}else{if(l){if(l[0]<e)return}else l=[o,a*o+s];r=[e,a*e+s]}return t[0]=l,t[1]=r,!0}function Bc(t,e,n,o){var i,r=hu.length;while(r--)qc(i=hu[r],t,e,n,o)&&jc(i,t,e,n,o)&&(Math.abs(i[0][0]-i[1][0])>pu||Math.abs(i[0][1]-i[1][1])>pu)||delete hu[r]}function Gc(t){return uu[t.index]={site:t,halfedges:[]}}function Wc(t,e){var n=t.site,o=e.left,i=e.right;return n===i&&(i=o,o=n),i?Math.atan2(i[1]-o[1],i[0]-o[0]):(n===o?(o=e[1],i=e[0]):(o=e[0],i=e[1]),Math.atan2(o[0]-i[0],i[1]-o[1]))}function Uc(t,e){return e[+(e.left!==t.site)]}function $c(t,e){return e[+(e.left===t.site)]}function Xc(){for(var t,e,n,o,i=0,r=uu.length;i<r;++i)if((t=uu[i])&&(o=(e=t.halfedges).length)){var a=new Array(o),s=new Array(o);for(n=0;n<o;++n)a[n]=n,s[n]=Wc(t,hu[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<o;++n)s[n]=e[a[n]];for(n=0;n<o;++n)e[n]=s[n]}}function Yc(t,e,n,o){var i,r,a,s,l,c,u,d,h,p,f,m,g=uu.length,v=!0;for(i=0;i<g;++i)if(r=uu[i]){a=r.site,l=r.halfedges,s=l.length;while(s--)hu[l[s]]||l.splice(s,1);s=0,c=l.length;while(s<c)p=$c(r,hu[l[s]]),f=p[0],m=p[1],u=Uc(r,hu[l[++s%c]]),d=u[0],h=u[1],(Math.abs(f-d)>pu||Math.abs(m-h)>pu)&&(l.splice(s,0,hu.push(Ic(a,p,Math.abs(f-t)<pu&&o-m>pu?[t,Math.abs(d-t)<pu?h:o]:Math.abs(m-o)<pu&&n-f>pu?[Math.abs(h-o)<pu?d:n,o]:Math.abs(f-n)<pu&&m-e>pu?[n,Math.abs(d-n)<pu?h:e]:Math.abs(m-e)<pu&&f-t>pu?[Math.abs(h-e)<pu?d:t,e]:null))-1),++c);c&&(v=!1)}if(v){var y,b,w,C=1/0;for(i=0,v=null;i<g;++i)(r=uu[i])&&(a=r.site,y=a[0]-t,b=a[1]-e,w=y*y+b*b,w<C&&(C=w,v=r));if(v){var x=[t,e],E=[t,o],_=[n,o],M=[n,e];v.halfedges.push(hu.push(Ic(a=v.site,x,E))-1,hu.push(Ic(a,E,_))-1,hu.push(Ic(a,_,M))-1,hu.push(Ic(a,M,x))-1)}}for(i=0;i<g;++i)(r=uu[i])&&(r.halfedges.length||delete uu[i])}var Qc,Jc=[];function Kc(){Ac(this),this.x=this.y=this.arc=this.site=this.cy=null}function Zc(t){var e=t.P,n=t.N;if(e&&n){var o=e.site,i=t.site,r=n.site;if(o!==r){var a=i[0],s=i[1],l=o[0]-a,c=o[1]-s,u=r[0]-a,d=r[1]-s,h=2*(l*d-c*u);if(!(h>=-fu)){var p=l*l+c*c,f=u*u+d*d,m=(d*p-c*f)/h,g=(l*f-u*p)/h,v=Jc.pop()||new Kc;v.arc=t,v.site=i,v.x=m+a,v.y=(v.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=v;var y=null,b=du._;while(b)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}du.insert(y,v),y||(Qc=v)}}}}function tu(t){var e=t.circle;e&&(e.P||(Qc=e.N),du.remove(e),Jc.push(e),Ac(e),t.circle=null)}var eu=[];function nu(){Ac(this),this.edge=this.site=this.circle=null}function ou(t){var e=eu.pop()||new nu;return e.site=t,e}function iu(t){tu(t),cu.remove(t),eu.push(t),Ac(t)}function ru(t){var e=t.circle,n=e.x,o=e.cy,i=[n,o],r=t.P,a=t.N,s=[t];iu(t);var l=r;while(l.circle&&Math.abs(n-l.circle.x)<pu&&Math.abs(o-l.circle.cy)<pu)r=l.P,s.unshift(l),iu(l),l=r;s.unshift(l),tu(l);var c=a;while(c.circle&&Math.abs(n-c.circle.x)<pu&&Math.abs(o-c.circle.cy)<pu)a=c.N,s.push(c),iu(c),c=a;s.push(c),tu(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],Vc(c.edge,l.site,c.site,i);l=s[0],c=s[d-1],c.edge=Oc(l.site,c.site,null,i),Zc(l),Zc(c)}function au(t){var e,n,o,i,r=t[0],a=t[1],s=cu._;while(s)if(o=su(s,a)-r,o>pu)s=s.L;else{if(i=r-lu(s,a),!(i>pu)){o>-pu?(e=s.P,n=s):i>-pu?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}Gc(t);var l=ou(t);if(cu.insert(e,l),e||n){if(e===n)return tu(e),n=ou(e.site),cu.insert(l,n),l.edge=n.edge=Oc(e.site,l.site),Zc(e),void Zc(n);if(n){tu(e),tu(n);var c=e.site,u=c[0],d=c[1],h=t[0]-u,p=t[1]-d,f=n.site,m=f[0]-u,g=f[1]-d,v=2*(h*g-p*m),y=h*h+p*p,b=m*m+g*g,w=[(g*y-p*b)/v+u,(h*b-m*y)/v+d];Vc(n.edge,c,f,w),l.edge=Oc(c,t,null,w),n.edge=Oc(t,f,null,w),Zc(e),Zc(n)}else l.edge=Oc(e.site,l.site)}}function su(t,e){var n=t.site,o=n[0],i=n[1],r=i-e;if(!r)return o;var a=t.P;if(!a)return-1/0;n=a.site;var s=n[0],l=n[1],c=l-e;if(!c)return s;var u=s-o,d=1/r-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+i-r/2)))/d+o:(o+s)/2}function lu(t,e){var n=t.N;if(n)return su(n,e);var o=t.site;return o[1]===e?o[0]:1/0}var cu,uu,du,hu,pu=1e-6,fu=1e-12;function mu(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function gu(t,e){return e[1]-t[1]||e[0]-t[0]}function vu(t,e){var n,o,i,r=t.sort(gu).pop();hu=[],uu=new Array(t.length),cu=new Hc,du=new Hc;while(1)if(i=Qc,r&&(!i||r[1]<i.y||r[1]===i.y&&r[0]<i.x))r[0]===n&&r[1]===o||(au(r),n=r[0],o=r[1]),r=t.pop();else{if(!i)break;ru(i.arc)}if(Xc(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],c=+e[1][1];Bc(a,s,l,c),Yc(a,s,l,c)}this.edges=hu,this.cells=uu,cu=du=hu=uu=null}vu.prototype={constructor:vu,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Uc(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,o){if(r=(i=n.halfedges).length){var i,r,a,s=n.site,l=-1,c=e[i[r-1]],u=c.left===s?c.right:c.left;while(++l<r)a=u,c=e[i[l]],u=c.left===s?c.right:c.left,a&&u&&o<a.index&&o<u.index&&mu(s,a,u)<0&&t.push([s.data,a.data,u.data])}})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){var o,i,r=this,a=r._found||0,s=r.cells.length;while(!(i=r.cells[a]))if(++a>=s)return null;var l=t-i.site[0],c=e-i.site[1],u=l*l+c*c;do{i=r.cells[o=a],a=null,i.halfedges.forEach((function(n){var o=r.edges[n],s=o.left;if(s!==i.site&&s||(s=o.right)){var l=t-s[0],c=e-s[1],d=l*l+c*c;d<u&&(u=d,a=s.index)}}))}while(null!==a);return r._found=o,null==n||u<=n*n?i.site:null}};function yu(t,e,n){this.k=t,this.x=e,this.y=n}yu.prototype={constructor:yu,scale:function(t){return 1===t?this:new yu(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new yu(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bu=new yu(1,0,0);function wu(t){while(!t.__zoom)if(!(t=t.parentNode))return bu;return t.__zoom}wu.prototype=yu.prototype;var Cu={name:"coordinates",props:{region:{type:Object},dimensions:{type:Object}},methods:{format_position_ticks:function(t){return Ta("~s")(t)+"bp"},position_ticks:function(){for(var t=[],e=this.dimensions.width-this.dimensions.margin.left-this.dimensions.margin.right,n=0;n<e;n+=100)t.push(Math.floor(this.x_scale.invert(n)));return t},init:function(){this.svg=Xe(this.$el).append("div").style("max-height","".concat(this.height,"px")).style("display","block").style("overflow-y","hidden").style("overflow-x","hidden").append("svg").style("height","20px").style("display","block"),this.x_axis=Y(),this.x_axis_g=this.svg.append("g"),this.x_scale=ls()},draw:function(){this.svg.attr("width",this.dimensions.width),this.x_axis_g.attr("transform","translate(".concat(this.dimensions.margin.left,", 0)")),this.x_scale.range(this.region.segments.plot).domain(this.region.segments.region),this.x_axis.scale(this.x_scale).tickValues(this.position_ticks()).tickFormat(this.format_position_ticks),this.x_axis_g.call(this.x_axis)}},beforeCreate:function(){this.height=20,this.svg=null,this.x_axis=null,this.x_axis_g=null,this.x_scale=null},created:function(){},mounted:function(){this.init(),this.region.segments.region.every((function(t){return null!=t}))&&this.region.segments.plot.every((function(t){return null!=t}))&&this.draw()},watch:{region:{handler:function(t,e){this.region.segments.region.every((function(t){return null!=t}))&&this.region.segments.plot.every((function(t){return null!=t}))&&this.draw()},deep:!0}}},xu=Cu;n("14ea");function Eu(t,e,n,o,i,r,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}var _u=Eu(xu,b,w,!1,null,"8a710ffc",null),Mu=_u.exports,Ru=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child-component"},[n("button",{staticClass:"close-button",on:{click:function(e){return t.$emit("close")}}},[n("font-awesome-icon",{staticStyle:{"background-color":"transparent"},attrs:{icon:t.closeIcon}})],1),t.loading?n("div",{staticClass:"d-flex align-items-center bravo-message"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary ml-auto",attrs:{role:"status","aria-hidden":"true"}}),n("strong",[t._v(" Loading...")])]):t._e(),t.failed?n("div",{staticClass:"bravo-message"},[t._v("Error while loading coverage data")]):t._e(),t.loaded&&0==t.loaded_data_size?n("div",{staticClass:"bravo-message"},[t._v("No coverage data for this region")]):t._e()])},Su=[],ku=(n("551c"),n("a745")),Tu=n.n(ku);function Lu(t){if(Tu()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var Du=n("774e"),Fu=n.n(Du),Au=n("c8bb"),Pu=n.n(Au);function zu(t){if(Pu()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return Fu()(t)}function Nu(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Hu(t){return Lu(t)||zu(t)||Nu()}var Ou={name:"depth",props:{api:{type:String},region:{type:Object},dimensions:{type:Object},hoveredVariant:{type:Object}},components:{FontAwesomeIcon:l["a"]},data:function(){return{loading:!1,loaded:!1,failed:!1,loaded_data_size:0,closeIcon:v}},methods:{load_cycle:function(t,e,n,o){var i=this;s.a.post(t,{size:e,next:n}).then((function(t){var n=t.data;i.loaded_data_size+=n.data.length,o=o.then((function(){var t;n.data.length>0&&(i.coverage_stats.pop(),(t=i.coverage_stats).push.apply(t,Hu(n.data)),i.coverage_stats.push(JSON.parse(JSON.stringify(n.data[n.data.length-1]))),i.coverage_stats[i.coverage_stats.length-1].last=!0,i.initializeCoverageSVG(),i.draw())})),null!=n.next?i.load_cycle("".concat(i.api,"coverage/").concat(i.region.regionChrom,"-").concat(i.region.regionStart,"-").concat(i.region.regionStop),e,n.next,o):(i.loading=!1,i.loaded=!0)})).catch((function(t){i.loaded=!1,i.loading=!1,i.failed=!0}))},load:function(){this.failed=!1,this.loaded=!1,this.loading=!0,this.coverage_stats=[],this.loaded_data_size=0,this.load_cycle("".concat(this.api,"coverage/").concat(this.region.regionChrom,"-").concat(this.region.regionStart,"-").concat(this.region.regionStop),1e4,null,new Promise((function(t){return t()})))},format_y_ticks:function(t){return Ta("d")(t)+"x"},initializeSVG:function(){this.svg=Xe(this.$el).append("svg").style("display","block").attr("width",this.dimensions.width).attr("height",this.height+this.dimensions.margin.top+this.dimensions.margin.bottom),this.drawing_clip=this.svg.append("clipPath").attr("id","depth-clip").append("rect").attr("x",0).attr("y",0),this.drawing=this.svg.append("g"),this.depth_g=this.drawing.append("g"),this.y_axis_g=this.drawing.append("g").style("font-size","9px"),this.drawing.append("text").attr("transform","translate(".concat(11-this.dimensions.margin.left,",").concat(this.height/2,") rotate(-90)")).style("font-size","11px").style("text-anchor","middle").text("Avg. Depth"),this.x_scale=ls(),this.y_axis=Q(),this.y_scale=ls()},initializeCoverageSVG:function(){this.depth_g.selectAll("path").data([this.coverage_stats]).enter().append("path").style("fill",this.color).style("stroke-width",.1).style("stroke","black")},draw:function(){var t=this;this.svg.attr("width",this.dimensions.width).attr("height",this.height+this.dimensions.margin.top+this.dimensions.margin.bottom),this.drawing.attr("transform","translate(".concat(this.dimensions.margin.left,", ").concat(this.dimensions.margin.top,")")),this.drawing_clip.attr("width",this.dimensions.width-this.dimensions.margin.left-this.dimensions.margin.right).attr("height",this.height),this.x_scale.range(this.region.segments.plot).domain(this.region.segments.region),this.y_scale.range([this.height,0]).domain([0,P(this.coverage_stats,(function(t){return t.mean}))]),this.y_axis.scale(this.y_scale).ticks(4).tickFormat(this.format_y_ticks),this.y_axis_g.call(this.y_axis);var e=xc().x((function(e,n){return e.last?t.x_scale(e.end):t.x_scale(e.start)})).y0((function(t){return 0})).y1((function(t){return 0})).y0((function(e){return t.height})).y1((function(e){return t.y_scale(e.mean)})).curve(Dc);this.drawing.selectAll("g>path:last-child").attr("clip-path","url(#depth-clip)").attr("d",e)},highlight:function(){this.drawing.selectAll(".highlight_line").remove(),null!=this.hoveredVariant.index&&this.hoveredVariant.hovered&&this.drawing.append("line").attr("class","highlight_line").attr("x1",this.x_scale(this.hoveredVariant.data.pos)).attr("y1",0).attr("x2",this.x_scale(this.hoveredVariant.data.pos)).attr("y2",this.height).attr("stroke-width",2).attr("stroke-linecap","round").attr("stroke","#e77f00")}},beforeCreate:function(){this.height=70,this.color="#ffa37c",this.svg=null,this.drawing=null,this.drawing_g=null,this.x_scale=null,this.y_axis=null,this.y_scale=null,this.y_axis_g=null,this.coverage_stats=[]},created:function(){},mounted:function(){this.initializeSVG(),null!=this.region.regionChrom&&null!=this.region.regionStart&&null!=this.region.regionStop&&this.region.segments.region.every((function(t){return null!=t}))&&this.region.segments.plot.every((function(t){return null!=t}))&&this.load()},watch:{region:{handler:function(t,e){t.regionChrom==e.regionChrom&&t.regionStart==e.regionStart&&t.regionStop==e.regionStop?!this.loading&&!this.failed&&this.loaded_data_size>0&&(this.draw(),this.highlight()):this.load()},deep:!0},hoveredVariant:function(t,e){!this.loading&&!this.failed&&this.loaded_data_size>0&&this.highlight()}}},Iu=Ou,Vu=(n("9aec"),Eu(Iu,Ru,Su,!1,null,"c773b6fc",null)),ju=Vu.exports,qu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child-component"},[n("div",{staticClass:"bravo-tooltip"},[n("div",{domProps:{innerHTML:t._s(t.tooltipHtml)}})]),n("button",{staticClass:"close-button",on:{click:function(e){return t.$emit("close")}}},[n("font-awesome-icon",{staticStyle:{"background-color":"transparent"},attrs:{icon:t.closeIcon}})],1),t.loading?n("div",{staticClass:"d-flex align-items-center bravo-message"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary ml-auto",attrs:{role:"status","aria-hidden":"true"}}),n("strong",[t._v(" Loading...")])]):t._e(),t.failed?n("div",{staticClass:"bravo-message"},[t._v("Error while loading genes data")]):t._e(),t.loaded&&t.genes.length>0?n("div",{staticClass:"bravo-info-message"},[t._v("Displaying "+t._s(t.genes.length)+" gene(s)")]):t._e(),t.loaded&&0==t.genes.length?n("div",{staticClass:"bravo-message"},[t._v("No genes in this region")]):t._e()])},Bu=[],Gu={name:"genes",props:{region:{type:Object},dimensions:{type:Object},api:{type:String},hoveredVariant:{type:Object}},components:{FontAwesomeIcon:l["a"]},data:function(){return{loading:!1,loaded:!1,failed:!1,tooltipHtml:"",closeIcon:v}},methods:{load:function(){var t=this;this.failed=!1,this.loaded=!1,this.loading=!0,s.a.get("".concat(this.api,"genes/").concat(this.region.regionChrom,"-").concat(this.region.regionStart,"-").concat(this.region.regionStop)).then((function(e){var n=e.data;n.data.length>0&&(t.genes=n.data,t.unwind_exons(),t.initializeGenesSVG(),t.draw()),t.loading=!1,t.loaded=!0})).catch((function(e){t.failed=!0,t.loaded=!1}))},unwind_exons:function(){this.exons=[],this.genes.forEach((function(t){t.features.sort((function(t,e){return t.start-e.start}));var e={start:0,stop:0};t.features.forEach((function(n){"exon"==n.feature_type&&(e.start==n.start&&e.stop==n.stop||(n.gene_type=t.gene_type,this.exons.push(n),e=n))}),this)}),this)},arrange_genes:function(){var t=[{genes:[]}],e=function(t,e,n){return t.box_right>=e&&t.box_left<=n?Math.min(t.box_left,n)-Math.max(t.box_right,e)+1:0},n=function(n){for(var o=0;o<t.length;++o){if(0==t[o].genes.length)return n.y=o,void t[o].genes.push(n);if(t[o].genes.every((function(t){return 0==e(n,t.box_left,t.box_right)})))return n.y=o,void t[o].genes.push(n)}n.y=t.length+1,t.push({genes:[n]})};this.genes.forEach((function(t){var e=11*(t.gene_name.length+2)*.7,o=e-(t.x_stop-t.x_start);o=o<0?0:o/2,t.box_left=t.x_start-o-2,t.box_right=t.x_stop+o+2,n(t),t.features.forEach((function(e){e.y=t.y}))}))},initializeSVG:function(){this.svg=Xe(this.$el).append("div").attr("id","scroll").style("max-height","".concat(this.height,"px")).style("display","block").style("overflow-y","scroll").style("overflow-x","hidden").append("svg").style("display","block"),this.drawing_clip=this.svg.append("clipPath").attr("id","genes-clip").append("rect").attr("x",0).attr("y",0),this.drawing=this.svg.append("g"),this.x_scale=ls()},initializeGenesSVG:function(){var t=this;this.rects_box=this.drawing.selectAll("rec").data(this.genes).enter().append("rect").attr("height",21).attr("shape-rendering","geometricPrecision").style("fill","white").style("stroke","none").style("stroke-width",0).style("rx",3).style("ry",3).attr("rx",3).attr("ry",3),this.rects_genes=this.drawing.selectAll("rec").data(this.genes).enter().append("rect").attr("height",3).attr("shape-rendering","crispEdges").style("pointer-events","none").style("fill",(function(e){return t.color[e.gene_type]||"#999999"})),this.rects_exons=this.drawing.selectAll("rec").data(this.exons).enter().append("rect").attr("height",7).attr("shape-rendering","crispEdges").style("pointer-events","none").style("fill",(function(e){return t.color[e.gene_type]||"#999999"})),this.text_genes=this.drawing.selectAll("text").data(this.genes).enter().append("text").style("pointer-events","none");var e=this;this.rects_box.on("mouseover",(function(t){Xe(this).style("fill","#eeeeee").style("stroke","black").style("stroke-width","1px").style("cursor","pointer");var n=t.start<e.region.regionStart?e.region.regionStart:t.start,o=t.stop>e.region.regionStop?e.region.regionStop:t.stop,i=e.x_scale(n+(o-n)/2)+e.dimensions.margin.left,r=this.getAttribute("y")-e.$el.querySelector("#scroll").scrollTop-e.dimensions.margin.top-16;Xe(e.$el.querySelector(".bravo-tooltip")).style("display","block").style("left",i+"px").style("top",r+"px"),e.tooltipHtml="<ul><li><i>".concat(t.gene_name,"</i> (").concat(t.strand,")</li><li>").concat(t.gene_id,"</li><li style='color: #85144b'>").concat(t.gene_type,"</li><li>").concat(t.chrom,":").concat(t.start.toLocaleString(),"-").concat(t.stop.toLocaleString(),"</li><ul>")})),this.rects_box.on("mouseout",(function(t){Xe(e.$el.querySelector(".bravo-tooltip")).style("display","none"),e.tooltipHtml="",Xe(this).style("fill","white").style("stroke","none").style("stroke-width",0).style("cursor","default")})),this.rects_box.on("click",(function(e){return t.$emit("click",e)}))},draw:function(){var t=this;this.x_scale.range(this.region.segments.plot).domain(this.region.segments.region),this.genes.forEach((function(t){t.x_start=this.x_scale(t.start),t.x_stop=this.x_scale(t.stop),t.features.forEach((function(t){t.x_start=this.x_scale(t.start),t.x_stop=this.x_scale(t.stop)}),this)}),this),this.arrange_genes();var e=P(this.genes,(function(t){return t.y}))+1;this.svg.attr("width",this.dimensions.width).attr("height",this.dimensions.margin.top+22*e+2),this.drawing.attr("transform","translate(".concat(this.dimensions.margin.left,", ").concat(this.dimensions.margin.top,")")),this.drawing_clip.attr("width",this.dimensions.width-this.dimensions.margin.left-this.dimensions.margin.right).attr("height",22*e+2),this.rects_genes.attr("clip-path","url(#genes-clip)").attr("x",(function(t){return t.x_start})).attr("width",(function(t){return t.x_stop-t.x_start})).attr("y",(function(t){return 22*t.y+22-3-2})),this.rects_exons.attr("clip-path","url(#genes-clip)").attr("x",(function(t){return t.x_start})).attr("width",(function(t){return t.x_stop-t.x_start})).attr("y",(function(t){return 22*t.y+22-5-2})),this.text_genes.attr("clip-path","url(#genes-clip)").attr("x",(function(e){var n=Math.max(t.region.regionStart,e.start),o=Math.min(t.region.regionStop,e.stop);return t.x_scale(n+(o-n)/2)})).attr("y",(function(t){return 22*t.y+22-3-2-3})).attr("text-anchor","middle").attr("alignment-baseline","alphabetic").style("font-family","sans-serif").style("font-style","italic").style("font-size","11px").html((function(t){return"+"==t.strand?t.gene_name+'<tspan style="font-style: normal;"> &rarr;</tspan>':'<tspan style="font-style: normal;">&larr; </tspan>'+t.gene_name})),this.rects_box.attr("clip-path","url(#genes-clip)").attr("x",(function(t){return t.box_left})).attr("width",(function(t){return t.box_right-t.box_left})).attr("y",(function(t){return 22*t.y+22-18-2}))},highlight:function(){this.drawing.selectAll("line").remove(),null!=this.hoveredVariant.index&&this.hoveredVariant.hovered&&this.drawing.append("line").attr("x1",this.x_scale(this.hoveredVariant.data.pos)).attr("y1",0).attr("x2",this.x_scale(this.hoveredVariant.data.pos)).attr("y2",this.height).attr("stroke-width",2).attr("stroke-linecap","round").attr("stroke","#e77f00")}},beforeCreate:function(){this.genes=[],this.exons=[],this.height=200,this.color={protein_coding:"#373994"},this.svg=null,this.drawing=null,this.drawing_clip=null,this.drawing_x_axis=null,this.x_scale=null,this.rects_genes=null,this.rects_exons=null,this.rects_box=null,this.tip=null},created:function(){},mounted:function(){this.initializeSVG(),this.load()},watch:{region:{handler:function(t,e){this.loading||this.failed||this.genes.length>0&&this.region.segments.region.every((function(t){return null!=t}))&&this.region.segments.plot.every((function(t){return null!=t}))&&(this.draw(),this.highlight())},deep:!0},hoveredVariant:function(t,e){this.loading||this.failed||this.genes.length>0&&this.highlight()}}},Wu=Gu,Uu=(n("7e81"),Eu(Wu,qu,Bu,!1,null,"2f56dc16",null)),$u=Uu.exports,Xu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child-component"},[n("div",{staticClass:"bravo-tooltip"},[n("div",{domProps:{innerHTML:t._s(t.tooltipHtml)}})]),n("button",{staticClass:"close-button",on:{click:function(e){return t.$emit("close")}}},[n("font-awesome-icon",{staticStyle:{"background-color":"transparent"},attrs:{icon:t.closeIcon}})],1),null!=t.region.gene?n("div",{staticClass:"bravo-info-message"},[t._v("\n    Displaying "+t._s(this.region.gene.transcripts.length)+" transcript(s)\n  ")]):t._e()])},Yu=[],Qu={name:"gene",props:{region:{type:Object},dimensions:{type:Object},hoveredVariant:{type:Object}},components:{FontAwesomeIcon:l["a"]},data:function(){return{tooltipHtml:"",closeIcon:v}},methods:{initializeSVG:function(){this.svg=Xe(this.$el).append("div").attr("id","scroll").style("max-height","".concat(this.height,"px")).style("display","block").style("overflow-y","scroll").style("overflow-x","hidden").append("svg").style("display","block"),this.drawing=this.svg.append("g"),this.x_scale=ls()},initializeTranscriptsSVG:function(){var t=this;this.rects_box=this.drawing.append("g").selectAll("rect").data(this.region.gene.transcripts).enter().append("rect").attr("height",Math.max(this.cds_height,this.exon_height)+this.font_size+1).attr("shape-rendering","geometricPrecision").style("fill","white").style("stroke","none").style("stroke-width",0).style("rx",3).style("ry",3).attr("rx",3).attr("ry",3),this.rects_transcripts=this.drawing.append("g").selectAll("rect").data(this.region.gene.transcripts).enter().append("rect").attr("height",this.transcript_height).attr("shape-rendering","crispEdges").style("pointer-events","none").style("fill",(function(e){return t.color[e.transcript_type]||"#999999"})),this.rects_cds=this.drawing.append("g").selectAll("rect").data(this.region.gene.cds).enter().append("rect").attr("height",this.cds_height).attr("shape-rendering","crispEdges").style("pointer-events","none").style("fill",(function(e){return t.color[e.transcript_type]||"#999999"})),this.rects_exons=this.drawing.append("g").selectAll("rect").data(this.region.gene.exons).enter().append("rect").attr("height",this.exon_height).attr("shape-rendering","crispEdges").style("pointer-events","none").style("fill",(function(e){return t.color[e.transcript_type]||"#999999"})),this.text_transcripts=this.drawing.selectAll("text").data(this.region.gene.transcripts).enter().append("text").style("pointer-events","none");var e=this;this.rects_box.on("mouseover",(function(t){Xe(this).style("fill","#eeeeee").style("stroke","black").style("stroke-width","1px").style("cursor","pointer");var n=t.x_start+(t.x_stop-t.x_start)/2+e.dimensions.margin.left,o=this.getAttribute("y")-e.$el.querySelector("#scroll").scrollTop-e.dimensions.margin.top-8;Xe(e.$el.querySelector(".bravo-tooltip")).style("display","block").style("left",n+"px").style("top",o+"px"),e.tooltipHtml="<ul><li>".concat(t.transcript_id," (").concat(t.strand,")</li><li style='color: #85144b'>").concat(t.transcript_type,"</li><li>").concat(e.region.regionChrom,":").concat(t.start.toLocaleString(),"-").concat(t.stop.toLocaleString(),"</li><ul>")})),this.rects_box.on("mouseout",(function(t){Xe(e.$el.querySelector(".bravo-tooltip")).style("display","none"),e.tooltipHtml="",Xe(this).style("fill","white").style("stroke","none").style("stroke-width",0).style("cursor","default")}))},draw:function(){var t=this;this.x_scale.range(this.region.segments.plot).domain(this.region.segments.region),this.region.gene.transcripts.forEach((function(e,n){e.x_start=t.x_scale(e.start),e.x_stop=t.x_scale(e.stop),e.y=n+1;var o=(e.transcript_id.length+2)*t.font_size*.7,i=o-(e.x_stop-e.x_start);i=i<0?0:i/2,e.box_left=e.x_start-i-2,e.box_right=e.x_stop+i+2,t.region.gene.exons.forEach((function(n){n.transcript_id==e.transcript_id&&(n.x_start=t.x_scale(n.start),n.x_stop=t.x_scale(n.stop),n.y=e.y)})),t.region.gene.cds.forEach((function(n){n.transcript_id==e.transcript_id&&(n.x_start=t.x_scale(n.start),n.x_stop=t.x_scale(n.stop),n.y=e.y)}))})),this.svg.attr("width",this.dimensions.width).attr("height",this.dimensions.margin.top+this.region.gene.transcripts.length*this.step+(this.cds_height-this.transcript_height)/2+2),this.drawing.attr("transform","translate(".concat(this.dimensions.margin.left,", ").concat(this.dimensions.margin.top,")")),this.rects_transcripts.attr("x",(function(t){return t.x_start})).attr("width",(function(t){return t.x_stop-t.x_start})).attr("y",(function(e){return e.y*t.step-t.transcript_height})),this.rects_cds.attr("x",(function(t){return t.x_start})).attr("width",(function(t){return t.x_stop-t.x_start})).attr("y",(function(e){return e.y*t.step-t.transcript_height-(t.cds_height-t.transcript_height)/2})),this.rects_exons.attr("x",(function(t){return t.x_start})).attr("width",(function(t){return t.x_stop-t.x_start})).attr("y",(function(e){return e.y*t.step-t.transcript_height-(t.exon_height-t.transcript_height)/2})),this.text_transcripts.attr("x",(function(t){return t.x_start+(t.x_stop-t.x_start)/2})).attr("y",(function(e){return e.y*t.step-t.transcript_height-(Math.max(t.cds_height,t.exon_height)-t.transcript_height)/2-1})).attr("text-anchor","middle").attr("alignment-baseline","alphabetic").style("font-family","sans-serif").style("font-size","11px").html((function(t){return"+"==t.strand?t.transcript_id+'<tspan style="font-style: normal;"> &rarr;</tspan>':'<tspan style="font-style: normal;">&larr; </tspan>'+t.transcript_id})),this.rects_box.attr("x",(function(t){return t.box_left})).attr("width",(function(t){return t.box_right-t.box_left})).attr("y",(function(e){return e.y*t.step-t.transcript_height-(Math.max(t.cds_height,t.exon_height)-t.transcript_height)/2-t.font_size}))},highlight:function(){this.drawing.selectAll("line").remove(),null!=this.hoveredVariant.index&&this.hoveredVariant.hovered&&this.drawing.append("line").attr("x1",this.x_scale(this.hoveredVariant.data.pos)).attr("y1",0).attr("x2",this.x_scale(this.hoveredVariant.data.pos)).attr("y2",this.height).attr("stroke-width",2).attr("stroke-linecap","round").attr("stroke","#e77f00")}},beforeCreate:function(){this.height=200,this.step=25,this.transcript_height=3,this.cds_height=11,this.exon_height=7,this.font_size=11,this.color={protein_coding:"#373994"},this.svg=null,this.drawing=null,this.drawing_x_axis=null,this.x_scale=null,this.rects_transcripts=null,this.text_transcripts=null,this.rects_cds=null,this.rects_exons=null,this.rects_box=null},created:function(){},mounted:function(){this.initializeSVG(),null!=this.region.gene&&this.region.segments.region.every((function(t){return null!=t}))&&this.region.segments.plot.every((function(t){return null!=t}))&&(this.initializeTranscriptsSVG(),this.draw())},watch:{region:{handler:function(t,e){null!=this.region.gene&&this.region.segments.region.every((function(t){return null!=t}))&&this.region.segments.plot.every((function(t){return null!=t}))&&(null!=e.gene&&e.gene.gene_id==t.gene.gene_id||this.initializeTranscriptsSVG(),this.draw(),this.highlight())},deep:!0},hoveredVariant:function(t,e){null!=this.region.gene&&this.region.segments.region.every((function(t){return null!=t}))&&this.region.segments.plot.every((function(t){return null!=t}))&&this.highlight()}}},Ju=Qu,Ku=(n("9160"),Eu(Ju,Xu,Yu,!1,null,"34606dd0",null)),Zu=Ku.exports,td=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child-component"},[n("button",{staticClass:"close-button",on:{click:function(e){return t.$emit("close")}}},[n("font-awesome-icon",{staticStyle:{"background-color":"transparent"},attrs:{icon:t.closeIcon}})],1),t.loading?n("div",{staticClass:"d-flex align-items-center bravo-message"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary ml-auto",attrs:{role:"status","aria-hidden":"true"}}),n("strong",[t._v(" Loading...")])]):t._e(),t.failed?n("div",{staticClass:"bravo-message"},[t._v("Error while loading variants count")]):t._e(),this.loaded&&this.variants>0?n("div",{staticClass:"bravo-info-message"},[t._v("\n    Displaying "+t._s(this.variants.toLocaleString())+" variant(s)\n  ")]):t._e(),this.loaded&&0==this.variants?n("div",{staticClass:"bravo-info-message"},[t._v("\n    No variants\n  ")]):t._e()])},ed=[],nd=(n("097d"),{name:"snv",props:{region:{type:Object},dimensions:{type:Object},api:{type:String},filters:{type:Array},visibleVariants:{type:Object},hoveredVariant:{type:Object}},components:{FontAwesomeIcon:l["a"]},data:function(){return{loading:!1,loaded:!1,failed:!1,variants:0,closeIcon:v}},methods:{load:function(){var t=this;if(null!=this.region.regionChrom&&null!=this.region.regionStart&&null!=this.region.regionStop){if(null!=this.region.gene)var e="".concat(this.api,"variants/gene/snv/").concat(this.region.gene.gene_id,"/histogram");else e="".concat(this.api,"variants/region/snv/").concat(this.region.regionChrom,"-").concat(this.region.regionStart,"-").concat(this.region.regionStop,"/histogram");this.clearDrawing(),this.failed=!1,this.loaded=!1,this.loading=!0;var n=Date.now();this.timestamp=n,s.a.post(e,{filters:this.computedFilters,introns:this.computedRegion.introns,windows:this.dimensions.width-this.dimensions.margin.left-this.dimensions.margin.right}).then((function(e){var o=e.data;n==t.timestamp&&(t.histogram_window_size=o.data["window-size"],t.histogram_data=o.data.windows,t.variants=t.histogram_data.reduce((function(t,e){return t+e.count}),0),t.draw(),t.drawHistogram(),t.drawVariants()),t.loaded=!0})).catch((function(e){t.loaded=!1,t.failed=!0})).finally((function(){t.loading=!1}))}},format_y_ticks:function(t){return Ta("d")(t)+"x"},initializeSVG:function(){this.svg=Xe(this.$el).append("svg").style("display","block").attr("width",this.dimensions.width).attr("height",this.height+this.dimensions.margin.top+this.dimensions.margin.bottom),this.drawing_clip=this.svg.append("clipPath").attr("id","snv-clip").append("rect").attr("x",0).attr("y",0),this.drawing=this.svg.append("g"),this.histogram_g=this.drawing.append("g").attr("clip-path","url(#snv-clip)"),this.variant_pointers_g=this.drawing.append("g"),this.y_axis_g=this.drawing.append("g").style("font-size","9px"),this.drawing.append("text").attr("transform","translate(".concat(11-this.dimensions.margin.left,",").concat((this.height-10)/2,") rotate(-90)")).style("font-size","11px").style("text-anchor","middle").text("Variants Count"),this.x_scale=ls(),this.y_axis=Q(),this.y_scale=ls()},draw:function(){this.drawing.selectAll("text").attr("opacity",1),this.svg.attr("width",this.dimensions.width).attr("height",this.height+this.dimensions.margin.top+this.dimensions.margin.bottom),this.drawing.attr("transform","translate(".concat(this.dimensions.margin.left,", ").concat(this.dimensions.margin.top,")")),this.drawing_clip.attr("width",this.dimensions.width-this.dimensions.margin.left-this.dimensions.margin.right).attr("height",this.height),this.x_scale.range(this.region.segments.plot).domain(this.region.segments.region);var t=P(this.histogram_data,(function(t){return t.count}));this.y_scale.range([this.height-10,0]).domain([0,t]),this.y_axis.scale(this.y_scale).ticks(Math.min(t,4)).tickFormat(Ta(".0s")),this.y_axis_g.call(this.y_axis)},highlightVariant:function(){},drawHistogram:function(){var t=this;this.histogram_g.selectAll("rect").remove(),this.histogram_g.selectAll("rect").data(this.histogram_data).enter().append("rect").attr("x",0).attr("width",(function(e){return t.x_scale(e.start+t.histogram_window_size)-t.x_scale(e.start)})).attr("height",(function(e){return t.height-10-t.y_scale(e.count)})).attr("transform",(function(e){return"translate(".concat(t.x_scale(e.start),",").concat(t.y_scale(e.count),")")})).attr("stroke-width",1).attr("stroke","lightsteelblue").attr("fill","lightsteelblue")},drawVariants:function(){var t=this;this.variant_pointers_g.selectAll("path").remove(),null!=this.visibleVariants.data&&this.variant_pointers_g.selectAll("path").data(this.visibleVariants.data).enter().append("path").attr("d",Tc().size(40).type(kc)).attr("transform",(function(e){return"translate(".concat(t.x_scale(e.pos),",").concat(t.height-4,")")})).attr("stroke","black").attr("fill","green").attr("opacity",.2)},clearDrawing:function(){this.y_axis_g.selectAll("*").remove(),this.histogram_g.selectAll("rect").remove(),this.variant_pointers_g.selectAll("path").remove(),this.drawing.selectAll("text").attr("opacity",0)}},beforeCreate:function(){this.timestamp=null,this.histogram_data=[],this.histogram_window_size=0,this.height=70,this.color="#ffa37c",this.svg=null,this.drawing=null,this.histogram_g=null,this.variant_pointers_g=null,this.x_scale=null,this.y_axis=null,this.y_scale=null,this.y_axis_g=null},created:function(){},mounted:function(){this.initializeSVG(),this.load()},watch:{computedRegion:{handler:function(t,e){t.regionChrom==e.regionChrom&&t.regionStart==e.regionStart&&t.regionStop==e.regionStop&&t.introns==e.introns?t.segments.plot[1]-t.segments.plot[0]>e.segments.plot[1]-e.segments.plot[0]?this.load():!this.loading&&!this.failed&&this.histogram_data.length>0&&(this.draw(),this.drawHistogram(),this.drawVariants()):this.load()},deep:!0},filters:function(t,e){this.load()},hoveredVariant:function(t,e){},visibleVariants:function(t,e){this.drawVariants()}},computed:{computedRegion:function(){return JSON.parse(JSON.stringify(this.region))},computedFilters:function(){var t=[];return this.filters.forEach((function(e){t.push(e.tabulator_filter)})),t}}}),od=nd,id=(n("5af5"),Eu(od,td,ed,!1,null,"6b2b3a38",null)),rd=id.exports,ad=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child-component",on:{"click-annotations":t.showAnnotationsModal}},[n("div",{staticClass:"modal",staticStyle:{"z-index":"99999"},attrs:{id:"modalAnnotations",role:"dialog","data-backdrop":"false"}},[n("div",{staticClass:"modal-dialog modal-dialog-centered modal-sm",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.selectedVariantId))]),t._m(0)]),n("div",{staticClass:"modal-body"},[n("small",[n("div",{attrs:{id:"accordion"}},t._l(t.selectedVariantAnnotations,(function(e,o){return n("div",{key:e.consequence},[n("span",{staticClass:"badge badge-light",style:"color:"+t.$DOMAIN_DICTIONARY.consequence[e.consequence].color+";font-weight:bold;-webkit-text-stroke: 0.15px black;"},[t._v("■")]),n("a",{attrs:{"data-toggle":"collapse",href:"#collapse"+o}},[t._v(t._s(t.$DOMAIN_DICTIONARY.consequence[e.consequence].text))]),e.transcripts.length>0?n("div",{class:0==o?"collapse show":"collapse",attrs:{id:"collapse"+o,"data-parent":"#accordion"}},[n("ul",{staticClass:"list-unstyled"},t._l(e.transcripts,(function(e){return n("li",[t._v("\n                        "+t._s(e.gene_name)+": "+t._s(e.transcript_name)+"\n                        "),n("ul",[n("li",[n("span",{staticStyle:{color:"#85144b"}},[t._v(t._s(e.biotype))])]),e.HGVSc?n("li",[t._v("HGVSc: "),n("b",[t._v(t._s(e.HGVSc))])]):t._e(),e.HGVSp?n("li",[t._v("HGVSp: "),n("b",[t._v(t._s(e.HGVSp))])]):t._e()])])})),0)]):t._e()])})),0)])]),t._m(1)])])]),t.loading?n("div",{staticClass:"d-flex align-items-center bravo-message"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary ml-auto",attrs:{role:"status","aria-hidden":"true"}}),n("strong",[t._v(" Loading...")])]):t._e(),t.loaded&&t.empty?n("div",{staticClass:"bravo-message"},[t._v("No variants")]):t._e(),t.failed?n("div",{staticClass:"bravo-message"},[t._v("Error while loading variants")]):t._e(),n("div",{ref:"snvtable",staticClass:"table-sm"})])},sd=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],ld=(n("7f7f"),n("39ab")),cd=n.n(ld),ud=(n("7ab1"),{name:"snvtable",props:{region:{type:Object},filters:{type:Array},api:{type:String},paginationSize:{type:Number},download:{type:Number},showColumnVariantID:{type:Boolean},showColumnRsID:{type:Boolean},showColumnConsequence:{type:Boolean},showColumnAnnotation:{type:Boolean},showColumnLOFTEE:{type:Boolean},showColumnQuality:{type:Boolean},showColumnCADD:{type:Boolean},showColumnNAlleles:{type:Boolean},showColumnHet:{type:Boolean},showColumHomAlt:{type:Boolean},showColumnFrequency:{type:Boolean}},data:function(){return{loading:!1,loaded:!1,empty:!0,failed:!1,selectedVariantId:"",selectedVariantAnnotations:[]}},methods:{showAnnotationsModal:function(t){if(null!=this.tabulator){var e,n=17,o=this.tabulator.getData()[t.detail];o.variant_id.length>=n?this.selectedVariantId=o.variant_id.substring(0,n)+"...":this.selectedVariantId=o.variant_id;var i={},r=[];"gene"in o.annotation?(o.annotation.gene.transcripts.forEach((function(t){var e={gene_name:o.annotation.gene.name,transcript_name:t.name,biotype:t.biotype};"HGVSc"in t&&(e["HGVSc"]=t.HGVSc),"HGVSp"in t&&(e["HGVSp"]=t.HGVSp),t.consequence.forEach((function(t){t in i||(i[t]=[]),i[t].push(e)}))})),o.annotation.gene.consequence.forEach((function(t){r.push({consequence:t,transcripts:i[t]})}))):"region"in o.annotation&&("genes"in o.annotation&&o.annotation.genes.forEach((function(t){t.transcripts.forEach((function(e){var n={gene_name:t.name,transcript_name:e.name,biotype:e.biotype};"HGVSc"in e&&(n["HGVSc"]=e.HGVSc),"HGVSp"in e&&(n["HGVSp"]=e.HGVSp),e.consequence.forEach((function(t){t in i||(i[t]=[]),i[t].push(n)}))}))})),o.annotation.region.consequence.forEach((function(t){if(t in i)var e=i[t];else e=[];r.push({consequence:t,transcripts:e})}))),(e=this.selectedVariantAnnotations).splice.apply(e,[0,this.selectedVariantAnnotations.length].concat(r)),$("#modalAnnotations").modal("show")}},createAnnotationColumnDefinition:function(t){var e=this;return{title:"Annotation <a class='text-info' onclick='event.stopPropagation();' data-toggle='tooltip' title='Variant annotation (defined by Sequence Onthology) with most severe effect (total number of annotations).'>?</a>",titleDownload:"Annotation",field:"annotation.".concat(t,".consequence"),hozAlign:"left",minWidth:120,visible:this.showColumnAnnotation,formatter:function(t,n,o){var i="",r=t.getValue();if(r.length>0){var a=e.$DOMAIN_DICTIONARY.consequence[r[0]];i+='<span class="badge badge-light" style="margin-right:1px;color:'.concat(a.color,';font-weight:bold;-webkit-text-stroke: 0.15px black;">').concat(a.text,"</span>"),i+=' <a href="javascript:void(0)" role="button" onclick=\'this.dispatchEvent(new CustomEvent("click-annotations", { "bubbles": true, "detail": '.concat(t.getRow().getPosition()," }))'>(").concat(r.length,")</a>")}return i},accessorDownload:function(t){return null!=t?t.join(";"):""}}},createLOFTEEColumnDefinition:function(t){var e=this;return{title:"LOFTEE <a class='text-info' onclick='event.stopPropagation();' data-toggle='tooltip' title='Variant was predicted to be Loss-of-Function by LOFTEE.'>?</a>",titleDownload:"LOFTEE",field:"annotation.".concat(t,".lof"),hozAlign:"left",minWidth:95,visible:this.showColumnLOFTEE,formatter:function(t,n,o){var i="";return void 0!=t.getValue()&&t.getValue().forEach((function(t){var n="HC"==t?"success":"warning",o=e.$DOMAIN_DICTIONARY.lof[t].text;i+='<span class="badge badge-'.concat(n,'" style="margin-right:1px">').concat(o,"</span>")})),i},accessorDownload:function(t){return null!=t?t.join(";"):""}}},createConsequenceColumnDefinition:function(t){return{title:"Consequence <a class='text-info' onclick='event.stopPropagation();' data-toggle='tooltip' title='HGVSc/HGVSp nomenclature for the most severe variant effect (total number of HGVSc/HGVSp).'>?</a>",titleDownload:"Consequence",field:"annotation.".concat(t,".hgvs"),hozAlign:"left",headerSort:!1,minWidth:120,visible:this.showColumnConsequence,formatter:function(t,e,n){return void 0!=t.getValue()&&t.getValue().length>0?t.getValue()[0]+' <a href="javascript:void(0)" role="button" onclick=\'this.dispatchEvent(new CustomEvent("click-annotations", { "bubbles": true, "detail": '.concat(t.getRow().getPosition()," }))'>(").concat(t.getValue().length,")</a>"):""},accessorDownload:function(t){return null!=t?t.join(";"):""}}},loadData:function(){var t=this;null!=this.region.gene?(["annotation.region.hgvs","annotation.region.consequence","annotation.region.lof"].forEach((function(e){t.tabulator.columnManager.findColumn(e)&&t.tabulator.deleteColumn(e)})),this.tabulator.columnManager.findColumn("annotation.gene.hgvs")||this.tabulator.addColumn(this.createConsequenceColumnDefinition("gene"),!1,"rsids"),this.tabulator.columnManager.findColumn("annotation.gene.consequence")||this.tabulator.addColumn(this.createAnnotationColumnDefinition("gene"),!1,"annotation.gene.hgvs"),this.tabulator.columnManager.findColumn("annotation.gene.lof")||this.tabulator.addColumn(this.createLOFTEEColumnDefinition("gene"),!1,"annotation.gene.consequence"),$(this.$el.querySelectorAll('[data-toggle="tooltip"]')).tooltip(),this.tabulator.setData("".concat(this.api,"variants/gene/snv/").concat(this.region.gene.gene_id))):null!=this.region.regionChrom&&null!=this.region.regionStart&&null!=this.region.regionStop&&(["annotation.gene.hgvs","annotation.gene.consequence","annotation.gene.lof"].forEach((function(e){t.tabulator.columnManager.findColumn(e)&&t.tabulator.deleteColumn(e)})),this.tabulator.columnManager.findColumn("annotation.region.hgvs")||this.tabulator.addColumn(this.createConsequenceColumnDefinition("region"),!1,"rsids"),this.tabulator.columnManager.findColumn("annotation.region.consequence")||this.tabulator.addColumn(this.createAnnotationColumnDefinition("region"),!1,"annotation.region.hgvs"),this.tabulator.columnManager.findColumn("annotation.region.lof")||this.tabulator.addColumn(this.createLOFTEEColumnDefinition("region"),!1,"annotation.region.consequence"),$(this.$el.querySelectorAll('[data-toggle="tooltip"]')).tooltip(),this.tabulator.setData("".concat(this.api,"variants/region/snv/").concat(this.region.regionChrom,"-").concat(this.region.regionStart,"-").concat(this.region.regionStop)))},loadFilterSuggestions:function(){var t=this,e="annotation.".concat(null!=this.computedRegion.gene?"gene":"region");return s.a.get("".concat(this.api,"variants/snv")).then((function(n){var o=n.data,i={Consequence:{value:"Consequence",data:{category:"Field",items:{}}}};i["Consequence"].data.items["Synonymous"]={value:"Synonymous",data:{category:"By Group",filters:[{title:"Consequence",text:t.$VALUE2TEXT["".concat(e,".consequence")]("synonymous_variant"),tabulator_filter:{field:"".concat(e,".consequence"),type:"=",value:"synonymous_variant"}},{title:"Consequence",text:t.$VALUE2TEXT["".concat(e,".consequence")]("start_retained_variant"),tabulator_filter:{field:"".concat(e,".consequence"),type:"=",value:"start_retained_variant"}},{title:"Consequence",text:t.$VALUE2TEXT["".concat(e,".consequence")]("stop_retained_variant"),tabulator_filter:{field:"".concat(e,".consequence"),type:"=",value:"stop_retained_variant"}}]}},i["Consequence"].data.items["Non-synonymous"]={value:"Non-synonymous",data:{category:"By Group",filters:[{title:"Consequence",text:t.$VALUE2TEXT["".concat(e,".consequence")]("missense_variant"),tabulator_filter:{field:"".concat(e,".consequence"),type:"=",value:"missense_variant"}},{title:"Consequence",text:t.$VALUE2TEXT["".concat(e,".consequence")]("start_lost"),tabulator_filter:{field:"".concat(e,".consequence"),type:"=",value:"start_lost"}},{title:"Consequence",text:t.$VALUE2TEXT["".concat(e,".consequence")]("stop_gained"),tabulator_filter:{field:"".concat(e,".consequence"),type:"=",value:"stop_gained"}},{title:"Consequence",text:t.$VALUE2TEXT["".concat(e,".consequence")]("stop_lost"),tabulator_filter:{field:"".concat(e,".consequence"),type:"=",value:"stop_lost"}}]}},o.data["consequence"].forEach((function(n){var o=t.$VALUE2TEXT["".concat(e,".consequence")](n.value);i["Consequence"].data.items[o]={value:o,data:{category:"By Value",tabulator_filter:{field:"".concat(e,".consequence"),type:"=",value:n.value}}}})),i["LoF"]={value:"LoF",data:{category:"Field",items:{}}},i["LoF"].data.items["All"]={value:"All",data:{category:"By Group",filters:[{title:"LoF",text:t.$VALUE2TEXT["".concat(e,".lof")]("HC"),tabulator_filter:{field:"".concat(e,".lof"),type:"=",value:"HC"}},{title:"LoF",text:t.$VALUE2TEXT["".concat(e,".lof")]("LC"),tabulator_filter:{field:"".concat(e,".lof"),type:"=",value:"LC"}}]}},o.data["lof"].forEach((function(n){var o=t.$VALUE2TEXT["".concat(e,".lof")](n.value);i["LoF"].data.items[o]={value:o,data:{category:"By Value",tabulator_filter:{field:"".concat(e,".lof"),type:"=",value:n.value}}}})),i["Quality"]={value:"Quality",data:{category:"Field",items:{}}},i["Quality"].data.items["Passed"]={value:"Passed",data:{category:"By Group",filters:[{title:"Quality",text:t.$VALUE2TEXT["filter"]("PASS"),tabulator_filter:{field:"filter",type:"=",value:"PASS"}}]}},i["Quality"].data.items["Failed"]={value:"Failed",data:{category:"By Group",filters:[{title:"Quality",text:t.$VALUE2TEXT["filter"]("SVM"),tabulator_filter:{field:"filter",type:"=",value:"SVM"}},{title:"Quality",text:t.$VALUE2TEXT["filter"]("DISC"),tabulator_filter:{field:"filter",type:"=",value:"DISC"}},{title:"Quality",text:t.$VALUE2TEXT["filter"]("EXHET"),tabulator_filter:{field:"filter",type:"=",value:"EXHET"}}]}},o.data["filter"].forEach((function(e){var n=t.$VALUE2TEXT["filter"](e.value);i["Quality"].data.items[n]={value:n,data:{category:"By Value",tabulator_filter:{field:"filter",type:"=",value:e.value}}}})),i["Frequency (%)"]={value:"Frequency (%)",data:{category:"Field",items:{}}},[.001,.005,.01,.05,.1,1,5].forEach((function(t){var e="<".concat(t,"%");i["Frequency (%)"].data.items[e]={value:e,data:{category:"By Value",tabulator_filter:{field:"allele_freq",type:"<",value:t/100}}}})),t.$emit("suggestions",i)})).catch((function(t){console.log("Error while retrieving filters meta-information.")}))},getData:function(){return null==this.tabulator?[]:this.tabulator.getData()},getVisibleVariants:function(){var t=this.tabulator.rowManager.height,e=this.tabulator.rowManager.scrollTop,n=this.tabulator.rowManager.vDomBottom,o=[];while(n>0){var i=this.tabulator.rowManager.displayRows[0][n].element;if(i.offsetTop<e+t)break;n--}var r=n;while(r>0){var a=this.tabulator.rowManager.displayRows[0][r].element;if(a.offsetTop<e)break;r--}if(this.tabulator.rowManager.displayRows[0].length>0)for(var s=r;s<=n;++s)o.push(this.tabulator.rowManager.displayRows[0][s].data);return{firstVisibleRowIndex:r,lastVisibleRowIndex:n,data:o}},scrolled:function(t){if(this.tabulator.getData().length>0){var e=this.getVisibleVariants();this.$emit("scroll",e.firstVisibleRowIndex,e.lastVisibleRowIndex,e.data)}},hover:function(t,e){this.tabulator.getRows().forEach((function(t){t.getElement().classList.remove("hover")})),e&&this.tabulator.getRowFromPosition(t).getElement().classList.add("hover")}},beforeCreate:function(){this.tabulator=null,this.hoveredRowPosition=null},created:function(){},mounted:function(){var t=this;this.tabulator=new cd.a(this.$refs.snvtable,{placeholder:null,ajaxURL:"",ajaxLoader:!1,ajaxLoaderLoading:"",ajaxLoaderError:"",ajaxConfig:{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"}},ajaxContentType:"json",ajaxSorting:!0,ajaxFiltering:!0,ajaxProgressiveLoad:"scroll",ajaxRequesting:function(e,n){return null!=e&&0!=e.length&&(t.failed=!1,t.loaded=!1,t.loading=!0,!0)},ajaxURLGenerator:function(e,n,o){return 1==o.page&&(o.next=null,null!=t.region.gene&&t.region.segments.region.length>2&&(o.introns=0)),e},ajaxResponse:function(e,n,o){return o.last_page=Math.ceil(o.total/o.limit),n.next=o.next,t.failed=!1,t.loading=!1,t.loaded=!0,o},ajaxError:function(e,n,o){t.loading=!1,t.loaded=!1,t.failed=!0},dataLoaded:function(e){null!=t.tabulator&&(t.empty=0==e.length)},renderComplete:function(e){if(null!=t.tabulator){var n=t.getVisibleVariants();if(null!=t.hoveredRowPosition){var o=t.tabulator.getRowFromPosition(t.hoveredRowPosition);o.getElement().classList.add("row-hovered")}t.$emit("scroll",n.firstVisibleRowIndex,n.lastVisibleRowIndex,n.data)}},paginationSize:this.paginationSize,height:"600px",layout:"fitColumns",columns:[{title:this.$GET_FIELD_TITLE("variant_id")+" <a class='text-info' onclick='event.stopPropagation();' data-html='true' data-toggle='tooltip' title='(1) Chromosome<br>(2) Position<br>(3) Reference allele<br>(4) Alternate allele<br>'>?</a>",titleDownload:this.$GET_FIELD_TITLE("variant_id"),width:130,field:"variant_id",visible:this.showColumnVariantID,formatter:function(e){return"<a href='".concat(t.api,"variant/snv/").concat(e.getValue(),"'>").concat(e.getValue(),"</a>")}},{title:this.$GET_FIELD_TITLE("rsids"),titleDownload:this.$GET_FIELD_TITLE("rsids"),width:100,field:"rsids",visible:this.showColumnRsID,formatter:function(e){var n="";return e.getValue().forEach((function(e){n+="<a href='".concat(t.api,"variant/snv/").concat(e,"'>").concat(e,"</a>")})),n},accessorDownload:function(t){return null!=t?t.join(";"):""}},{title:this.$GET_FIELD_TITLE("filter"),titleDownload:this.$GET_FIELD_TITLE("filter"),field:"filter",width:78,hozAlign:"left",visible:this.showColumnQuality,formatter:function(t,e,n){var o="";return t.getValue().forEach((function(t){var e="PASS"==t?"success":"danger";o+='<span class="badge badge-'.concat(e,'" style="margin-right:1px">').concat(t,"</span>")})),o},accessorDownload:function(t){return null!=t?t.join(";"):""}},{title:this.$GET_FIELD_TITLE("cadd_phred")+" <a class='text-info' onclick='event.stopPropagation();' data-toggle='tooltip' title='Variant deleteriousness score (PHRED-like scaled) computed with Combined Annoation Dependent Depletion (CADD) tool.'>?</a>",titleDownload:this.$GET_FIELD_TITLE("cadd_phred"),field:"cadd_phred",width:80,hozAlign:"left",visible:this.showColumnCADD,formatter:function(e,n,o){return t.$VALUE2TEXT["cadd_phred"](e.getValue())}},{title:this.$GET_FIELD_TITLE("allele_num"),titleDownload:this.$GET_FIELD_TITLE("allele_num"),field:"allele_num",width:88,hozAlign:"left",visible:this.showColumnNAlleles,formatter:function(e,n,o){return t.$VALUE2TEXT["allele_num"](e.getValue())}},{title:this.$GET_FIELD_TITLE("het_count")+" <a class='text-info' onclick='event.stopPropagation();' data-toggle='tooltip' title='Number of heterozygotes.'>?</a>",titleDownload:this.$GET_FIELD_TITLE("het_count"),field:"het_count",width:80,hozAlign:"left",visible:this.showColumnHet,formatter:function(e,n,o){return t.$VALUE2TEXT["het_count"](e.getValue())}},{title:this.$GET_FIELD_TITLE("hom_count")+" <a class='text-info' onclick='event.stopPropagation();' data-toggle='tooltip' title='Number of homozygotes for alternate allele.'>?</a>",titleDownload:this.$GET_FIELD_TITLE("hom_count"),field:"hom_count",width:90,hozAlign:"left",visible:this.showColumHomAlt,formatter:function(e,n,o){return t.$VALUE2TEXT["hom_count"](e.getValue())}},{title:this.$GET_FIELD_TITLE("allele_freq"),titleDownload:this.$GET_FIELD_TITLE("allele_freq"),field:"allele_freq",width:125,hozAlign:"left",visible:this.showColumnFrequency,formatter:function(e,n,o){return t.$VALUE2TEXT["allele_freq"](e.getValue())}}],initialSort:[{column:"variant_id",dir:"asc"}],initialFilter:this.computedFilters,rowMouseEnter:function(e,n){if(null!=t.hoveredRowPosition&&t.hoveredRowPosition!=n.getPosition()){var o=t.tabulator.getRowFromPosition(t.hoveredRowPosition);o.getElement().classList.remove("row-hovered"),t.$emit("hover",o.getPosition(),o.getData(),!1),t.hoveredRowPosition=null}t.hoveredRowPosition=n.getPosition(),n.getElement().classList.add("row-hovered"),t.$emit("hover",n.getPosition(),n.getData(),!0)},rowMouseLeave:function(e,n){n.getElement().classList.remove("row-hovered"),t.$emit("hover",n.getPosition(),n.getData(),!1),t.hoveredRowPosition=null}}),this.$el.querySelector(".tabulator-tableHolder").addEventListener("scroll",this.scrolled),this.loadFilterSuggestions(),this.loadData(),$(this.$el.querySelectorAll('[data-toggle="tooltip"]')).tooltip()},beforeDestroy:function(){},watch:{computedFilters:function(){this.tabulator.setFilter(this.computedFilters)},computedRegion:{handler:function(t,e){null!=t.gene?null!=e.gene?t.gene.gene_id!=e.gene.gene_id?this.loadData():t.introns!=e.introns&&this.loadData():(this.loadFilterSuggestions(),this.loadData()):null==e.gene?t.regionChrom==e.regionChrom&&t.regionStart==e.regionStart&&t.regionStop==e.regionStop||this.loadData():(this.loadFilterSuggestions(),this.loadData())},deep:!0},download:function(){if(null!=this.tabulator){var t="variants.csv";null!=this.region.gene?t="variants_".concat(this.region.gene.gene_id,".csv"):null!=this.region.regionChrom&&null!=this.region.regionStart&&null!=this.region.regionStop&&(t="variants_".concat(this.region.regionChrom,"-").concat(this.region.regionStart,"-").concat(this.region.regionStop,".csv")),this.tabulator.download("csv",t)}},showColumnVariantID:function(){null!=this.tabulator&&(this.tabulator.toggleColumn("variant_id"),this.tabulator.redraw())},showColumnRsID:function(){null!=this.tabulator&&(this.tabulator.toggleColumn("rsids"),this.tabulator.redraw())},showColumnConsequence:function(){null!=this.tabulator&&(null!=this.region.gene?(this.tabulator.toggleColumn("annotation.gene.hgvs"),this.tabulator.redraw()):null!=this.region.regionChrom&&null!=this.region.regionStart&&null!=this.region.regionStop&&(this.tabulator.toggleColumn("annotation.region.hgvs"),this.tabulator.redraw()))},showColumnAnnotation:function(){null!=this.tabulator&&(null!=this.region.gene?(this.tabulator.toggleColumn("annotation.gene.consequence"),this.tabulator.redraw()):null!=this.region.regionChrom&&null!=this.region.regionStart&&null!=this.region.regionStop&&(this.tabulator.toggleColumn("annotation.region.consequence"),this.tabulator.redraw()))},showColumnLOFTEE:function(){null!=this.tabulator&&(null!=this.region.gene?(this.tabulator.toggleColumn("annotation.gene.lof"),this.tabulator.redraw()):null!=this.region.regionChrom&&null!=this.region.regionStart&&null!=this.region.regionStop&&(this.tabulator.toggleColumn("annotation.region.lof"),this.tabulator.redraw()))},showColumnQuality:function(){null!=this.tabulator&&(this.tabulator.toggleColumn("filter"),this.tabulator.redraw())},showColumnCADD:function(){null!=this.tabulator&&(this.tabulator.toggleColumn("cadd_phred"),this.tabulator.redraw())},showColumnNAlleles:function(){null!=this.tabulator&&(this.tabulator.toggleColumn("allele_num"),this.tabulator.redraw())},showColumnHet:function(){null!=this.tabulator&&(this.tabulator.toggleColumn("het_count"),this.tabulator.redraw())},showColumHomAlt:function(){null!=this.tabulator&&(this.tabulator.toggleColumn("hom_count"),this.tabulator.redraw())},showColumnFrequency:function(){null!=this.tabulator&&(this.tabulator.toggleColumn("allele_freq"),this.tabulator.redraw())}},computed:{computedRegion:function(){return JSON.parse(JSON.stringify(this.region))},computedFilters:function(){var t=[];return null!=this.filters&&this.filters.forEach((function(e){t.push(e.tabulator_filter)})),t}}}),dd=ud,hd=(n("f1d7"),Eu(dd,ad,sd,!1,null,"2b654988",null)),pd=hd.exports,fd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child-component"},[n("div",{staticClass:"control-buttons"},[t.hasLeftScroll||t.hasRightScroll?n("button",{staticClass:"control-button",on:{click:function(e){t.collapsed=!t.collapsed}}},[t.collapsed?n("div",{staticStyle:{display:"inline"}},[t._v("Expand "),n("font-awesome-icon",{staticStyle:{"background-color":"transparent"},attrs:{icon:t.expandIcon}})],1):n("div",{staticStyle:{display:"inline"}},[t._v("Collapse "),n("font-awesome-icon",{staticStyle:{"background-color":"transparent"},attrs:{icon:t.collapseIcon}})],1)]):t._e(),n("button",{staticClass:"control-button",on:{click:function(e){return t.$emit("close")}}},[n("font-awesome-icon",{staticStyle:{"background-color":"transparent"},attrs:{icon:t.closeIcon}})],1)]),t.collapsed&&t.hasLeftScroll?n("button",{staticClass:"hscroll-button scroll-left",on:{click:function(e){return t.scroll(-200)}}},[n("font-awesome-icon",{staticStyle:{"background-color":"transparent"},attrs:{icon:t.scrollLeftIcon}})],1):t._e(),t.collapsed&&t.hasRightScroll?n("button",{staticClass:"hscroll-button scroll-right",on:{click:function(e){return t.scroll(200)}}},[n("font-awesome-icon",{staticStyle:{"background-color":"transparent"},attrs:{icon:t.scrollRightIcon}})],1):t._e(),n("div",{staticClass:"container-fluid"},[n("div",{class:{cards:t.collapsed,"card-columns":!t.collapsed}},[n("div",{staticClass:"card shadow-sm small"},[n("div",{staticClass:"card-body"},[t.loading?n("div",{staticClass:"container-fluid"},[t._m(0)]):t._e(),t.failed?n("div",{staticClass:"container-fluid"},[t._m(1)]):t._e(),t.loaded?n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-sm"},[t._m(2),n("tbody",[n("tr",[n("td",[t._v("All")]),n("td",{staticClass:"d-md-table-cell text-right"},[t._v(t._s((t.summary.all["total"]||0).toLocaleString()))])]),n("tr",[n("td",[t._v("SNVs")]),n("td",{staticClass:"d-md-table-cell text-right"},[t._v(t._s((t.summary.all["snv"]||0).toLocaleString()))])]),n("tr",[n("td",[t._v("Indels")]),n("td",{staticClass:"d-md-table-cell text-right"},[t._v(t._s((t.summary.all["indels"]||0).toLocaleString()))])])])])])])])]):t._e()])]),n("div",{staticClass:"card shadow-sm small"},[n("div",{staticClass:"card-body"},[t.loading?n("div",{staticClass:"container-fluid"},[t._m(3)]):t._e(),t.failed?n("div",{staticClass:"container-fluid"},[t._m(4)]):t._e(),t.loaded?n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-sm"},[t._m(5),n("tbody",[n("tr",[n("td",[t._v("Synonymous")]),n("td",{staticClass:"d-md-table-cell text-right"},[t._v(t._s(this.count_synonymous("all")))])]),n("tr",[n("td",[t._v("Non-synonymous")]),n("td",{staticClass:"d-md-table-cell text-right"},[t._v(t._s(this.count_nonsynonymous("all")))])])])])])])])]):t._e()])]),n("div",{staticClass:"card shadow-sm small"},[n("div",{staticClass:"card-body"},[t.loading?n("div",{staticClass:"container-fluid"},[t._m(6)]):t._e(),t.failed?n("div",{staticClass:"container-fluid"},[t._m(7)]):t._e(),t.loaded?n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-sm"},[t._m(8),n("tbody",[n("tr",[n("td",[t._v("Frameshifts")]),n("td",{staticClass:"d-md-table-cell text-right"},[t._v(t._s(this.count_frameshifts("all")))])]),n("tr",[n("td",[t._v("Inframe deletions")]),n("td",{staticClass:"d-md-table-cell text-right"},[t._v(t._s(this.count_inframe_deletions("all")))])]),n("tr",[n("td",[t._v("Inframe insertions")]),n("td",{staticClass:"d-md-table-cell text-right"},[t._v(t._s(this.count_inframe_insertions("all")))])])])])])])])]):t._e()])]),n("div",{staticClass:"card shadow-sm small"},[n("div",{staticClass:"card-body"},[t.loading?n("div",{staticClass:"container-fluid"},[t._m(9)]):t._e(),t.failed?n("div",{staticClass:"container-fluid"},[t._m(10)]):t._e(),t.loaded?n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-sm"},[t._m(11),n("tbody",[n("tr",[n("td",[t._v("High Confidence (HC)")]),n("td",{staticClass:"d-md-table-cell text-right"},[t._v(t._s((t.summary.all["LoF (HC)"]||0).toLocaleString()))])]),n("tr",[n("td",[t._v("Low Confidence (LC)")]),n("td",{staticClass:"d-md-table-cell text-right"},[t._v(t._s((t.summary.all["LoF (LC)"]||0).toLocaleString()))])])])])])])])]):t._e()])])])])])},md=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 text-center"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary ml-auto",attrs:{role:"status","aria-hidden":"true"}}),n("strong",[t._v(" Loading...")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 text-center"},[t._v("\n                Error while loading data\n              ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticStyle:{"border-top":"none"},attrs:{scope:"col"}},[t._v("Variant type")]),n("th",{staticClass:"d-md-table-cell text-right",staticStyle:{"border-top":"none"},attrs:{scope:"col"}},[t._v("Number")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 text-center"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary ml-auto",attrs:{role:"status","aria-hidden":"true"}}),n("strong",[t._v(" Loading...")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 text-center"},[t._v("\n                Error while loading data\n              ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticStyle:{"border-top":"none"},attrs:{scope:"col"}},[t._v("SNVs")]),n("th",{staticClass:"d-md-table-cell text-right",staticStyle:{"border-top":"none"},attrs:{scope:"col"}},[t._v("Number")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 text-center"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary ml-auto",attrs:{role:"status","aria-hidden":"true"}}),n("strong",[t._v(" Loading...")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 text-center"},[t._v("\n                Error while loading data\n              ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticStyle:{"border-top":"none"},attrs:{scope:"col"}},[t._v("Indels")]),n("th",{staticClass:"d-md-table-cell text-right",staticStyle:{"border-top":"none"},attrs:{scope:"col"}},[t._v("Number")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 text-center"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary ml-auto",attrs:{role:"status","aria-hidden":"true"}}),n("strong",[t._v(" Loading...")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 text-center"},[t._v("\n                Error while loading data\n              ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticStyle:{"border-top":"none"},attrs:{scope:"col"}},[t._v("Putative Loss-of-Function (pLoF)")]),n("th",{staticClass:"d-none d-md-table-cell text-right",staticStyle:{"border-top":"none"},attrs:{scope:"col"}},[t._v("Number")])])])}],gd={name:"summaries",props:{api:{type:String},region:{type:Object},filters:{type:Array}},components:{FontAwesomeIcon:l["a"]},data:function(){return{tooltipHtml:"",closeIcon:v,scrollRightIcon:u,scrollLeftIcon:c,expandIcon:g,collapseIcon:m,hasLeftScroll:!1,hasRightScroll:!1,loading:!1,loaded:!1,failed:!1,collapsed:!0,summary:null}},methods:{load:function(){var t=this;if(null!=this.region.regionChrom&&null!=this.region.regionStart&&null!=this.region.regionStop){var e="";e=null!=this.region.gene?"".concat(this.api,"variants/gene/snv/").concat(this.region.gene.gene_id,"/summary"):"".concat(this.api,"variants/region/snv/").concat(this.region.regionChrom,"-").concat(this.region.regionStart,"-").concat(this.region.regionStop,"/summary"),this.summary=null,this.loaded=!1,this.failed=!1,this.loading=!0,s.a.post(e,{filters:this.computedFilters,introns:this.computedRegion.introns}).then((function(e){var n=e.data;t.summary=n["data"],t.loading=!1,t.failed=!1,t.loaded=!0,t.$nextTick((function(){t.updateHorizontalScroll()}))})).catch((function(e){t.loading=!1,t.loaded=!1,t.failed=!0,t.summary=null})).finally((function(){}))}},count_synonymous:function(t){return(this.summary[t]["synonymous_variant"]||0)+(this.summary[t]["start_retained_variant"]||0)+(this.summary[t]["stop_retained_variant"]||0)},count_nonsynonymous:function(t){return(this.summary[t]["missense_variant"]||0)+(this.summary[t]["start_lost"]||0)+(this.summary[t]["stop_gained"]||0)+(this.summary[t]["stop_lost"]||0)},count_frameshifts:function(t){return this.summary[t]["frameshift_variant"]||0},count_inframe_insertions:function(t){return this.summary[t]["inframe_insertion"]||0},count_inframe_deletions:function(t){return this.summary[t]["inframe_deletion"]||0},updateHorizontalScroll:function(){var t=this.$el.querySelector(".cards");this.hasLeftScroll=0!=t.scrollLeft,this.hasRightScroll=Math.abs(t.scrollWidth-t.clientWidth-t.scrollLeft)>1},scroll:function(t){var e=this.$el.querySelector(".cards");e.scrollLeft=e.scrollLeft+t}},beforeCreate:function(){},created:function(){},mounted:function(){this.load(),this.$el.querySelector(".cards").onscroll=this.updateHorizontalScroll},computed:{computedRegion:function(){return JSON.parse(JSON.stringify(this.region))},computedFilters:function(){var t=[];return this.filters.forEach((function(e){t.push(e.tabulator_filter)})),t}},watch:{computedRegion:{handler:function(t,e){null!=t.gene?null!=e.gene&&e.gene.gene_id==t.gene.gene_id&&e.introns==t.introns||this.load():null==t.gene&&(null!=e.gene?this.load():t.regionChrom==e.regionChrom&&t.regionStart==e.regionStart&&t.regionStop==e.regionStop&&e.introns==t.introns||this.load()),this.updateHorizontalScroll()},deep:!0},filters:function(t,e){this.load()}}},vd=gd,yd=(n("e951"),Eu(vd,fd,md,!1,null,"1bb61cfc",null)),bd=yd.exports,wd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child-component"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[null!=t.computedRegion.gene?n("div",[n("h1",{staticClass:"display-5"},[n("i",[t._v(t._s(t.computedRegion.gene.gene_name))])]),n("h6",[t._v(t._s(t.computedRegion.gene.full_gene_name))]),n("ul",{staticClass:"list-inline"},[n("li",{staticClass:"list-inline-item"},[t._v("Ensembl ID: "),n("a",{attrs:{href:"http://www.ensembl.org/Homo_sapiens/geneview?gene="+t.computedRegion.gene.gene_id}},[t._v(t._s(t.computedRegion.gene.gene_id))]),t._v(" |")]),n("li",{staticClass:"list-inline-item"},[t._v("Gene type: "),n("span",{staticStyle:{color:"#85144b"}},[t._v(t._s(t.computedRegion.gene.gene_type))]),t._v(" |")]),n("li",{staticClass:"list-inline-item"},[t._v("Region: "),n("a",{attrs:{href:"#"},on:{click:function(e){return t.$emit("goto_region",t.computedRegion.gene.chrom,t.computedRegion.gene.start,t.computedRegion.gene.stop)}}},[t._v(t._s(t.computedRegion.gene.chrom)+":"+t._s(t.computedRegion.gene.start.toLocaleString())+"-"+t._s(t.computedRegion.gene.stop.toLocaleString()))]),t._v(" |")]),n("li",{staticClass:"list-inline-item"},[t._v("Total length: "+t._s((t.computedRegion.gene.stop-t.computedRegion.gene.start+1).toLocaleString())+" bp | ")]),n("li",{staticClass:"list-inline-item"},[t._v("Exonic length: "+t._s(t.computedRegion.gene.coding_regions.reduce((function(t,e){return t+e[1]-e[0]+1}),0).toLocaleString())+" bp")]),n("li",{staticClass:"list-inline-item"},[t._v(" | "),n("a",{attrs:{href:"http://pheweb.sph.umich.edu/SAIGE-UKB/gene/"+t.computedRegion.gene.gene_name}},[t._v("UK Biobank PheWeb")])]),t.computedRegion.gene.omim_accession?n("li",{staticClass:"list-inline-item"},[t._v(" | "),n("a",{attrs:{href:"https://omim.org/entry/"+t.computedRegion.gene.omim_accession}},[t._v("OMIM")])]):t._e(),n("li",{staticClass:"list-inline-item"},[t._v(" | "),n("a",{attrs:{href:"https://www.genecards.org/cgi-bin/carddisp.pl?gene="+t.computedRegion.gene.gene_id}},[t._v("GeneCards")])]),n("li",{staticClass:"list-inline-item"},[t._v(" | "),n("a",{attrs:{href:"https://genome.ucsc.edu/cgi-bin/hgTracks?db=GRCh38&position="+t.computedRegion.gene.chrom+":"+t.computedRegion.gene.start+"-"+t.computedRegion.gene.stop}},[t._v("UCSC Browser")])])])]):t._e(),null==t.computedRegion.gene&&null!=t.computedRegion.regionChrom&&null!=t.computedRegion.regionStart&&null!=t.computedRegion.regionStop?n("div",[n("h1",{staticClass:"display-5"},[t._v(t._s(t.computedRegion.regionChrom)+":"+t._s(t.computedRegion.regionStart.toLocaleString())+"-"+t._s(t.computedRegion.regionStop.toLocaleString()))]),n("ul",{staticClass:"list-inline"},[n("li",{staticClass:"list-inline-item"},[t._v("Region length: "+t._s((t.computedRegion.regionStop-t.computedRegion.regionStart+1).toLocaleString())+" bp")]),n("li",{staticClass:"list-inline-item"},[t._v(" | "),n("a",{attrs:{href:"https://genome.ucsc.edu/cgi-bin/hgTracks?db=GRCh38&position="+t.computedRegion.regionChrom+":"+t.computedRegion.regionStart+"-"+t.computedRegion.regionStop}},[t._v("UCSC Browser")])])])]):t._e()])])])])},Cd=[],xd={name:"info",props:{region:{type:Object}},components:{},data:function(){return{}},methods:{},beforeCreate:function(){},created:function(){},mounted:function(){},computed:{computedRegion:function(){return JSON.parse(JSON.stringify(this.region))}},watch:{}},Ed=xd,_d=(n("288b"),Eu(Ed,wd,Cd,!1,null,"1749967a",null)),Md=_d.exports,Rd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child-component"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12",staticStyle:{"padding-left":"0px","padding-top":"2px","padding-bottom":"2px"}},[n("div",{staticClass:"btn-group mr-1 mt-1",attrs:{id:"qualityFilter"}},[n("button",{staticClass:"btn btn-sm dropdown-toggle",class:{"btn-primary":t.savedQualityFilters.length>0,"btn-outline-primary":0==t.savedQualityFilters.length},attrs:{type:"button",id:"qualityFilterDropdownButton","data-boundary":"window","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n            Quality "),t.savedQualityFilters.length>0?n("span",[t._v("("+t._s(t.savedQualityFilters.length)+")")]):t._e()]),n("div",{staticClass:"dropdown-menu shadow",on:{click:function(t){t.stopPropagation()}}},[n("form",{staticClass:"p-2"},[n("ul",{staticStyle:{"list-style-type":"none","padding-left":"0"}},[n("li",[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",value:"",id:"allPassedQC"},on:{change:t.changedAllPassedCheckbox}}),n("label",{staticClass:"custom-control-label",attrs:{for:"allPassedQC"}},[t._v("All variants which pass QC")])]),n("ul",{staticStyle:{"list-style-type":"none","padding-left":"1rem","padding-top":"0.2rem"}},[n("li",[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.qualityFilters,expression:"qualityFilters"}],staticClass:"custom-control-input",attrs:{type:"checkbox",value:"PASS",id:"PASS"},domProps:{checked:Array.isArray(t.qualityFilters)?t._i(t.qualityFilters,"PASS")>-1:t.qualityFilters},on:{change:function(e){var n=t.qualityFilters,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r="PASS",a=t._i(n,r);o.checked?a<0&&(t.qualityFilters=n.concat([r])):a>-1&&(t.qualityFilters=n.slice(0,a).concat(n.slice(a+1)))}else t.qualityFilters=i}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"PASS"}},[t._v("PASS")]),n("small",{staticClass:"form-text text-muted"},[t._v("All filters passed")])])])])]),n("li",[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",value:"",id:"allFailedQC"},on:{change:t.changedAllFailedCheckbox}}),n("label",{staticClass:"custom-control-label",attrs:{for:"allFailedQC"}},[t._v("All variants which failed QC")])]),n("ul",{staticStyle:{"list-style-type":"none","padding-left":"1rem","padding-top":"0.2rem"}},[n("li",[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.qualityFilters,expression:"qualityFilters"}],staticClass:"custom-control-input",attrs:{type:"checkbox",value:"SVM",id:"SVM"},domProps:{checked:Array.isArray(t.qualityFilters)?t._i(t.qualityFilters,"SVM")>-1:t.qualityFilters},on:{change:function(e){var n=t.qualityFilters,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r="SVM",a=t._i(n,r);o.checked?a<0&&(t.qualityFilters=n.concat([r])):a>-1&&(t.qualityFilters=n.slice(0,a).concat(n.slice(a+1)))}else t.qualityFilters=i}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"SVM"}},[t._v("SVM")]),n("small",{staticClass:"form-text text-muted"},[t._v("Variant failed SVM filter")])])]),n("li",[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.qualityFilters,expression:"qualityFilters"}],staticClass:"custom-control-input",attrs:{type:"checkbox",value:"DISC",id:"DISC"},domProps:{checked:Array.isArray(t.qualityFilters)?t._i(t.qualityFilters,"DISC")>-1:t.qualityFilters},on:{change:function(e){var n=t.qualityFilters,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r="DISC",a=t._i(n,r);o.checked?a<0&&(t.qualityFilters=n.concat([r])):a>-1&&(t.qualityFilters=n.slice(0,a).concat(n.slice(a+1)))}else t.qualityFilters=i}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"DISC"}},[t._v("DISC")]),n("small",{staticClass:"form-text text-muted"},[t._v("Mendelian or duplicate genotype discordance is high")])])]),n("li",[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.qualityFilters,expression:"qualityFilters"}],staticClass:"custom-control-input",attrs:{type:"checkbox",value:"EXHET",id:"EXHET"},domProps:{checked:Array.isArray(t.qualityFilters)?t._i(t.qualityFilters,"EXHET")>-1:t.qualityFilters},on:{change:function(e){var n=t.qualityFilters,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r="EXHET",a=t._i(n,r);o.checked?a<0&&(t.qualityFilters=n.concat([r])):a>-1&&(t.qualityFilters=n.slice(0,a).concat(n.slice(a+1)))}else t.qualityFilters=i}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"EXHET"}},[t._v("EXHET")]),n("small",{staticClass:"form-text text-muted"},[t._v("Excess heterozygosity.")])])])])])]),n("hr"),n("div",{staticClass:"form-row"},[n("div",{staticClass:"col mr-auto"},[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button",disabled:0==t.qualityFilters.length},on:{click:t.clearQualityFilters}},[t._v("Clear")])]),n("div",{staticClass:"col mr-auto"},[n("button",{staticClass:"btn btn-primary btn-sm float-right",attrs:{type:"button"},on:{click:t.applyQualityFilters}},[t._v("Save")])])])])])]),n("div",{staticClass:"btn-group mr-1 mt-1",attrs:{id:"consequenceFilter"}},[n("button",{staticClass:"btn btn-sm dropdown-toggle",class:{"btn-primary":t.savedConsequenceFilters.length>0,"btn-outline-primary":0==t.savedConsequenceFilters.length},attrs:{type:"button",id:"consequenceFilterDropdownButton","data-boundary":"window","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n            Annotation "),t.savedConsequenceFilters.length>0?n("span",[t._v("("+t._s(t.savedConsequenceFilters.length)+")")]):t._e()]),n("div",{staticClass:"dropdown-menu shadow",on:{click:function(t){t.stopPropagation()}}},[n("form",{staticClass:"p-2"},[n("div",{staticClass:"overflow-auto",staticStyle:{"min-width":"260px","max-height":"370px"}},[n("ul",{staticStyle:{"list-style-type":"none","padding-left":"0"}},[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",value:"",id:"allSynonymous"},on:{change:t.changedAllSynonymousCheckbox}}),n("label",{staticClass:"custom-control-label",attrs:{for:"allSynonymous"}},[t._v("All synonymous variants")])]),n("ul",{staticStyle:{"list-style-type":"none","padding-left":"1rem","padding-top":"0.2rem"}},t._l(t.consequenceFiltersInputs.synonymous,(function(e){return n("li",[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.consequenceFilters,expression:"consequenceFilters"}],key:e,staticClass:"custom-control-input",attrs:{type:"checkbox",id:e},domProps:{value:e,checked:Array.isArray(t.consequenceFilters)?t._i(t.consequenceFilters,e)>-1:t.consequenceFilters},on:{change:function(n){var o=t.consequenceFilters,i=n.target,r=!!i.checked;if(Array.isArray(o)){var a=e,s=t._i(o,a);i.checked?s<0&&(t.consequenceFilters=o.concat([a])):s>-1&&(t.consequenceFilters=o.slice(0,s).concat(o.slice(s+1)))}else t.consequenceFilters=r}}}),n("label",{staticClass:"custom-control-label",attrs:{for:e}},[t._v(t._s(e))]),n("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.$DOMAIN_DICTIONARY.consequence[t.consequenceFiltersMap[e].value].desc))])])])})),0)]),n("ul",{staticStyle:{"list-style-type":"none","padding-left":"0"}},[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",value:"",id:"allNonsynonymous"},on:{change:t.changedAllNonsynonymousCheckbox}}),n("label",{staticClass:"custom-control-label",attrs:{for:"allNonsynonymous"}},[t._v("All non-synonymous variants")])]),n("ul",{staticStyle:{"list-style-type":"none","padding-left":"1rem","padding-top":"0.2rem"}},t._l(t.consequenceFiltersInputs.nonsynonymous,(function(e){return n("li",[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.consequenceFilters,expression:"consequenceFilters"}],key:e,staticClass:"custom-control-input",attrs:{type:"checkbox",id:e},domProps:{value:e,checked:Array.isArray(t.consequenceFilters)?t._i(t.consequenceFilters,e)>-1:t.consequenceFilters},on:{change:function(n){var o=t.consequenceFilters,i=n.target,r=!!i.checked;if(Array.isArray(o)){var a=e,s=t._i(o,a);i.checked?s<0&&(t.consequenceFilters=o.concat([a])):s>-1&&(t.consequenceFilters=o.slice(0,s).concat(o.slice(s+1)))}else t.consequenceFilters=r}}}),n("label",{staticClass:"custom-control-label",attrs:{for:e}},[t._v(t._s(e))]),n("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.$DOMAIN_DICTIONARY.consequence[t.consequenceFiltersMap[e].value].desc))])])])})),0)]),n("button",{staticClass:"btn btn-link btn-sm",attrs:{type:"button",button:""},on:{click:function(e){t.expandedConsequenceFilters=!t.expandedConsequenceFilters}}},[t.expandedConsequenceFilters?n("span",[t._v("Show less")]):n("span",[t._v("Show more")])]),t.expandedConsequenceFilters?n("ul",{staticStyle:{"list-style-type":"none","padding-left":"0"}},t._l(t.consequenceFiltersInputs.others,(function(e){return n("li",[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.consequenceFilters,expression:"consequenceFilters"}],key:e,staticClass:"custom-control-input",attrs:{type:"checkbox",id:e},domProps:{value:e,checked:Array.isArray(t.consequenceFilters)?t._i(t.consequenceFilters,e)>-1:t.consequenceFilters},on:{change:function(n){var o=t.consequenceFilters,i=n.target,r=!!i.checked;if(Array.isArray(o)){var a=e,s=t._i(o,a);i.checked?s<0&&(t.consequenceFilters=o.concat([a])):s>-1&&(t.consequenceFilters=o.slice(0,s).concat(o.slice(s+1)))}else t.consequenceFilters=r}}}),n("label",{staticClass:"custom-control-label",attrs:{for:e}},[t._v(t._s(e))]),n("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.$DOMAIN_DICTIONARY.consequence[t.consequenceFiltersMap[e].value].desc))])])])})),0):t._e()]),n("hr"),n("div",{staticClass:"form-row"},[n("div",{staticClass:"col mr-auto"},[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button",disabled:0==t.consequenceFilters.length},on:{click:t.clearConsequenceFilters}},[t._v("Clear")])]),n("div",{staticClass:"col mr-auto"},[n("button",{staticClass:"btn btn-primary btn-sm float-right",attrs:{type:"button"},on:{click:t.applyConsequenceFilters}},[t._v("Save")])])])])])]),n("div",{staticClass:"btn-group mr-1 mt-1",attrs:{id:"lofFilter"}},[n("button",{staticClass:"btn btn-sm dropdown-toggle",class:{"btn-primary":t.savedLofFilters.length>0,"btn-outline-primary":0==t.savedLofFilters.length},attrs:{type:"button",id:"lofFilterDropdownButton","data-boundary":"window","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n            LOFTEE "),t.savedLofFilters.length>0?n("span",[t._v("("+t._s(t.savedLofFilters.length)+")")]):t._e()]),n("div",{staticClass:"dropdown-menu shadow",on:{click:function(t){t.stopPropagation()}}},[n("form",{staticClass:"p-2"},[n("ul",{staticStyle:{"list-style-type":"none","padding-left":"0"}},[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",value:"",id:"allLoF"},on:{change:t.changedAllLoFCheckbox}}),n("label",{staticClass:"custom-control-label",attrs:{for:"allLoF"}},[t._v("All putative Loss-of-Function (pLoF) variants")])]),n("ul",{staticStyle:{"list-style-type":"none","padding-left":"1rem","padding-top":"0.2rem"}},t._l(t.consequenceFiltersInputs.lof,(function(e){return n("li",[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.lofFilters,expression:"lofFilters"}],key:e,staticClass:"custom-control-input",attrs:{type:"checkbox",id:e},domProps:{value:e,checked:Array.isArray(t.lofFilters)?t._i(t.lofFilters,e)>-1:t.lofFilters},on:{change:function(n){var o=t.lofFilters,i=n.target,r=!!i.checked;if(Array.isArray(o)){var a=e,s=t._i(o,a);i.checked?s<0&&(t.lofFilters=o.concat([a])):s>-1&&(t.lofFilters=o.slice(0,s).concat(o.slice(s+1)))}else t.lofFilters=r}}}),n("label",{staticClass:"custom-control-label",attrs:{for:e}},[t._v(t._s(e))]),n("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.$DOMAIN_DICTIONARY.lof[t.consequenceFiltersMap[e].value].desc))])])])})),0)]),n("hr"),n("div",{staticClass:"form-row"},[n("div",{staticClass:"col mr-auto"},[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button",disabled:0==t.lofFilters.length},on:{click:t.clearLofFilters}},[t._v("Clear")])]),n("div",{staticClass:"col mr-auto"},[n("button",{staticClass:"btn btn-primary btn-sm float-right",attrs:{type:"button"},on:{click:t.applyLofFilters}},[t._v("Save")])])])])])]),n("div",{staticClass:"btn-group mr-1 mt-1",attrs:{id:"frequencyFilter"}},[n("button",{staticClass:"btn btn-sm dropdown-toggle",class:{"btn-primary":t.savedMinFrequency>0||t.savedMaxFrequency<100,"btn-outline-primary":0==t.savedMinFrequency&&100==t.savedMaxFrequency},attrs:{type:"button",id:"frequencyFilterDropdownButton","data-boundary":"window","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n            Frequency "),t.savedMinFrequency>0||t.savedMaxFrequency<100?n("span",[t._v("("+t._s((t.savedMinFrequency>0)+(t.savedMaxFrequency<100))+")")]):t._e()]),n("div",{staticClass:"dropdown-menu shadow",staticStyle:{"max-width":"250px"},on:{click:function(t){t.stopPropagation()}}},[n("form",{staticClass:"p-2"},[n("h6",[t._v("Alternate allele frequency (%)")]),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"minFrequency"}},[t._v("Min")]),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.minFrequency,expression:"minFrequency"}],staticClass:"form-control",attrs:{id:"minFrequency",type:"number",name:"",min:"0",max:"100",step:"0.01",required:""},domProps:{value:t.minFrequency},on:{input:function(e){e.target.composing||(t.minFrequency=e.target.value)}}})])]),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"maxFrequency"}},[t._v("Max")]),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.maxFrequency,expression:"maxFrequency"}],staticClass:"form-control",attrs:{id:"maxFrequency",type:"number",name:"",min:"0",max:"100",step:"0.01",required:""},domProps:{value:t.maxFrequency},on:{input:function(e){e.target.composing||(t.maxFrequency=e.target.value)}}})])]),n("hr"),n("div",{staticClass:"form-row"},[n("div",{staticClass:"col mr-auto"},[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button",disabled:0==t.minFrequency&&100==t.maxFrequency},on:{click:t.clearFrequencyFilters}},[t._v("Clear")])]),n("div",{staticClass:"col mr-auto"},[n("button",{staticClass:"btn btn-primary btn-sm float-right",attrs:{type:"button",disabled:""===t.minFrequency||""===t.maxFrequency||t.minFrequency<0||t.minFrequency>100||t.maxFrequency<0||t.maxFrequency>100||t.minFrequency>t.maxFrequency},on:{click:t.applyFrequencyFilters}},[t._v("Save")])])])])])]),n("div",{staticClass:"btn-group mr-1 mt-1",attrs:{id:"caddFilter"}},[n("button",{staticClass:"btn btn-sm dropdown-toggle",class:{"btn-primary":t.savedMinCadd>0||t.savedMaxCadd<100,"btn-outline-primary":0==t.savedMinCadd&&100==t.savedMaxCadd},attrs:{type:"button",id:"caddFilterDropdownButton","data-boundary":"window","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n            CADD "),t.savedMinCadd>0||t.savedMaxCadd<100?n("span",[t._v("("+t._s((t.savedMinCadd>0)+(t.savedMaxCadd<100))+")")]):t._e()]),n("div",{staticClass:"dropdown-menu shadow",staticStyle:{"max-width":"250px"},on:{click:function(t){t.stopPropagation()}}},[n("form",{staticClass:"p-2"},[n("h6",[t._v("Variant deleteriousness score (CADD) on PHRED-like scale")]),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"minFrequency"}},[t._v("Min")]),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.minCadd,expression:"minCadd"}],staticClass:"form-control",attrs:{id:"minCadd",type:"number",name:"",min:"0",max:"100",step:"0.01",required:""},domProps:{value:t.minCadd},on:{input:function(e){e.target.composing||(t.minCadd=e.target.value)}}})])]),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"maxFrequency"}},[t._v("Max")]),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.maxCadd,expression:"maxCadd"}],staticClass:"form-control",attrs:{id:"maxCadd",type:"number",name:"",min:"0",max:"100",step:"0.01",required:""},domProps:{value:t.maxCadd},on:{input:function(e){e.target.composing||(t.maxCadd=e.target.value)}}})])]),n("div",{staticClass:"form-row"},[n("div",{staticClass:"col mr-auto"},[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button",disabled:0==t.minCadd&&100==t.maxCadd},on:{click:t.clearCaddFilters}},[t._v("Clear")])]),n("div",{staticClass:"col mr-auto"},[n("button",{staticClass:"btn btn-primary btn-sm float-right",attrs:{type:"button",disabled:""===t.minCadd||""===t.maxCadd||t.minCadd<0||t.minCadd>100||t.maxCadd<0||t.maxCadd>100||t.minCadd>t.maxCadd},on:{click:t.applyCaddFilters}},[t._v("Save")])])])])])]),n("div",{staticClass:"btn-group mr-1 mt-1",attrs:{id:"rsFilter"}},[n("button",{staticClass:"btn btn-sm dropdown-toggle",class:{"btn-primary":t.savedRsFilters.length>0,"btn-outline-primary":0==t.savedRsFilters.length},attrs:{type:"button",id:"rsFilterDropdownButton","data-boundary":"window","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n            rsID "),t.savedRsFilters.length>0?n("span",[t._v("(1)")]):t._e()]),n("div",{staticClass:"dropdown-menu shadow",on:{click:function(t){t.stopPropagation()}}},[n("form",{staticClass:"p-2"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"inputRs"}},[t._v("Variant rsID")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.rsFilters,expression:"rsFilters"}],staticClass:"form-control",attrs:{type:"text",id:"inputRs",placeholder:"Enter rs identifier"},domProps:{value:t.rsFilters},on:{input:function(e){e.target.composing||(t.rsFilters=e.target.value)}}})]),n("hr"),n("div",{staticClass:"form-row"},[n("div",{staticClass:"col mr-auto"},[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button",disabled:0==t.rsFilters.length},on:{click:t.clearRsFilters}},[t._v("Clear")])]),n("div",{staticClass:"col mr-auto"},[n("button",{staticClass:"btn btn-primary btn-sm float-right",attrs:{type:"button"},on:{click:t.applyRsFilters}},[t._v("Save")])])])])])])])])])])},Sd=[],kd=(n("6762"),n("2fdb"),{name:"snvfilter",props:{suggestions:{type:Object},filters:{type:Array}},components:{},data:function(){return{qualityFilters:[],savedQualityFilters:[],consequenceFiltersInputs:{},consequenceFilters:[],savedConsequenceFilters:[],expandedConsequenceFilters:!1,lofFilters:[],savedLofFilters:[],minFrequency:0,maxFrequency:100,savedMinFrequency:0,savedMaxFrequency:100,minCadd:0,maxCadd:100,savedMinCadd:0,savedMaxCadd:100,rsFilters:"",savedRsFilters:""}},methods:{emitFilters:function(){var t=this,e=[];if(this.savedQualityFilters.forEach((function(t){e.push({tabulator_filter:{field:"filter",type:"=",value:t}})})),this.savedConsequenceFilters.forEach((function(n){e.push({tabulator_filter:{field:t.consequenceFiltersMap[n].field,type:t.consequenceFiltersMap[n].type,value:t.consequenceFiltersMap[n].value}})})),this.savedLofFilters.forEach((function(n){e.push({tabulator_filter:{field:t.consequenceFiltersMap[n].field,type:t.consequenceFiltersMap[n].type,value:t.consequenceFiltersMap[n].value}})})),this.savedMinFrequency>0||this.savedMaxFrequency<100){var n=[];this.savedMinFrequency>0&&n.push({field:"allele_freq",type:">",value:this.savedMinFrequency/100}),this.savedMaxFrequency<100&&n.push({field:"allele_freq",type:"<",value:this.savedMaxFrequency/100}),e.push({tabulator_filter:n})}if(this.savedMinCadd>0||this.savedMaxCadd<100){var o=[];this.savedMinCadd>0&&o.push({field:"cadd_phred",type:">",value:this.savedMinCadd}),this.savedMaxCadd<100&&o.push({field:"cadd_phred",type:"<",value:this.savedMaxCadd}),e.push({tabulator_filter:o})}this.savedRsFilters.length>0&&e.push({tabulator_filter:{field:"rsids",type:"=",value:this.savedRsFilters}}),this.$emit("filter",e)},doNotChangeQualityFilters:function(){this.qualityFilters=JSON.parse(JSON.stringify(this.savedQualityFilters))},changeQualityFilters:function(){this.savedQualityFilters=JSON.parse(JSON.stringify(this.qualityFilters))},applyQualityFilters:function(){var t=!0;if(this.qualityFilters.length!=this.savedQualityFilters.length)t=!1;else for(var e=0;e<this.qualityFilters.length;++e)this.savedQualityFilters.includes(this.qualityFilters[e])||(t=!1);t||(this.changeQualityFilters(),this.emitFilters()),$(this.$el.querySelector("#qualityFilterDropdownButton")).dropdown("hide")},clearQualityFilters:function(){this.qualityFilters=[]},doNotChangeConsequenceFilters:function(){this.consequenceFilters=JSON.parse(JSON.stringify(this.savedConsequenceFilters))},changeConsequenceFilters:function(){this.savedConsequenceFilters=JSON.parse(JSON.stringify(this.consequenceFilters))},applyConsequenceFilters:function(){var t=!0;if(this.consequenceFilters.length!=this.savedConsequenceFilters.length)t=!1;else for(var e=0;e<this.consequenceFilters.length;++e)this.savedConsequenceFilters.includes(this.consequenceFilters[e])||(t=!1);t||(this.changeConsequenceFilters(),this.emitFilters()),$(this.$el.querySelector("#consequenceFilterDropdownButton")).dropdown("hide")},clearConsequenceFilters:function(){this.consequenceFilters=[]},doNotChangeLofFilters:function(){this.lofFilters=JSON.parse(JSON.stringify(this.savedLofFilters))},changeLofFilters:function(){this.savedLofFilters=JSON.parse(JSON.stringify(this.lofFilters))},applyLofFilters:function(){var t=!0;if(this.lofFilters.length!=this.savedLofFilters.length)t=!1;else for(var e=0;e<this.lofFilters.length;++e)this.savedLofFilters.includes(this.lofFilters[e])||(t=!1);t||(this.changeLofFilters(),this.emitFilters()),$(this.$el.querySelector("#lofFilterDropdownButton")).dropdown("hide")},clearLofFilters:function(){this.lofFilters=[]},doNotChangeFrequencyFilters:function(){this.minFrequency=this.savedMinFrequency,this.maxFrequency=this.savedMaxFrequency},changeFrequencyFilters:function(){this.savedMinFrequency=this.minFrequency,this.savedMaxFrequency=this.maxFrequency},applyFrequencyFilters:function(){var t=!0;this.minFrequency!=this.savedMinFrequency&&(t=!1),this.maxFrequency!=this.savedMaxFrequency&&(t=!1),t||(this.changeFrequencyFilters(),this.emitFilters()),$(this.$el.querySelector("#frequencyFilterDropdownButton")).dropdown("hide")},clearFrequencyFilters:function(){this.minFrequency=0,this.maxFrequency=100},doNotChangeCaddFilters:function(){this.minCadd=this.savedMinCadd,this.maxCadd=this.savedMaxCadd},changeCaddFilters:function(){this.savedMinCadd=this.minCadd,this.savedMaxCadd=this.maxCadd},applyCaddFilters:function(){var t=!0;this.minCadd!=this.savedMinCadd&&(t=!1),this.maxCadd!=this.savedMaxCadd&&(t=!1),t||(this.changeCaddFilters(),this.emitFilters()),$(this.$el.querySelector("#caddFilterDropdownButton")).dropdown("hide")},clearCaddFilters:function(){this.minCadd=0,this.maxCadd=100},doNotChangeRsFilters:function(){this.rsFilters=JSON.parse(JSON.stringify(this.savedRsFilters))},changeRsFilters:function(){this.savedRsFilters=JSON.parse(JSON.stringify(this.rsFilters))},applyRsFilters:function(){var t=!0;if(this.rsFilters.length!=this.savedRsFilters.length)t=!1;else for(var e=0;e<this.rsFilters.length;++e)this.savedRsFilters.includes(this.rsFilters[e])||(t=!1);t||(this.changeRsFilters(),this.emitFilters()),$(this.$el.querySelector("#rsFilterDropdownButton")).dropdown("hide")},clearRsFilters:function(){this.rsFilters=[]},changedAllPassedCheckbox:function(t){if(t.target.checked)this.qualityFilters.includes("PASS")||this.qualityFilters.push("PASS");else{var e=this.qualityFilters.indexOf("PASS");e>=0&&this.qualityFilters.splice(e,1)}},changedAllFailedCheckbox:function(t){var e=this,n=["SVM","DISC","EXHET"];t.target.checked?n.forEach((function(t){e.qualityFilters.includes(t)||e.qualityFilters.push(t)})):n.forEach((function(t){var n=e.qualityFilters.indexOf(t);n>=0&&e.qualityFilters.splice(n,1)}))},changedAllLoFCheckbox:function(t){var e=this;t.target.checked?this.lof.forEach((function(t){e.lofFilters.includes(t)||e.lofFilters.push(t)})):this.lof.forEach((function(t){var n=e.lofFilters.indexOf(t);n>=0&&e.lofFilters.splice(n,1)}))},changedAllSynonymousCheckbox:function(t){var e=this;t.target.checked?this.synonymous.forEach((function(t){e.consequenceFilters.includes(t)||e.consequenceFilters.push(t)})):this.synonymous.forEach((function(t){var n=e.consequenceFilters.indexOf(t);n>=0&&e.consequenceFilters.splice(n,1)}))},changedAllNonsynonymousCheckbox:function(t){var e=this;t.target.checked?this.nonsynonymous.forEach((function(t){e.consequenceFilters.includes(t)||e.consequenceFilters.push(t)})):this.nonsynonymous.forEach((function(t){var n=e.consequenceFilters.indexOf(t);n>=0&&e.consequenceFilters.splice(n,1)}))}},beforeCreate:function(){this.consequenceFiltersMap={},this.lof=["high-confidence","low-confidence"],this.synonymous=["synonymous","start retained","stop retained"],this.nonsynonymous=["missense","start lost","stop lost","stop gained","frameshift","inframe insertion","inframe deletion"]},created:function(){var t=this;this.filters.forEach((function(e){"Quality"==e.title&&(t.qualityFilters.push(e.tabulator_filter.value),t.savedQualityFilters.push(e.tabulator_filter.value))}))},mounted:function(){$(this.$el.querySelector("#qualityFilter")).on("hide.bs.dropdown",this.doNotChangeQualityFilters),$(this.$el.querySelector("#consequenceFilter")).on("hide.bs.dropdown",this.doNotChangeConsequenceFilters),$(this.$el.querySelector("#lofFilter")).on("hide.bs.dropdown",this.doNotChangeLofFilters),$(this.$el.querySelector("#frequencyFilter")).on("hide.bs.dropdown",this.doNotChangeFrequencyFilters),$(this.$el.querySelector("#caddFilter")).on("hide.bs.dropdown",this.doNotChangeCaddFilters),$(this.$el.querySelector("#rsFilter")).on("hide.bs.dropdown",this.doNotChangeRsFilters)},computed:{},watch:{suggestions:function(t,e){this.consequenceFiltersInputs={lof:[],synonymous:[],nonsynonymous:[],others:[]},this.consequenceFiltersMap={};var n=t.LoF;for(var o in n.data.items)if(n.data.items.hasOwnProperty(o)){var i=n.data.items[o];if("By Value"!=i.data.category)continue;this.consequenceFiltersInputs.lof.push(i.value),this.consequenceFiltersMap[i.value]=i.data.tabulator_filter}var r=t.Consequence;for(var o in r.data.items)if(r.data.items.hasOwnProperty(o)){i=r.data.items[o];if("By Value"!=i.data.category)continue;this.synonymous.includes(i.value)?(this.consequenceFiltersInputs.synonymous.push(i.value),this.consequenceFiltersMap[i.value]=i.data.tabulator_filter):this.nonsynonymous.includes(i.value)?(this.consequenceFiltersInputs.nonsynonymous.push(i.value),this.consequenceFiltersMap[i.value]=i.data.tabulator_filter):(this.consequenceFiltersInputs.others.push(i.value),this.consequenceFiltersMap[i.value]=i.data.tabulator_filter)}},qualityFilters:function(t,e){var n=["SVM","DISC","EXHET"];n.every((function(e){return t.includes(e)}))?(this.$el.querySelector("#allFailedQC").indeterminate=!1,this.$el.querySelector("#allFailedQC").checked=!0):n.some((function(e){return t.includes(e)}))?(this.$el.querySelector("#allFailedQC").indeterminate=!0,this.$el.querySelector("#allFailedQC").checked=!1):(this.$el.querySelector("#allFailedQC").indeterminate=!1,this.$el.querySelector("#allFailedQC").checked=!1);var o=["PASS"];o.every((function(e){return t.includes(e)}))?(this.$el.querySelector("#allPassedQC").indeterminate=!1,this.$el.querySelector("#allPassedQC").checked=!0):o.some((function(e){return t.includes(e)}))?(this.$el.querySelector("#allPassedQC").indeterminate=!0,this.$el.querySelector("#allPassedQC").checked=!1):(this.$el.querySelector("#allPassedQC").indeterminate=!1,this.$el.querySelector("#allPassedQC").checked=!1)},consequenceFilters:function(t,e){this.synonymous.every((function(e){return t.includes(e)}))?(this.$el.querySelector("#allSynonymous").indeterminate=!1,this.$el.querySelector("#allSynonymous").checked=!0):this.synonymous.some((function(e){return t.includes(e)}))?(this.$el.querySelector("#allSynonymous").indeterminate=!0,this.$el.querySelector("#allSynonymous").checked=!1):(this.$el.querySelector("#allSynonymous").indeterminate=!1,this.$el.querySelector("#allSynonymous").checked=!1),this.nonsynonymous.every((function(e){return t.includes(e)}))?(this.$el.querySelector("#allNonsynonymous").indeterminate=!1,this.$el.querySelector("#allNonsynonymous").checked=!0):this.nonsynonymous.some((function(e){return t.includes(e)}))?(this.$el.querySelector("#allNonsynonymous").indeterminate=!0,this.$el.querySelector("#allNonsynonymous").checked=!1):(this.$el.querySelector("#allNonsynonymous").indeterminate=!1,this.$el.querySelector("#allNonsynonymous").checked=!1)},lofFilters:function(t,e){this.lof.every((function(e){return t.includes(e)}))?(this.$el.querySelector("#allLoF").indeterminate=!1,this.$el.querySelector("#allLoF").checked=!0):this.lof.some((function(e){return t.includes(e)}))?(this.$el.querySelector("#allLoF").indeterminate=!0,this.$el.querySelector("#allLoF").checked=!1):(this.$el.querySelector("#allLoF").indeterminate=!1,this.$el.querySelector("#allLoF").checked=!1)}}}),Td=kd,Ld=(n("fea2"),Eu(Td,Rd,Sd,!1,null,"10b35c26",null)),Dd=Ld.exports,Fd={name:"bravoregion",components:{FontAwesomeIcon:l["a"],coordinates:Mu,depth:ju,genes:$u,gene:Zu,snv:rd,snvtable:pd,summaries:bd,info:Md,snvfilter:Dd},props:{homepage:{type:String},api:{type:String},paginationSize:{type:Number},chrom:{type:String},start:{type:Number},stop:{type:Number},gene_name:{type:String},filters:{type:Array,default:function(){return[{title:"Quality",text:"PASS",tabulator_filter:{field:"filter",type:"=",value:"PASS"}}]}}},computed:{gene_view:function(){return null!=this.gene_name}},data:function(){return{dimensions:{width:300,margin:{left:40,right:15,top:12,bottom:5}},region:{regionChrom:this.chrom,regionStart:this.start,regionStop:this.stop,gene:null,introns:!0,segments:{region:[this.start,this.stop],plot:[0,300]}},activeFilters:JSON.parse(JSON.stringify(this.filters)),filterSuggestions:{},showSummaries:!0,showDepth:!0,showGenes:null==this.gene_name,showGene:null!=this.gene_name,showSNV:!0,showMenuDropDown:!1,showIntrons:!0,panelsIcon:y,columnsIcon:d,hideIntronsIcon:f,showIntronsIcon:p,downloadIcon:h,hoveredVariant:{index:null,data:null,hovered:null},visibleVariants:{start_index:null,stop_index:null,data:null},showTableMenuDropDown:!1,showColumnVariantID:!0,showColumnRsID:!0,showColumnConsequence:!0,showColumnAnnotation:!0,showColumnLOFTEE:!0,showColumnQuality:!0,showColumnCADD:!0,showColumnNAlleles:!1,showColumnHet:!0,showColumHomAlt:!0,showColumnFrequency:!0,download:0}},methods:{unwindGeneExons:function(t){t.exons=[],t.cds=[],t.coding_regions=[],t.features.sort((function(t,e){return t.start-e.start})),t.features.forEach((function(e){"exon"==e.feature_type?(e.transcript_type=t.transcripts.find((function(t){return t.transcript_id==e.transcript_id})).transcript_type,t.exons.push(e)):"CDS"==e.feature_type&&(e.transcript_type=t.transcripts.find((function(t){return t.transcript_id==e.transcript_id})).transcript_type,t.cds.push(e))})),t.exons.forEach((function(e){if(0==t.coding_regions.length)t.coding_regions.push([e.start,e.stop]);else{var n=t.coding_regions[t.coding_regions.length-1];n[1]>=e.start?n[1]<e.stop&&(n[1]=e.stop):t.coding_regions.push([e.start,e.stop])}}))},domain2range:function(t){var e=this;if(t)this.region.introns=!0,this.region.segments={region:[this.region.regionStart,this.region.regionStop],plot:[0,this.dimensions.width-this.dimensions.margin.left-this.dimensions.margin.right]};else{var n=5,o=this.dimensions.width-this.dimensions.margin.left-this.dimensions.margin.right-(this.region.gene.coding_regions.length-1)*n,i=this.region.gene.coding_regions.reduce((function(t,e){return t+e[1]-e[0]+1}),0),r=[],a=[];this.region.gene.coding_regions.forEach((function(t,s){r.push(t[0]),r.push(t[1]),0==s?(a.push(0),a.push(Math.floor(o*(t[1]-t[0])/i))):s==e.region.gene.coding_regions.length-1?(a.push(a[a.length-1]+n),a.push(e.dimensions.width-e.dimensions.margin.left-e.dimensions.margin.right)):(a.push(a[a.length-1]+n),a.push(a[a.length-1]+Math.floor(o*(t[1]-t[0])/i)))})),this.region.introns=!1,this.region.segments={region:r,plot:a}}},loadGene:function(){var t=this;s.a.get("".concat(this.api,"genes/api/").concat(this.gene_name)).then((function(e){var n=e.data;n.data.length>0&&n.data.forEach((function(e){e.gene_name!=t.gene_name&&e.gene_id!=t.gene_name||(t.unwindGeneExons(e),t.region={regionChrom:e.chrom,regionStart:e.start,regionStop:e.stop,gene:e,introns:!0,segments:{region:[e.start,e.stop],plot:[0,t.dimensions.width-t.dimensions.margin.left-t.dimensions.margin.right]}})}))}))},toggleIntrons:function(){this.domain2range(!this.showIntrons),this.showIntrons=!this.showIntrons},onResize:function(){this.dimensions.width=this.$el.clientWidth,this.gene_view?this.domain2range(this.showIntrons):this.region.segments.plot=[0,this.dimensions.width-this.dimensions.margin.left-this.dimensions.margin.right]},redirectToRegion:function(t,e,n){window.location.href=this.homepage+"region/snv/".concat(t,"-").concat(e,"-").concat(n)},genesClick:function(t){window.location.href=this.homepage+"gene/snv/".concat(t.gene_id)},variantsScroll:function(t,e,n){this.visibleVariants={start_index:t,stop_index:e,data:n}},variantHover:function(t,e,n){this.hoveredVariant={index:t,data:e,hovered:n}},onFilterSuggestionsChange:function(t){this.filterSuggestions=t},onFilterChange:function(t){this.activeFilters=t}},beforeCreate:function(){},created:function(){},mounted:function(){this.dimensions.width=this.$el.clientWidth,this.gene_view?this.loadGene():this.region.segments.plot=[0,this.dimensions.width-this.dimensions.margin.left-this.dimensions.margin.right],window.addEventListener("resize",this.onResize)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)}},Ad=Fd,Pd=(n("4c2c"),Eu(Ad,i,r,!1,null,"a45c1668",null)),zd=Pd.exports;e["default"]=zd},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},fea2:function(t,e,n){"use strict";var o=n("5f65"),i=n.n(o);i.a}})["default"]}));
//# sourceMappingURL=bravoregion.umd.min.js.map